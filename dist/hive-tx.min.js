/*! For license information please see hive-tx.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("axios")):"function"==typeof define&&define.amd?define(["axios"],e):"object"==typeof exports?exports.hiveTx=e(require("axios")):t.hiveTx=e(t.axios)}(this,t=>(()=>{"use strict";var e={22:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.polyval=e.ghash=void 0,e._toGHASHKey=c;const n=r(527),o=16,i=new Uint8Array(16),s=(0,n.u32)(i),a=(t,e,r,n)=>({s3:r<<31|n>>>1,s2:e<<31|r>>>1,s1:t<<31|e>>>1,s0:t>>>1^225<<24&-(1&n)}),f=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255;function c(t){t.reverse();const e=1&t[15];let r=0;for(let e=0;e<t.length;e++){const n=t[e];t[e]=n>>>1|r,r=(1&n)<<7}return t[0]^=225&-e,t}class u{constructor(t,e){this.blockLen=o,this.outputLen=o,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=(0,n.toBytes)(t),(0,n.abytes)(t,16);const r=(0,n.createView)(t);let i=r.getUint32(0,!1),s=r.getUint32(4,!1),c=r.getUint32(8,!1),u=r.getUint32(12,!1);const l=[];for(let t=0;t<128;t++)l.push({s0:f(i),s1:f(s),s2:f(c),s3:f(u)}),({s0:i,s1:s,s2:c,s3:u}=a(i,s,c,u));const h=(d=e||1024)>65536?8:d>1024?4:2;var d;if(![1,2,4,8].includes(h))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=h;const y=128/h,g=this.windowSize=2**h,p=[];for(let t=0;t<y;t++)for(let e=0;e<g;e++){let r=0,n=0,o=0,i=0;for(let s=0;s<h;s++){if(!(e>>>h-s-1&1))continue;const{s0:a,s1:f,s2:c,s3:u}=l[h*t+s];r^=a,n^=f,o^=c,i^=u}p.push({s0:r,s1:n,s2:o,s3:i})}this.t=p}_updateBlock(t,e,r,n){t^=this.s0,e^=this.s1,r^=this.s2,n^=this.s3;const{W:o,t:i,windowSize:s}=this;let a=0,f=0,c=0,u=0;const l=(1<<o)-1;let h=0;for(const d of[t,e,r,n])for(let t=0;t<4;t++){const e=d>>>8*t&255;for(let t=8/o-1;t>=0;t--){const r=e>>>o*t&l,{s0:n,s1:d,s2:y,s3:g}=i[h*s+r];a^=n,f^=d,c^=y,u^=g,h+=1}}this.s0=a,this.s1=f,this.s2=c,this.s3=u}update(t){(0,n.aexists)(this),t=(0,n.toBytes)(t),(0,n.abytes)(t);const e=(0,n.u32)(t),r=Math.floor(t.length/o),a=t.length%o;for(let t=0;t<r;t++)this._updateBlock(e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]);return a&&(i.set(t.subarray(r*o)),this._updateBlock(s[0],s[1],s[2],s[3]),(0,n.clean)(s)),this}destroy(){const{t}=this;for(const e of t)e.s0=0,e.s1=0,e.s2=0,e.s3=0}digestInto(t){(0,n.aexists)(this),(0,n.aoutput)(t,this),this.finished=!0;const{s0:e,s1:r,s2:o,s3:i}=this,s=(0,n.u32)(t);return s[0]=e,s[1]=r,s[2]=o,s[3]=i,t}digest(){const t=new Uint8Array(o);return this.digestInto(t),this.destroy(),t}}class l extends u{constructor(t,e){t=(0,n.toBytes)(t),(0,n.abytes)(t);const r=c((0,n.copyBytes)(t));super(r,e),(0,n.clean)(r)}update(t){t=(0,n.toBytes)(t),(0,n.aexists)(this);const e=(0,n.u32)(t),r=t.length%o,a=Math.floor(t.length/o);for(let t=0;t<a;t++)this._updateBlock(f(e[4*t+3]),f(e[4*t+2]),f(e[4*t+1]),f(e[4*t+0]));return r&&(i.set(t.subarray(a*o)),this._updateBlock(f(s[3]),f(s[2]),f(s[1]),f(s[0])),(0,n.clean)(s)),this}digestInto(t){(0,n.aexists)(this),(0,n.aoutput)(t,this),this.finished=!0;const{s0:e,s1:r,s2:o,s3:i}=this,s=(0,n.u32)(t);return s[0]=e,s[1]=r,s[2]=o,s[3]=i,t.reverse()}}function h(t){const e=(e,r)=>t(r,e.length).update((0,n.toBytes)(e)).digest(),r=t(new Uint8Array(16),0);return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=(e,r)=>t(e,r),e}e.ghash=h((t,e)=>new u(t,e)),e.polyval=h((t,e)=>new l(t,e))},76:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sha512_224=e.sha512_256=e.sha384=e.sha512=e.sha224=e.sha256=e.SHA512_256=e.SHA512_224=e.SHA384=e.SHA512=e.SHA224=e.SHA256=void 0;const n=r(202),o=r(318),i=r(175),s=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array(64);class f extends n.HashMD{constructor(t=32){super(64,t,8,!1),this.A=0|n.SHA256_IV[0],this.B=0|n.SHA256_IV[1],this.C=0|n.SHA256_IV[2],this.D=0|n.SHA256_IV[3],this.E=0|n.SHA256_IV[4],this.F=0|n.SHA256_IV[5],this.G=0|n.SHA256_IV[6],this.H=0|n.SHA256_IV[7]}get(){const{A:t,B:e,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[t,e,r,n,o,i,s,a]}set(t,e,r,n,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)a[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=a[t-15],r=a[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[t]=o+a[t-7]+n+a[t-16]|0}let{A:r,B:o,C:f,D:c,E:u,F:l,G:h,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+(0,n.Chi)(u,l,h)+s[t]+a[t]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,o,f)|0;d=h,h=l,l=u,u=c+e|0,c=f,f=o,o=r,r=e+y|0}r=r+this.A|0,o=o+this.B|0,f=f+this.C|0,c=c+this.D|0,u=u+this.E|0,l=l+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,o,f,c,u,l,h,d)}roundClean(){(0,i.clean)(a)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,i.clean)(this.buffer)}}e.SHA256=f;class c extends f{constructor(){super(28),this.A=0|n.SHA224_IV[0],this.B=0|n.SHA224_IV[1],this.C=0|n.SHA224_IV[2],this.D=0|n.SHA224_IV[3],this.E=0|n.SHA224_IV[4],this.F=0|n.SHA224_IV[5],this.G=0|n.SHA224_IV[6],this.H=0|n.SHA224_IV[7]}}e.SHA224=c;const u=(()=>o.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),l=(()=>u[0])(),h=(()=>u[1])(),d=new Uint32Array(80),y=new Uint32Array(80);class g extends n.HashMD{constructor(t=64){super(128,t,16,!1),this.Ah=0|n.SHA512_IV[0],this.Al=0|n.SHA512_IV[1],this.Bh=0|n.SHA512_IV[2],this.Bl=0|n.SHA512_IV[3],this.Ch=0|n.SHA512_IV[4],this.Cl=0|n.SHA512_IV[5],this.Dh=0|n.SHA512_IV[6],this.Dl=0|n.SHA512_IV[7],this.Eh=0|n.SHA512_IV[8],this.El=0|n.SHA512_IV[9],this.Fh=0|n.SHA512_IV[10],this.Fl=0|n.SHA512_IV[11],this.Gh=0|n.SHA512_IV[12],this.Gl=0|n.SHA512_IV[13],this.Hh=0|n.SHA512_IV[14],this.Hl=0|n.SHA512_IV[15]}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:o,Cl:i,Dh:s,Dl:a,Eh:f,El:c,Fh:u,Fl:l,Gh:h,Gl:d,Hh:y,Hl:g}=this;return[t,e,r,n,o,i,s,a,f,c,u,l,h,d,y,g]}set(t,e,r,n,o,i,s,a,f,c,u,l,h,d,y,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|f,this.El=0|c,this.Fh=0|u,this.Fl=0|l,this.Gh=0|h,this.Gl=0|d,this.Hh=0|y,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)d[r]=t.getUint32(e),y[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|d[t-15],r=0|y[t-15],n=o.rotrSH(e,r,1)^o.rotrSH(e,r,8)^o.shrSH(e,r,7),i=o.rotrSL(e,r,1)^o.rotrSL(e,r,8)^o.shrSL(e,r,7),s=0|d[t-2],a=0|y[t-2],f=o.rotrSH(s,a,19)^o.rotrBH(s,a,61)^o.shrSH(s,a,6),c=o.rotrSL(s,a,19)^o.rotrBL(s,a,61)^o.shrSL(s,a,6),u=o.add4L(i,c,y[t-7],y[t-16]),l=o.add4H(u,n,f,d[t-7],d[t-16]);d[t]=0|l,y[t]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:f,Dh:c,Dl:u,Eh:g,El:p,Fh:b,Fl:w,Gh:m,Gl:_,Hh:E,Hl:v}=this;for(let t=0;t<80;t++){const e=o.rotrSH(g,p,14)^o.rotrSH(g,p,18)^o.rotrBH(g,p,41),B=o.rotrSL(g,p,14)^o.rotrSL(g,p,18)^o.rotrBL(g,p,41),A=g&b^~g&m,x=p&w^~p&_,I=o.add5L(v,B,x,h[t],y[t]),S=o.add5H(I,E,e,A,l[t],d[t]),T=0|I,U=o.rotrSH(r,n,28)^o.rotrBH(r,n,34)^o.rotrBH(r,n,39),L=o.rotrSL(r,n,28)^o.rotrBL(r,n,34)^o.rotrBL(r,n,39),O=r&i^r&a^i&a,H=n&s^n&f^s&f;E=0|m,v=0|_,m=0|b,_=0|w,b=0|g,w=0|p,({h:g,l:p}=o.add(0|c,0|u,0|S,0|T)),c=0|a,u=0|f,a=0|i,f=0|s,i=0|r,s=0|n;const k=o.add3L(T,L,H);r=o.add3H(k,S,U,O),n=0|k}({h:r,l:n}=o.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=o.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:f}=o.add(0|this.Ch,0|this.Cl,0|a,0|f)),({h:c,l:u}=o.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:g,l:p}=o.add(0|this.Eh,0|this.El,0|g,0|p)),({h:b,l:w}=o.add(0|this.Fh,0|this.Fl,0|b,0|w)),({h:m,l:_}=o.add(0|this.Gh,0|this.Gl,0|m,0|_)),({h:E,l:v}=o.add(0|this.Hh,0|this.Hl,0|E,0|v)),this.set(r,n,i,s,a,f,c,u,g,p,b,w,m,_,E,v)}roundClean(){(0,i.clean)(d,y)}destroy(){(0,i.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.SHA512=g;class p extends g{constructor(){super(48),this.Ah=0|n.SHA384_IV[0],this.Al=0|n.SHA384_IV[1],this.Bh=0|n.SHA384_IV[2],this.Bl=0|n.SHA384_IV[3],this.Ch=0|n.SHA384_IV[4],this.Cl=0|n.SHA384_IV[5],this.Dh=0|n.SHA384_IV[6],this.Dl=0|n.SHA384_IV[7],this.Eh=0|n.SHA384_IV[8],this.El=0|n.SHA384_IV[9],this.Fh=0|n.SHA384_IV[10],this.Fl=0|n.SHA384_IV[11],this.Gh=0|n.SHA384_IV[12],this.Gl=0|n.SHA384_IV[13],this.Hh=0|n.SHA384_IV[14],this.Hl=0|n.SHA384_IV[15]}}e.SHA384=p;const b=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),w=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class m extends g{constructor(){super(28),this.Ah=0|b[0],this.Al=0|b[1],this.Bh=0|b[2],this.Bl=0|b[3],this.Ch=0|b[4],this.Cl=0|b[5],this.Dh=0|b[6],this.Dl=0|b[7],this.Eh=0|b[8],this.El=0|b[9],this.Fh=0|b[10],this.Fl=0|b[11],this.Gh=0|b[12],this.Gl=0|b[13],this.Hh=0|b[14],this.Hl=0|b[15]}}e.SHA512_224=m;class _ extends g{constructor(){super(32),this.Ah=0|w[0],this.Al=0|w[1],this.Bh=0|w[2],this.Bl=0|w[3],this.Ch=0|w[4],this.Cl=0|w[5],this.Dh=0|w[6],this.Dl=0|w[7],this.Eh=0|w[8],this.El=0|w[9],this.Fh=0|w[10],this.Fl=0|w[11],this.Gh=0|w[12],this.Gl=0|w[13],this.Hh=0|w[14],this.Hl=0|w[15]}}e.SHA512_256=_,e.sha256=(0,i.createHasher)(()=>new f),e.sha224=(0,i.createHasher)(()=>new c),e.sha512=(0,i.createHasher)(()=>new g),e.sha384=(0,i.createHasher)(()=>new p),e.sha512_256=(0,i.createHasher)(()=>new _),e.sha512_224=(0,i.createHasher)(()=>new m)},80:function(t,e,r){var n,o=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(n=function(t){return n=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},n(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r=n(t),s=0;s<r.length;s++)"default"!==r[s]&&o(e,t,r[s]);return i(e,t),e}),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Memo=void 0;const f=a(r(957)),c=r(558),u=r(978),l=r(408),h=s(r(143)),d=r(340),y=r(142),g=async(t,e,r,n)=>{if(!r.startsWith("#"))return r;r=r.substring(1),await w(),t=m(t),e=_(e);const o=new c.ByteBuffer(c.ByteBuffer.DEFAULT_CAPACITY,c.ByteBuffer.LITTLE_ENDIAN);o.writeVString(r);const i=new Uint8Array(o.copy(0,o.offset).toBuffer()),{nonce:s,message:a,checksum:l}=await h.encrypt(t,e,i,n),d=new c.ByteBuffer(c.ByteBuffer.DEFAULT_CAPACITY,c.ByteBuffer.LITTLE_ENDIAN);u.Serializer.Memo(d,{check:l,encrypted:a,from:t.createPublic(),nonce:s,to:e}),d.flip();const y=new Uint8Array(d.toBuffer());return"#"+f.default.encode(y)},p=async(t,e)=>{if(!e.startsWith("#"))return e;e=e.substring(1),await w(),t=m(t);let r=y.Deserializer.Memo(f.default.decode(e));const{from:n,to:o,nonce:i,check:s,encrypted:a}=r,u=t.createPublic().toString()===new d.PublicKey(n.key).toString()?new d.PublicKey(o.key):new d.PublicKey(n.key);r=await h.decrypt(t,u,i,a,s);const l=new c.ByteBuffer(c.ByteBuffer.DEFAULT_CAPACITY,c.ByteBuffer.LITTLE_ENDIAN);return l.append(r),l.flip(),"#"+l.readVString()};let b;const w=async()=>{if(void 0===b){let t;b=!0;try{const e="5JdeC9P7Pbd1uGdFVEsJ41EkEnADbbHGq6p1BwFxm6txNBsQnsw",r="STM8m5UgaFAAYQRuaNejYdS8FVLVp9Ss3K1qAVk5de6F8s3HnVbvA",n=await g(e,r,"#memo爱");t=await p(e,n)}finally{b="#memo爱"===t}}if(!1===b)throw new Error("This environment does not support encryption.")},m=t=>"string"==typeof t?l.PrivateKey.fromString(t):t,_=t=>"string"==typeof t?d.PublicKey.fromString(t):t;e.Memo={decode:p,encode:g}},102:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sha512_256=e.SHA512_256=e.sha512_224=e.SHA512_224=e.sha384=e.SHA384=e.sha512=e.SHA512=void 0;const n=r(76);e.SHA512=n.SHA512,e.sha512=n.sha512,e.SHA384=n.SHA384,e.sha384=n.sha384,e.SHA512_224=n.SHA512_224,e.sha512_224=n.sha512_224,e.SHA512_256=n.SHA512_256,e.sha512_256=n.sha512_256},126:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Signature=void 0;const n=r(340),o=r(510),i=r(783);class s{constructor(t,e,r){this.data=t,this.recovery=e,this.compressed=r??!0}static from(t){if("string"==typeof t){const e=(0,i.hexToUint8Array)(t);let r=parseInt((0,i.uint8ArrayToHex)(e.subarray(0,1)),16)-31,n=!0;r<0&&(n=!1,r+=4);const o=e.subarray(1);return new s(o,r,n)}throw new Error("Expected string for data")}toBuffer(){const t=new Uint8Array(65).fill(0);return this.compressed?t[0]=this.recovery+31&255:t[0]=this.recovery+27&255,t.set(this.data,1),t}customToString(){return(0,i.uint8ArrayToHex)(this.toBuffer())}getPublicKey(t){if(t instanceof Uint8Array&&32!==t.length||"string"==typeof t&&64!==t.length)throw new Error("Expected a valid sha256 hash as message");const e=o.secp256k1.Signature.fromCompact(this.data),r=new o.secp256k1.Signature(e.r,e.s,this.recovery);return new n.PublicKey(r.recoverPublicKey(t).toRawBytes())}}e.Signature=s},142:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Deserializer=void 0;const n=r(558),o=r(340),i=t=>{const e=function(t){if(t){t.flip();const e=t.copy(t.offset,t.offset+33);return t.skip(33),new Uint8Array(e.toBuffer())}throw Error("No buffer found on first parameter")}(t);return new o.PublicKey(e)},s=(a=[["from",i],["to",i],["nonce",t=>(t.flip(),t.readUint64())],["check",t=>(t.flip(),t.readUint32())],["encrypted",t=>{t.flip();const e=t.readVarint32(),r=t.copy(t.offset,t.offset+e);return t.skip(e),new Uint8Array(r.toBuffer())}]],t=>{const e={};for(const[r,o]of a)try{t=new n.ByteBuffer(n.ByteBuffer.DEFAULT_CAPACITY,n.ByteBuffer.LITTLE_ENDIAN).append(t),e[r]=o(t)}catch(t){throw t.message=`${r}: ${t.message}`,t}return e});var a;e.Deserializer={Memo:s}},143:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoJsEncrypt=e.decrypt=e.encrypt=void 0;const n=r(558),o=r(703),i=r(469),s=r(510);e.encrypt=(t,e,r,n=u())=>a(t,e,n,r),e.decrypt=async(t,e,r,n,o)=>(await a(t,e,r,n,o)).message;const a=async(t,r,i,s,a)=>{const c=i instanceof BigInt?i:BigInt(i),u=t.getSharedSecret(r);let l=new n.ByteBuffer(n.ByteBuffer.DEFAULT_CAPACITY,n.ByteBuffer.LITTLE_ENDIAN);l.writeUint64(c),l.append(u),l.flip(),l=new Uint8Array(l.toBuffer());const h=(0,o.sha512)(l),d=h.subarray(32,48),y=h.subarray(0,32),g=(0,o.sha256)(h).subarray(0,4),p=new n.ByteBuffer(n.ByteBuffer.DEFAULT_CAPACITY,n.ByteBuffer.LITTLE_ENDIAN);p.append(g),p.flip();const b=p.readUint32();if(a){if(b!==a)throw new Error("Invalid key");s=await f(s,y,d)}else s=await(0,e.cryptoJsEncrypt)(s,y,d);return{nonce:c,message:s,checksum:b}},f=async(t,e,r)=>{let n=t;const o=(0,i.cbc)(e,r);return n=await o.decrypt(n),n};e.cryptoJsEncrypt=async(t,e,r)=>{let n=t;const o=(0,i.cbc)(e,r);return n=await o.encrypt(n),n};let c=null;const u=()=>{if(null===c){const t=new Uint8Array(2);for(let e=0;e<2;++e)t[e]=s.secp256k1.utils.randomPrivateKey()[e];c=Math.round(t[0]<<8|t[1])}let t=BigInt(Date.now());const e=++c%65535;return t=t<<BigInt(16)|BigInt(e),t}},145:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},152:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Asset=void 0;class r{constructor(t,e){this.amount=t,this.symbol="HIVE"===e?"STEEM":"HBD"===e?"SBD":e}static fromString(t,e=null){const[n,o]=t.split(" ");if(-1===["STEEM","VESTS","SBD","TESTS","TBD","HIVE","HBD"].indexOf(o))throw new Error(`Invalid asset symbol: ${o}`);if(e&&o!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${o}`);const i=Number.parseFloat(n);if(!Number.isFinite(i))throw new Error(`Invalid asset amount: ${n}`);return new r(i,o)}static from(t,e){if(t instanceof r){if(e&&t.symbol!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${t.symbol}`);return t}if("number"==typeof t&&Number.isFinite(t))return new r(t,e||"STEEM");if("string"==typeof t)return r.fromString(t,e);throw new Error(`Invalid asset '${String(t)}'`)}getPrecision(){switch(this.symbol){case"TESTS":case"TBD":case"STEEM":case"SBD":case"HBD":case"HIVE":return 3;case"VESTS":return 6}}toString(){return`${this.amount.toFixed(this.getPrecision())} ${this.symbol}`}toJSON(){return this.toString()}}e.Asset=r},175:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.Hash=e.nextTick=e.swap32IfBE=e.byteSwapIfBE=e.swap8IfBE=e.isLE=void 0,e.isBytes=o,e.anumber=i,e.abytes=s,e.ahash=function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");i(t.outputLen),i(t.blockLen)},e.aexists=function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},e.aoutput=function(t,e){s(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)},e.u8=function(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},e.u32=function(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))},e.clean=function(...t){for(let e=0;e<t.length;e++)t[e].fill(0)},e.createView=function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)},e.rotr=function(t,e){return t<<32-e|t>>>e},e.rotl=function(t,e){return t<<e|t>>>32-e>>>0},e.byteSwap=a,e.byteSwap32=f,e.bytesToHex=function(t){if(s(t),c)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=u[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(c)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,o=0;e<r;e++,o+=2){const r=h(t.charCodeAt(o)),i=h(t.charCodeAt(o+1));if(void 0===r||void 0===i){const e=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+o)}n[e]=16*r+i}return n},e.asyncLoop=async function(t,r,n){let o=Date.now();for(let i=0;i<t;i++){n(i);const t=Date.now()-o;t>=0&&t<r||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=d,e.bytesToUtf8=function(t){return(new TextDecoder).decode(t)},e.toBytes=y,e.kdfInputToBytes=function(t){return"string"==typeof t&&(t=d(t)),s(t),t},e.concatBytes=function(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];s(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const o=t[e];r.set(o,n),n+=o.length}return r},e.checkOpts=function(t,e){if(void 0!==e&&"[object Object]"!=={}.toString.call(e))throw new Error("options should be object or undefined");return Object.assign(t,e)},e.createHasher=g,e.createOptHasher=p,e.createXOFer=b,e.randomBytes=function(t=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(t));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")};const n=r(145);function o(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function i(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function s(t,...e){if(!o(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function a(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function f(t){for(let e=0;e<t.length;e++)t[e]=a(t[e]);return t}e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.swap8IfBE=e.isLE?t=>t:t=>a(t),e.byteSwapIfBE=e.swap8IfBE,e.swap32IfBE=e.isLE?t=>t:f;const c=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),u=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),l={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(t){return t>=l._0&&t<=l._9?t-l._0:t>=l.A&&t<=l.F?t-(l.A-10):t>=l.a&&t<=l.f?t-(l.a-10):void 0}function d(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}function y(t){return"string"==typeof t&&(t=d(t)),s(t),t}function g(t){const e=e=>t().update(y(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function p(t){const e=(e,r)=>t(r).update(y(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}function b(t){const e=(e,r)=>t(r).update(y(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}e.nextTick=async()=>{},e.Hash=class{},e.wrapConstructor=g,e.wrapConstructorWithOpts=p,e.wrapXOFConstructorWithOpts=b},202:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SHA512_IV=e.SHA384_IV=e.SHA224_IV=e.SHA256_IV=e.HashMD=void 0,e.setBigUint64=o,e.Chi=function(t,e,r){return t&e^~t&r},e.Maj=function(t,e,r){return t&e^t&r^e&r};const n=r(175);function o(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,a,n)}class i extends n.Hash{constructor(t,e,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=(0,n.createView)(this.buffer)}update(t){(0,n.aexists)(this),t=(0,n.toBytes)(t),(0,n.abytes)(t);const{view:e,buffer:r,blockLen:o}=this,i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const e=(0,n.createView)(t);for(;o<=i-s;s+=o)this.process(e,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.aexists)(this),(0,n.aoutput)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;e[a++]=128,(0,n.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let t=a;t<i;t++)e[t]=0;o(r,i-8,BigInt(8*this.length),s),this.process(r,0);const f=(0,n.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)f.setUint32(4*t,l[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return t.destroyed=i,t.finished=o,t.length=n,t.pos=s,n%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}e.HashMD=i,e.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),e.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),e.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])},206:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={node:["https://api.hive.blog","https://api.deathwing.me","https://rpc.mahdiyari.info","https://techcoderx.com","https://hiveapi.actifit.io","https://hive-api.dlux.io","https://hive-api.arcange.eu","https://api.c0ff33a.uk"],chain_id:"beeab0de00000000000000000000000000000000000000000000000000000000",address_prefix:"STM",axiosAdapter:null,timeout:5,retry:5,healthcheckInterval:3e4}},238:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.RIPEMD160=void 0;const n=r(839);e.RIPEMD160=n.RIPEMD160,e.ripemd160=n.ripemd160},307:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HexBuffer=void 0;const n=r(783);class o{static from(t){return t instanceof o?t:t instanceof Uint8Array?new o(t):new o("string"==typeof t?(0,n.hexToUint8Array)(t):new Uint8Array(t))}constructor(t){this.buffer=t}toString(t="hex"){return(0,n.uint8ArrayToHex)(this.buffer)}toJSON(){return this.toString()}}e.HexBuffer=o},318:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toBig=e.shrSL=e.shrSH=e.rotrSL=e.rotrSH=e.rotrBL=e.rotrBH=e.rotr32L=e.rotr32H=e.rotlSL=e.rotlSH=e.rotlBL=e.rotlBH=e.add5L=e.add5H=e.add4L=e.add4H=e.add3L=e.add3H=void 0,e.add=m,e.fromBig=o,e.split=i;const r=BigInt(2**32-1),n=BigInt(32);function o(t,e=!1){return e?{h:Number(t&r),l:Number(t>>n&r)}:{h:0|Number(t>>n&r),l:0|Number(t&r)}}function i(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:r,l:a}=o(t[s],e);[n[s],i[s]]=[r,a]}return[n,i]}const s=(t,e)=>BigInt(t>>>0)<<n|BigInt(e>>>0);e.toBig=s;const a=(t,e,r)=>t>>>r;e.shrSH=a;const f=(t,e,r)=>t<<32-r|e>>>r;e.shrSL=f;const c=(t,e,r)=>t>>>r|e<<32-r;e.rotrSH=c;const u=(t,e,r)=>t<<32-r|e>>>r;e.rotrSL=u;const l=(t,e,r)=>t<<64-r|e>>>r-32;e.rotrBH=l;const h=(t,e,r)=>t>>>r-32|e<<64-r;e.rotrBL=h;const d=(t,e)=>e;e.rotr32H=d;const y=(t,e)=>t;e.rotr32L=y;const g=(t,e,r)=>t<<r|e>>>32-r;e.rotlSH=g;const p=(t,e,r)=>e<<r|t>>>32-r;e.rotlSL=p;const b=(t,e,r)=>e<<r-32|t>>>64-r;e.rotlBH=b;const w=(t,e,r)=>t<<r-32|e>>>64-r;function m(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:0|o}}e.rotlBL=w;const _=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);e.add3L=_;const E=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;e.add3H=E;const v=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);e.add4L=v;const B=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0;e.add4H=B;const A=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0);e.add5L=A;const x=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;e.add5H=x;const I={fromBig:o,split:i,toBig:s,shrSH:a,shrSL:f,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:h,rotr32H:d,rotr32L:y,rotlSH:g,rotlSL:p,rotlBH:b,rotlBL:w,add:m,add3L:_,add3H:E,add4L:v,add4H:B,add5H:x,add5L:A};e.default=I},340:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=void 0;const o=r(703),i=n(r(957)),s=r(206),a=r(510),f=s.config.address_prefix;class c{constructor(t,e){this.key=t,this.prefix=e??f}static fromString(t){const{key:e,prefix:r}=l(t);return new c(e,r)}static from(t){return t instanceof c?t:c.fromString(t)}verify(t,e){return a.secp256k1.verify(e.data,t,this.key)}toString(){return u(this.key,this.prefix)}toJSON(){return this.toString()}inspect(){return`PublicKey: ${this.toString()}`}}e.PublicKey=c;const u=(t,e)=>{const r=(0,o.ripemd160)(t);return e+i.default.encode(new Uint8Array([...t,...r.subarray(0,4)]))},l=t=>{const e=t.slice(0,3);t=t.slice(3);const r=i.default.decode(t);return{key:r.subarray(0,r.length-4),prefix:e}}},408:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrivateKey=void 0;const o=n(r(957)),i=r(510),s=r(206),a=r(703),f=r(340),c=r(126),u=new Uint8Array([128]);s.config.address_prefix;class l{constructor(t){this.key=t;try{i.secp256k1.getPublicKey(t)}catch(t){throw new Error("invalid private key")}}static from(t){return"string"==typeof t?l.fromString(t):new l(t)}static fromString(t){return new l(d(t).subarray(1))}static fromSeed(t){return new l((0,a.sha256)(t))}static fromLogin(t,e,r="active"){const n=t+r+e;return l.fromSeed(n)}sign(t){const e=i.secp256k1.sign(t,this.key,{extraEntropy:!0,lowS:!0});return c.Signature.from((e.recovery+31).toString(16)+e.toCompactHex())}createPublic(t){return new f.PublicKey(i.secp256k1.getPublicKey(this.key),t)}toString(){return h(new Uint8Array([...u,...this.key]))}inspect(){const t=this.toString();return`PrivateKey: ${t.slice(0,6)}...${t.slice(-6)}`}getSharedSecret(t){const e=i.secp256k1.getSharedSecret(this.key,t.key);return(0,a.sha512)(e.subarray(1))}static randomKey(){return new l(i.secp256k1.utils.randomPrivateKey())}}e.PrivateKey=l;const h=t=>{const e=(r=t,(0,a.sha256)((0,a.sha256)(r)));var r;return o.default.encode(new Uint8Array([...t,...e.slice(0,4)]))},d=t=>o.default.decode(t).slice(0,-4)},422:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.wNAF=void 0,e.negateCt=a,e.normalizeZ=function(t,e){const r=(0,o.FpInvertBatch)(t.Fp,e.map(t=>t.Z));return e.map((e,n)=>t.fromAffine(e.toAffine(r[n])))},e.mulEndoUnsafe=function(t,e,r,n){let o=e,a=t.ZERO,f=t.ZERO;for(;r>i||n>i;)r&s&&(a=a.add(o)),n&s&&(f=f.add(o)),o=o.double(),r>>=s,n>>=s;return{p1:a,p2:f}},e.pippenger=function(t,e,r,o){l(r,t),h(o,e);const i=r.length,s=o.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,f=(0,n.bitLen)(BigInt(i));let c=1;f>12?c=f-3:f>4?c=f-2:f>0&&(c=2);const u=(0,n.bitMask)(c),d=new Array(Number(u)+1).fill(a);let y=a;for(let t=Math.floor((e.BITS-1)/c)*c;t>=0;t-=c){d.fill(a);for(let e=0;e<s;e++){const n=o[e],i=Number(n>>BigInt(t)&u);d[i]=d[i].add(r[e])}let e=a;for(let t=d.length-1,r=a;t>0;t--)r=r.add(d[t]),e=e.add(r);if(y=y.add(e),0!==t)for(let t=0;t<c;t++)y=y.double()}return y},e.precomputeMSMUnsafe=function(t,e,r,o){f(o,e.BITS),l(r,t);const i=t.ZERO,s=2**o-1,a=Math.ceil(e.BITS/o),c=(0,n.bitMask)(o),u=r.map(t=>{const e=[];for(let r=0,n=t;r<s;r++)e.push(n),n=n.add(t);return e});return t=>{if(h(t,e),t.length>r.length)throw new Error("array of scalars must be smaller than array of points");let n=i;for(let e=0;e<a;e++){if(n!==i)for(let t=0;t<o;t++)n=n.double();const r=BigInt(a*o-(e+1)*o);for(let e=0;e<t.length;e++){const o=t[e],i=Number(o>>r&c);i&&(n=n.add(u[e][i-1]))}}return n}},e.validateBasic=function(t){return(0,o.validateField)(t.Fp),(0,n.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,o.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})},e._createCurveFields=function(t,e,r={},n){if(void 0===n&&(n="edwards"===t),!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const t of["p","n","h"]){const r=e[t];if(!("bigint"==typeof r&&r>i))throw new Error(`CURVE.${t} must be positive bigint`)}const o=b(e.p,r.Fp,n),s=b(e.n,r.Fn,n),a=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const t of a)if(!o.isValid(e[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return{CURVE:e=Object.freeze(Object.assign({},e)),Fp:o,Fn:s}};const n=r(627),o=r(967),i=BigInt(0),s=BigInt(1);function a(t,e){const r=e.negate();return t?r:e}function f(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function c(t,e){f(t,e);const r=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:(0,n.bitMask)(t),maxNumber:r,shiftBy:BigInt(t)}}function u(t,e,r){const{windowSize:n,mask:o,maxNumber:i,shiftBy:a}=r;let f=Number(t&o),c=t>>a;f>n&&(f-=i,c+=s);const u=e*n;return{nextN:c,offset:u+Math.abs(f)-1,isZero:0===f,isNeg:f<0,isNegF:e%2!=0,offsetF:u}}function l(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function h(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const d=new WeakMap,y=new WeakMap;function g(t){return y.get(t)||1}function p(t){if(t!==i)throw new Error("invalid wNAF")}function b(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,o.validateField)(e),e}return(0,o.Field)(t,{isLE:r})}e.wNAF=class{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,r=this.ZERO){let n=t;for(;e>i;)e&s&&(r=r.add(n)),n=n.double(),e>>=s;return r}precomputeWindow(t,e){const{windows:r,windowSize:n}=c(e,this.bits),o=[];let i=t,s=i;for(let t=0;t<r;t++){s=i,o.push(s);for(let t=1;t<n;t++)s=s.add(i),o.push(s);i=s.double()}return o}wNAF(t,e,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,o=this.BASE;const i=c(t,this.bits);for(let t=0;t<i.windows;t++){const{nextN:s,offset:f,isZero:c,isNeg:l,isNegF:h,offsetF:d}=u(r,t,i);r=s,c?o=o.add(a(h,e[d])):n=n.add(a(l,e[f]))}return p(r),{p:n,f:o}}wNAFUnsafe(t,e,r,n=this.ZERO){const o=c(t,this.bits);for(let t=0;t<o.windows&&r!==i;t++){const{nextN:i,offset:s,isZero:a,isNeg:f}=u(r,t,o);if(r=i,!a){const t=e[s];n=n.add(f?t.negate():t)}}return p(r),n}getPrecomputes(t,e,r){let n=d.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&("function"==typeof r&&(n=r(n)),d.set(e,n))),n}cached(t,e,r){const n=g(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)}unsafe(t,e,r,n){const o=g(t);return 1===o?this._unsafeLadder(t,e,n):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),e,n)}createCache(t,e){f(e,this.bits),y.set(t,e),d.delete(t)}hasCache(t){return 1!==g(t)}}},469:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unsafe=e.aeskwp=e.aeskw=e.siv=e.gcmsiv=e.gcm=e.cfb=e.cbc=e.ecb=e.ctr=void 0;const n=r(22),o=r(527),i=16,s=new Uint8Array(i);function a(t){return t<<1^283&-(t>>7)}function f(t,e){let r=0;for(;e>0;e>>=1)r^=t&-(1&e),t=a(t);return r}const c=(()=>{const t=new Uint8Array(256);for(let e=0,r=1;e<256;e++,r^=a(r))t[e]=r;const e=new Uint8Array(256);e[0]=99;for(let r=0;r<255;r++){let n=t[255-r];n|=n<<8,e[t[r]]=255&(n^n>>4^n>>5^n>>6^n>>7^99)}return(0,o.clean)(t),e})(),u=c.map((t,e)=>c.indexOf(e)),l=t=>t<<24|t>>>8,h=t=>t<<8|t>>>24,d=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function y(t,e){if(256!==t.length)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((r,n)=>e(t[n])),n=r.map(h),o=n.map(h),i=o.map(h),s=new Uint32Array(65536),a=new Uint32Array(65536),f=new Uint16Array(65536);for(let e=0;e<256;e++)for(let c=0;c<256;c++){const u=256*e+c;s[u]=r[e]^n[c],a[u]=o[e]^i[c],f[u]=t[e]<<8|t[c]}return{sbox:t,sbox2:f,T0:r,T1:n,T2:o,T3:i,T01:s,T23:a}}const g=y(c,t=>f(t,3)<<24|t<<16|t<<8|f(t,2)),p=y(u,t=>f(t,11)<<24|f(t,13)<<16|f(t,9)<<8|f(t,14)),b=(()=>{const t=new Uint8Array(16);for(let e=0,r=1;e<16;e++,r=a(r))t[e]=r;return t})();function w(t){(0,o.abytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+e);const{sbox2:r}=g,n=[];(0,o.isAligned32)(t)||n.push(t=(0,o.copyBytes)(t));const i=(0,o.u32)(t),s=i.length,a=t=>E(r,t,t,t,t),f=new Uint32Array(e+28);f.set(i);for(let t=s;t<f.length;t++){let e=f[t-1];t%s===0?e=a(l(e))^b[t/s-1]:s>6&&t%s===4&&(e=a(e)),f[t]=f[t-s]^e}return(0,o.clean)(...n),f}function m(t){const e=w(t),r=e.slice(),n=e.length,{sbox2:i}=g,{T0:s,T1:a,T2:f,T3:c}=p;for(let t=0;t<n;t+=4)for(let o=0;o<4;o++)r[t+o]=e[n-t-4+o];(0,o.clean)(e);for(let t=4;t<n-4;t++){const e=r[t],n=E(i,e,e,e,e);r[t]=s[255&n]^a[n>>>8&255]^f[n>>>16&255]^c[n>>>24]}return r}function _(t,e,r,n,o,i){return t[r<<8&65280|n>>>8&255]^e[o>>>8&65280|i>>>24&255]}function E(t,e,r,n,o){return t[255&e|65280&r]|t[n>>>16&255|o>>>16&65280]<<16}function v(t,e,r,n,o){const{sbox2:i,T01:s,T23:a}=g;let f=0;e^=t[f++],r^=t[f++],n^=t[f++],o^=t[f++];const c=t.length/4-2;for(let i=0;i<c;i++){const i=t[f++]^_(s,a,e,r,n,o),c=t[f++]^_(s,a,r,n,o,e),u=t[f++]^_(s,a,n,o,e,r),l=t[f++]^_(s,a,o,e,r,n);e=i,r=c,n=u,o=l}return{s0:t[f++]^E(i,e,r,n,o),s1:t[f++]^E(i,r,n,o,e),s2:t[f++]^E(i,n,o,e,r),s3:t[f++]^E(i,o,e,r,n)}}function B(t,e,r,n,o){const{sbox2:i,T01:s,T23:a}=p;let f=0;e^=t[f++],r^=t[f++],n^=t[f++],o^=t[f++];const c=t.length/4-2;for(let i=0;i<c;i++){const i=t[f++]^_(s,a,e,o,n,r),c=t[f++]^_(s,a,r,e,o,n),u=t[f++]^_(s,a,n,r,e,o),l=t[f++]^_(s,a,o,n,r,e);e=i,r=c,n=u,o=l}return{s0:t[f++]^E(i,e,o,n,r),s1:t[f++]^E(i,r,e,o,n),s2:t[f++]^E(i,n,r,e,o),s3:t[f++]^E(i,o,n,r,e)}}function A(t,e,r,n){(0,o.abytes)(e,i),(0,o.abytes)(r);const s=r.length;n=(0,o.getOutput)(s,n),(0,o.complexOverlapBytes)(r,n);const a=e,f=(0,o.u32)(a);let{s0:c,s1:u,s2:l,s3:h}=v(t,f[0],f[1],f[2],f[3]);const d=(0,o.u32)(r),y=(0,o.u32)(n);for(let e=0;e+4<=d.length;e+=4){y[e+0]=d[e+0]^c,y[e+1]=d[e+1]^u,y[e+2]=d[e+2]^l,y[e+3]=d[e+3]^h;let r=1;for(let t=a.length-1;t>=0;t--)r=r+(255&a[t])|0,a[t]=255&r,r>>>=8;({s0:c,s1:u,s2:l,s3:h}=v(t,f[0],f[1],f[2],f[3]))}const g=i*Math.floor(d.length/4);if(g<s){const t=new Uint32Array([c,u,l,h]),e=(0,o.u8)(t);for(let t=g,o=0;t<s;t++,o++)n[t]=r[t]^e[o];(0,o.clean)(t)}return n}function x(t,e,r,n,s){(0,o.abytes)(r,i),(0,o.abytes)(n),s=(0,o.getOutput)(n.length,s);const a=r,f=(0,o.u32)(a),c=(0,o.createView)(a),u=(0,o.u32)(n),l=(0,o.u32)(s),h=e?0:12,d=n.length;let y=c.getUint32(h,e),{s0:g,s1:p,s2:b,s3:w}=v(t,f[0],f[1],f[2],f[3]);for(let r=0;r+4<=u.length;r+=4)l[r+0]=u[r+0]^g,l[r+1]=u[r+1]^p,l[r+2]=u[r+2]^b,l[r+3]=u[r+3]^w,y=y+1>>>0,c.setUint32(h,y,e),({s0:g,s1:p,s2:b,s3:w}=v(t,f[0],f[1],f[2],f[3]));const m=i*Math.floor(u.length/4);if(m<d){const t=new Uint32Array([g,p,b,w]),e=(0,o.u8)(t);for(let t=m,r=0;t<d;t++,r++)s[t]=n[t]^e[r];(0,o.clean)(t)}return s}function I(t){if((0,o.abytes)(t),t.length%i!==0)throw new Error("aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size 16")}function S(t,e,r){(0,o.abytes)(t);let n=t.length;const s=n%i;if(!e&&0!==s)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,o.isAligned32)(t)||(t=(0,o.copyBytes)(t));const a=(0,o.u32)(t);if(e){let t=i-s;t||(t=i),n+=t}return r=(0,o.getOutput)(n,r),(0,o.complexOverlapBytes)(t,r),{b:a,o:(0,o.u32)(r),out:r}}function T(t,e){if(!e)return t;const r=t.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const n=t[r-1];if(n<=0||n>16)throw new Error("aes/pcks5: wrong padding");const o=t.subarray(0,-n);for(let e=0;e<n;e++)if(t[r-e-1]!==n)throw new Error("aes/pcks5: wrong padding");return o}function U(t){const e=new Uint8Array(16),r=(0,o.u32)(e);e.set(t);const n=i-t.length;for(let t=i-n;t<i;t++)e[t]=n;return r}function L(t,e,r,n,i){const s=i?i.length:0,a=t.create(r,n.length+s);i&&a.update(i);const f=(0,o.u64Lengths)(8*n.length,8*s,e);a.update(n),a.update(f);const c=a.digest();return(0,o.clean)(f),c}e.ctr=(0,o.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function r(r,n){if((0,o.abytes)(r),void 0!==n&&((0,o.abytes)(n),!(0,o.isAligned32)(n)))throw new Error("unaligned destination");const i=w(t),s=(0,o.copyBytes)(e),a=[i,s];(0,o.isAligned32)(r)||a.push(r=(0,o.copyBytes)(r));const f=A(i,s,r,n);return(0,o.clean)(...a),f}return{encrypt:(t,e)=>r(t,e),decrypt:(t,e)=>r(t,e)}}),e.ecb=(0,o.wrapCipher)({blockSize:16},function(t,e={}){const r=!e.disablePadding;return{encrypt(e,n){const{b:i,o:s,out:a}=S(e,r,n),f=w(t);let c=0;for(;c+4<=i.length;){const{s0:t,s1:e,s2:r,s3:n}=v(f,i[c+0],i[c+1],i[c+2],i[c+3]);s[c++]=t,s[c++]=e,s[c++]=r,s[c++]=n}if(r){const t=U(e.subarray(4*c)),{s0:r,s1:n,s2:o,s3:i}=v(f,t[0],t[1],t[2],t[3]);s[c++]=r,s[c++]=n,s[c++]=o,s[c++]=i}return(0,o.clean)(f),a},decrypt(e,n){I(e);const i=m(t);n=(0,o.getOutput)(e.length,n);const s=[i];(0,o.isAligned32)(e)||s.push(e=(0,o.copyBytes)(e)),(0,o.complexOverlapBytes)(e,n);const a=(0,o.u32)(e),f=(0,o.u32)(n);for(let t=0;t+4<=a.length;){const{s0:e,s1:r,s2:n,s3:o}=B(i,a[t+0],a[t+1],a[t+2],a[t+3]);f[t++]=e,f[t++]=r,f[t++]=n,f[t++]=o}return(0,o.clean)(...s),T(n,r)}}}),e.cbc=(0,o.wrapCipher)({blockSize:16,nonceLength:16},function(t,e,r={}){const n=!r.disablePadding;return{encrypt(r,i){const s=w(t),{b:a,o:f,out:c}=S(r,n,i);let u=e;const l=[s];(0,o.isAligned32)(u)||l.push(u=(0,o.copyBytes)(u));const h=(0,o.u32)(u);let d=h[0],y=h[1],g=h[2],p=h[3],b=0;for(;b+4<=a.length;)d^=a[b+0],y^=a[b+1],g^=a[b+2],p^=a[b+3],({s0:d,s1:y,s2:g,s3:p}=v(s,d,y,g,p)),f[b++]=d,f[b++]=y,f[b++]=g,f[b++]=p;if(n){const t=U(r.subarray(4*b));d^=t[0],y^=t[1],g^=t[2],p^=t[3],({s0:d,s1:y,s2:g,s3:p}=v(s,d,y,g,p)),f[b++]=d,f[b++]=y,f[b++]=g,f[b++]=p}return(0,o.clean)(...l),c},decrypt(r,i){I(r);const s=m(t);let a=e;const f=[s];(0,o.isAligned32)(a)||f.push(a=(0,o.copyBytes)(a));const c=(0,o.u32)(a);i=(0,o.getOutput)(r.length,i),(0,o.isAligned32)(r)||f.push(r=(0,o.copyBytes)(r)),(0,o.complexOverlapBytes)(r,i);const u=(0,o.u32)(r),l=(0,o.u32)(i);let h=c[0],d=c[1],y=c[2],g=c[3];for(let t=0;t+4<=u.length;){const e=h,r=d,n=y,o=g;h=u[t+0],d=u[t+1],y=u[t+2],g=u[t+3];const{s0:i,s1:a,s2:f,s3:c}=B(s,h,d,y,g);l[t++]=i^e,l[t++]=a^r,l[t++]=f^n,l[t++]=c^o}return(0,o.clean)(...f),T(i,n)}}}),e.cfb=(0,o.wrapCipher)({blockSize:16,nonceLength:16},function(t,e){function r(r,n,s){(0,o.abytes)(r);const a=r.length;if(s=(0,o.getOutput)(a,s),(0,o.overlapBytes)(r,s))throw new Error("overlapping src and dst not supported.");const f=w(t);let c=e;const u=[f];(0,o.isAligned32)(c)||u.push(c=(0,o.copyBytes)(c)),(0,o.isAligned32)(r)||u.push(r=(0,o.copyBytes)(r));const l=(0,o.u32)(r),h=(0,o.u32)(s),d=n?h:l,y=(0,o.u32)(c);let g=y[0],p=y[1],b=y[2],m=y[3];for(let t=0;t+4<=l.length;){const{s0:e,s1:r,s2:n,s3:o}=v(f,g,p,b,m);h[t+0]=l[t+0]^e,h[t+1]=l[t+1]^r,h[t+2]=l[t+2]^n,h[t+3]=l[t+3]^o,g=d[t++],p=d[t++],b=d[t++],m=d[t++]}const _=i*Math.floor(l.length/4);if(_<a){({s0:g,s1:p,s2:b,s3:m}=v(f,g,p,b,m));const t=(0,o.u8)(new Uint32Array([g,p,b,m]));for(let e=_,n=0;e<a;e++,n++)s[e]=r[e]^t[n];(0,o.clean)(t)}return(0,o.clean)(...u),s}return{encrypt:(t,e)=>r(t,!0,e),decrypt:(t,e)=>r(t,!1,e)}}),e.gcm=(0,o.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,e,r){if(e.length<8)throw new Error("aes/gcm: invalid nonce length");function i(t,e,o){const i=L(n.ghash,!1,t,o,r);for(let t=0;t<e.length;t++)i[t]^=e[t];return i}function a(){const r=w(t),i=s.slice(),a=s.slice();if(x(r,!1,a,a,i),12===e.length)a.set(e);else{const t=s.slice(),r=(0,o.createView)(t);(0,o.setBigUint64)(r,8,BigInt(8*e.length),!1);const f=n.ghash.create(i).update(e).update(t);f.digestInto(a),f.destroy()}return{xk:r,authKey:i,counter:a,tagMask:x(r,!1,a,s)}}return{encrypt(t){const{xk:e,authKey:r,counter:n,tagMask:s}=a(),f=new Uint8Array(t.length+16),c=[e,r,n,s];(0,o.isAligned32)(t)||c.push(t=(0,o.copyBytes)(t)),x(e,!1,n,t,f.subarray(0,t.length));const u=i(r,s,f.subarray(0,f.length-16));return c.push(u),f.set(u,t.length),(0,o.clean)(...c),f},decrypt(t){const{xk:e,authKey:r,counter:n,tagMask:s}=a(),f=[e,r,s,n];(0,o.isAligned32)(t)||f.push(t=(0,o.copyBytes)(t));const c=t.subarray(0,-16),u=t.subarray(-16),l=i(r,s,c);if(f.push(l),!(0,o.equalBytes)(l,u))throw new Error("aes/gcm: invalid ghash tag");const h=x(e,!1,n,c);return(0,o.clean)(...f),h}}});const O=(t,e,r)=>n=>{if(!Number.isSafeInteger(n)||e>n||n>r)throw new Error(t+": expected value in range ["+e+".."+r+"], got "+n)};function H(t){return t instanceof Uint32Array||ArrayBuffer.isView(t)&&"Uint32Array"===t.constructor.name}function k(t,e){if((0,o.abytes)(e,16),!H(t))throw new Error("_encryptBlock accepts result of expandKeyLE");const r=(0,o.u32)(e);let{s0:n,s1:i,s2:s,s3:a}=v(t,r[0],r[1],r[2],r[3]);return r[0]=n,r[1]=i,r[2]=s,r[3]=a,e}function F(t,e){if((0,o.abytes)(e,16),!H(t))throw new Error("_decryptBlock accepts result of expandKeyLE");const r=(0,o.u32)(e);let{s0:n,s1:i,s2:s,s3:a}=B(t,r[0],r[1],r[2],r[3]);return r[0]=n,r[1]=i,r[2]=s,r[3]=a,e}e.gcmsiv=(0,o.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,e,r){const i=O("AAD",0,2**36),s=O("plaintext",0,2**36),a=O("nonce",12,12),f=O("ciphertext",16,2**36+16);function c(){const r=w(t),n=new Uint8Array(t.length),i=new Uint8Array(16),s=[r,n];let a=e;(0,o.isAligned32)(a)||s.push(a=(0,o.copyBytes)(a));const f=(0,o.u32)(a);let c=0,u=f[0],l=f[1],h=f[2],d=0;for(const t of[i,n].map(o.u32)){const e=(0,o.u32)(t);for(let t=0;t<e.length;t+=2){const{s0:n,s1:o}=v(r,c,u,l,h);e[t+0]=n,e[t+1]=o,c=++d}}const y={authKey:i,encKey:w(n)};return(0,o.clean)(...s),y}function u(t,i,s){const a=L(n.polyval,!0,i,s,r);for(let t=0;t<12;t++)a[t]^=e[t];a[15]&=127;const f=(0,o.u32)(a);let c=f[0],u=f[1],l=f[2],h=f[3];return({s0:c,s1:u,s2:l,s3:h}=v(t,c,u,l,h)),f[0]=c,f[1]=u,f[2]=l,f[3]=h,a}function l(t,e,r){let n=(0,o.copyBytes)(e);n[15]|=128;const i=x(t,!0,n,r);return(0,o.clean)(n),i}return(0,o.abytes)(t,16,24,32),a(e.length),void 0!==r&&i(r.length),{encrypt(t){s(t.length);const{encKey:e,authKey:r}=c(),n=u(e,r,t),i=[e,r,n];(0,o.isAligned32)(t)||i.push(t=(0,o.copyBytes)(t));const a=new Uint8Array(t.length+16);return a.set(n,t.length),a.set(l(e,n,t)),(0,o.clean)(...i),a},decrypt(t){f(t.length);const e=t.subarray(-16),{encKey:r,authKey:n}=c(),i=[r,n];(0,o.isAligned32)(t)||i.push(t=(0,o.copyBytes)(t));const s=l(r,e,t.subarray(0,-16)),a=u(r,n,s);if(i.push(a),!(0,o.equalBytes)(e,a))throw(0,o.clean)(...i),new Error("invalid polyval tag");return(0,o.clean)(...i),s}}}),e.siv=e.gcmsiv;const R={encrypt(t,e){if(e.length>=2**32)throw new Error("plaintext should be less than 4gb");const r=w(t);if(16===e.length)k(r,e);else{const t=(0,o.u32)(e);let n=t[0],i=t[1];for(let e=0,o=1;e<6;e++)for(let e=2;e<t.length;e+=2,o++){const{s0:s,s1:a,s2:f,s3:c}=v(r,n,i,t[e],t[e+1]);n=s,i=a^d(o),t[e]=f,t[e+1]=c}t[0]=n,t[1]=i}r.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const r=m(t),n=e.length/8-1;if(1===n)F(r,e);else{const t=(0,o.u32)(e);let i=t[0],s=t[1];for(let e=0,o=6*n;e<6;e++)for(let e=2*n;e>=1;e-=2,o--){s^=d(o);const{s0:n,s1:a,s2:f,s3:c}=B(r,i,s,t[e],t[e+1]);i=n,s=a,t[e]=f,t[e+1]=c}t[0]=i,t[1]=s}r.fill(0)}},P=new Uint8Array(8).fill(166);e.aeskw=(0,o.wrapCipher)({blockSize:8},t=>({encrypt(e){if(!e.length||e.length%8!=0)throw new Error("invalid plaintext length");if(8===e.length)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const r=(0,o.concatBytes)(P,e);return R.encrypt(t,r),r},decrypt(e){if(e.length%8!=0||e.length<24)throw new Error("invalid ciphertext length");const r=(0,o.copyBytes)(e);if(R.decrypt(t,r),!(0,o.equalBytes)(r.subarray(0,8),P))throw new Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8)}}));const D=2790873510;e.aeskwp=(0,o.wrapCipher)({blockSize:8},t=>({encrypt(e){if(!e.length)throw new Error("invalid plaintext length");const r=8*Math.ceil(e.length/8),n=new Uint8Array(8+r);n.set(e,8);const i=(0,o.u32)(n);return i[0]=D,i[1]=d(e.length),R.encrypt(t,n),n},decrypt(e){if(e.length<16)throw new Error("invalid ciphertext length");const r=(0,o.copyBytes)(e),n=(0,o.u32)(r);R.decrypt(t,r);const i=d(n[1])>>>0,s=8*Math.ceil(i/8);if(n[0]!==D||r.length-8!==s)throw new Error("integrity check failed");for(let t=i;t<s;t++)if(0!==r[8+t])throw new Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8,8+i)}})),e.unsafe={expandKeyLE:w,expandKeyDecLE:m,encrypt:v,decrypt:B,encryptBlock:k,decryptBlock:F,ctrCounter:A,ctr32:x}},487:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let r=0;r<t.length;r++){const n=t.charAt(r),o=n.charCodeAt(0);if(255!==e[o])throw new TypeError(n+" is ambiguous");e[o]=r}const r=t.length,n=t.charAt(0),o=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function s(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let i=0,s=0,a=0;for(;t[i]===n;)s++,i++;const f=(t.length-i)*o+1>>>0,c=new Uint8Array(f);for(;i<t.length;){const n=t.charCodeAt(i);if(n>255)return;let o=e[n];if(255===o)return;let s=0;for(let t=f-1;(0!==o||s<a)&&-1!==t;t--,s++)o+=r*c[t]>>>0,c[t]=o%256>>>0,o=o/256>>>0;if(0!==o)throw new Error("Non-zero carry");a=s,i++}let u=f-a;for(;u!==f&&0===c[u];)u++;const l=new Uint8Array(s+(f-u));let h=s;for(;u!==f;)l[h++]=c[u++];return l}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let o=0,s=0,a=0;const f=e.length;for(;a!==f&&0===e[a];)a++,o++;const c=(f-a)*i+1>>>0,u=new Uint8Array(c);for(;a!==f;){let t=e[a],n=0;for(let e=c-1;(0!==t||n<s)&&-1!==e;e--,n++)t+=256*u[e]>>>0,u[e]=t%r>>>0,t=t/r>>>0;if(0!==t)throw new Error("Non-zero carry");s=n,a++}let l=c-s;for(;l!==c&&0===u[l];)l++;let h=n.repeat(o);for(;l<c;++l)h+=t.charAt(u[l]);return h},decodeUnsafe:s,decode:function(t){const e=s(t);if(e)return e;throw new Error("Non-base"+r+" character")}}}},510:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.secp256k1_hasher=e.schnorr=e.secp256k1=void 0;const n=r(76),o=r(175),i=r(562),s=r(761),a=r(967),f=r(705),c=r(627),u={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},l={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},h=BigInt(0),d=BigInt(1),y=BigInt(2),g=(0,a.Field)(u.p,{sqrt:function(t){const e=u.p,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),f=BigInt(44),c=BigInt(88),l=t*t*t%e,h=l*l*t%e,d=(0,a.pow2)(h,r,e)*h%e,p=(0,a.pow2)(d,r,e)*h%e,b=(0,a.pow2)(p,y,e)*l%e,w=(0,a.pow2)(b,o,e)*b%e,m=(0,a.pow2)(w,i,e)*w%e,_=(0,a.pow2)(m,f,e)*m%e,E=(0,a.pow2)(_,c,e)*_%e,v=(0,a.pow2)(E,f,e)*m%e,B=(0,a.pow2)(v,r,e)*h%e,A=(0,a.pow2)(B,s,e)*w%e,x=(0,a.pow2)(A,n,e)*l%e,I=(0,a.pow2)(x,y,e);if(!g.eql(g.sqr(I),t))throw new Error("Cannot find square root");return I}});e.secp256k1=(0,i.createCurve)({...u,Fp:g,lowS:!0,endo:l},n.sha256);const p={};function b(t,...e){let r=p[t];if(void 0===r){const e=(0,n.sha256)((0,c.utf8ToBytes)(t));r=(0,c.concatBytes)(e,e),p[t]=r}return(0,n.sha256)((0,c.concatBytes)(r,...e))}const w=t=>t.toBytes(!0).slice(1),m=(()=>e.secp256k1.Point)(),_=t=>t%y===h;function E(t){const{Fn:e,BASE:r}=m,n=(0,f._normFnElement)(e,t),o=r.multiply(n);return{scalar:_(o.y)?n:e.neg(n),bytes:w(o)}}function v(t){const e=g;if(!e.isValidNot0(t))throw new Error("invalid x: Fail if x ≥ p");const r=e.create(t*t),n=e.create(r*t+BigInt(7));let o=e.sqrt(n);_(o)||(o=e.neg(o));const i=m.fromAffine({x:t,y:o});return i.assertValidity(),i}const B=c.bytesToNumberBE;function A(...t){return m.Fn.create(B(b("BIP0340/challenge",...t)))}function x(t){return E(t).bytes}function I(t,e,r=(0,o.randomBytes)(32)){const{Fn:n}=m,i=(0,c.ensureBytes)("message",t),{bytes:s,scalar:a}=E(e),f=(0,c.ensureBytes)("auxRand",r,32),u=n.toBytes(a^B(b("BIP0340/aux",f))),l=b("BIP0340/nonce",u,s,i),{bytes:h,scalar:d}=E(l),y=A(h,s,i),g=new Uint8Array(64);if(g.set(h,0),g.set(n.toBytes(n.create(d+y*a)),32),!S(g,i,s))throw new Error("sign: Invalid signature produced");return g}function S(t,e,r){const{Fn:n,BASE:o}=m,i=(0,c.ensureBytes)("signature",t,64),s=(0,c.ensureBytes)("message",e),a=(0,c.ensureBytes)("publicKey",r,32);try{const t=v(B(a)),e=B(i.subarray(0,32));if(!(0,c.inRange)(e,d,u.p))return!1;const r=B(i.subarray(32,64));if(!(0,c.inRange)(r,d,u.n))return!1;const f=A(n.toBytes(e),w(t),s),l=o.multiplyUnsafe(r).add(t.multiplyUnsafe(n.neg(f))),{x:h,y}=l.toAffine();return!(l.is0()||!_(y)||h!==e)}catch(t){return!1}}e.schnorr=(()=>{const t=(t=(0,o.randomBytes)(48))=>(0,a.mapHashToField)(t,u.n);return e.secp256k1.utils.randomSecretKey,{keygen:function(e){const r=t(e);return{secretKey:r,publicKey:x(r)}},getPublicKey:x,sign:I,verify:S,Point:m,utils:{randomSecretKey:t,randomPrivateKey:t,taggedHash:b,lift_x:v,pointToBytes:w,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,mod:a.mod},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})();const T=(()=>(0,s.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(t=>BigInt(t)))))(),U=(()=>(0,f.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))();e.secp256k1_hasher=(0,s.createHasher)(e.secp256k1.Point,t=>{const{x:e,y:r}=U(g.create(t[0]));return T(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}),e.hashToCurve=e.secp256k1_hasher.hashToCurve,e.encodeToCurve=e.secp256k1_hasher.encodeToCurve},517:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.transactionDigest=e.signTransaction=void 0;const n=r(558),o=r(206),i=r(703),s=r(978),a=r(783),f=(0,a.hexToUint8Array)(o.config.chain_id);e.signTransaction=(t,r)=>{const{digest:n,txId:o}=(0,e.transactionDigest)(t,f),i={...t};i.signatures||(i.signatures=[]),Array.isArray(r)||(r=[r]);for(const t of r){const e=t.sign(n);i.signatures.push(e.customToString())}return{signedTransaction:i,txId:o}},e.transactionDigest=(t,e=f)=>{const r=new n.ByteBuffer(n.ByteBuffer.DEFAULT_CAPACITY,n.ByteBuffer.LITTLE_ENDIAN),o={...t};try{s.Serializer.Transaction(r,o)}catch(t){throw new Error("Unable to serialize transaction: "+t)}r.flip();const c=new Uint8Array(r.toBuffer()),u=(0,a.uint8ArrayToHex)((0,i.sha256)(c)).slice(0,40);return{digest:(0,i.sha256)(new Uint8Array([...e,...c])),txId:u}}},527:(t,e)=>{function r(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function n(t){if("boolean"!=typeof t)throw new Error(`boolean expected, not ${t}`)}function o(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function i(t,...e){if(!r(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function s(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}Object.defineProperty(e,"__esModule",{value:!0}),e.wrapCipher=e.Hash=e.nextTick=e.isLE=void 0,e.isBytes=r,e.abool=n,e.anumber=o,e.abytes=i,e.ahash=function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");o(t.outputLen),o(t.blockLen)},e.aexists=function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},e.aoutput=function(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)},e.u8=function(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},e.u32=function(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))},e.clean=function(...t){for(let e=0;e<t.length;e++)t[e].fill(0)},e.createView=s,e.bytesToHex=c,e.hexToBytes=h,e.hexToNumber=d,e.bytesToNumberBE=function(t){return d(c(t))},e.numberToBytesBE=function(t,e){return h(t.toString(16).padStart(2*e,"0"))},e.utf8ToBytes=y,e.bytesToUtf8=function(t){return(new TextDecoder).decode(t)},e.toBytes=function(t){if("string"==typeof t)t=y(t);else{if(!r(t))throw new Error("Uint8Array expected, got "+typeof t);t=w(t)}return t},e.overlapBytes=g,e.complexOverlapBytes=function(t,e){if(g(t,e)&&t.byteOffset<e.byteOffset)throw new Error("complex overlap of input and output is not supported")},e.concatBytes=function(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];i(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const o=t[e];r.set(o,n),n+=o.length}return r},e.checkOpts=function(t,e){if(null==e||"object"!=typeof e)throw new Error("options must be defined");return Object.assign(t,e)},e.equalBytes=function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},e.getOutput=function(t,e,r=!0){if(void 0===e)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!b(e))throw new Error("invalid output, must be aligned");return e},e.setBigUint64=p,e.u64Lengths=function(t,e,r){n(r);const o=new Uint8Array(16),i=s(o);return p(i,0,BigInt(e),r),p(i,8,BigInt(t),r),o},e.isAligned32=b,e.copyBytes=w,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];const a=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),f=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function c(t){if(i(t),a)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=f[t[r]];return e}const u={_0:48,_9:57,A:65,F:70,a:97,f:102};function l(t){return t>=u._0&&t<=u._9?t-u._0:t>=u.A&&t<=u.F?t-(u.A-10):t>=u.a&&t<=u.f?t-(u.a-10):void 0}function h(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(a)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,o=0;e<r;e++,o+=2){const r=l(t.charCodeAt(o)),i=l(t.charCodeAt(o+1));if(void 0===r||void 0===i){const e=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+o)}n[e]=16*r+i}return n}function d(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":"0x"+t)}function y(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}function g(t,e){return t.buffer===e.buffer&&t.byteOffset<e.byteOffset+e.byteLength&&e.byteOffset<t.byteOffset+t.byteLength}function p(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,a,n)}function b(t){return t.byteOffset%4==0}function w(t){return Uint8Array.from(t)}e.nextTick=async()=>{},e.Hash=class{},e.wrapCipher=(t,r)=>{function n(n,...o){if(i(n),!e.isLE)throw new Error("Non little-endian hardware is not yet supported");if(void 0!==t.nonceLength){const e=o[0];if(!e)throw new Error("nonce / iv required");t.varSizeNonce?i(e):i(e,t.nonceLength)}const s=t.tagLength;s&&void 0!==o[1]&&i(o[1]);const a=r(n,...o),f=(t,e)=>{if(void 0!==e){if(2!==t)throw new Error("cipher output not supported");i(e)}};let c=!1;return{encrypt(t,e){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,i(t),f(a.encrypt.length,e),a.encrypt(t,e)},decrypt(t,e){if(i(t),s&&t.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return f(a.decrypt.length,e),a.decrypt(t,e)}}}return Object.assign(n,t),n}},558:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ByteBuffer=void 0;class r{constructor(t,e,n=!0){if(this.writeBytes=this.append,this.writeByte=this.writeInt8,this.readByte=this.readInt8,this.writeUInt8=this.writeUint8,this.readUInt8=this.readUint8,this.writeShort=this.writeInt16,this.readShort=this.readInt16,this.writeUInt16=this.writeUint16,this.readUInt16=this.readUint16,this.writeInt=this.writeInt32,this.readInt=this.readInt32,this.writeUInt32=this.writeUint32,this.readUInt32=this.readUint32,this.writeFloat=this.writeFloat32,this.readFloat=this.readFloat32,this.writeDouble=this.writeFloat64,this.readDouble=this.readFloat64,this.writeLong=this.writeInt64,this.readLong=this.readInt64,this.writeUInt64=this.writeUint64,this.readUInt64=this.readUint64,this.toArrayBuffer=this.toBuffer,this.readVarint32=function(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}let r,n=0,o=0;do{if(!this.noAssert&&t>this.limit){const t=Error("Truncated");throw t.truncated=!0,t}r=this.view.getUint8(t++),n<5&&(o|=(127&r)<<7*n),++n}while(128&r);return o|=0,e?(this.offset=t,o):{value:o,length:n}},void 0===t&&(t=r.DEFAULT_CAPACITY),void 0===e&&(e=r.DEFAULT_ENDIAN),void 0===n&&(n=r.DEFAULT_NOASSERT),!n){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,n=!!n}this.buffer=0===t?s:new ArrayBuffer(t),this.view=0===t?new DataView(s):new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=n}readBytes(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}const n=this.slice(e,e+t);return r&&(this.offset+=t),n}writeInt8(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=1,this.view.setInt8(e,t),r&&(this.offset+=1),this}readInt8(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}const r=this.view.getInt8(t);return e&&(this.offset+=1),r}writeUint8(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=1,this.view.setUint8(e,t),r&&(this.offset+=1),this}readUint8(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}const r=this.view.getUint8(t);return e&&(this.offset+=1),r}writeInt16(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=2,this.view.setInt16(e,t,this.littleEndian),r&&(this.offset+=2),this}readInt16(t){const e=void 0===t;if(void 0===t&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}const r=this.view.getInt16(t,this.littleEndian);return e&&(this.offset+=2),r}writeUint16(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=2,this.view.setUint16(e,t,this.littleEndian),r&&(this.offset+=2),this}readUint16(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}const r=this.view.getUint16(t,this.littleEndian);return e&&(this.offset+=2),r}writeInt32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.view.setInt32(e,t,this.littleEndian),r&&(this.offset+=4),this}readInt32(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}const r=this.view.getInt32(t,this.littleEndian);return e&&(this.offset+=4),r}writeUint32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.view.setUint32(e,t,this.littleEndian),r&&(this.offset+=4),this}readUint32(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}const r=this.view.getUint32(t,this.littleEndian);return e&&(this.offset+=4),r}writeFloat32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.view.setFloat32(e,t,this.littleEndian),r&&(this.offset+=4),this}readFloat32(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}const r=this.view.getFloat32(t,this.littleEndian);return e&&(this.offset+=4),r}writeFloat64(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,this.view.setFloat64(e,t,this.littleEndian),r&&(this.offset+=8),this}readFloat64(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}const r=this.view.getFloat64(t,this.littleEndian);return e&&(this.offset+=8),r}append(t,e){const n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}t instanceof r||(t=r.wrap(t));const o=t.limit-t.offset;if(o<=0)return this;e+=o;let i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=o,new Uint8Array(this.buffer,e).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit)),t.offset+=o,n&&(this.offset+=o),this}appendTo(t,e){return t.append(this,e),this}assert(t){return this.noAssert=!t,this}capacity(){return this.buffer.byteLength}clear(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this}clone(t){const e=new r(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),new Uint8Array(e.buffer).set(this.buffer),e.view=new DataView(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e}compact(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;const r=e-t;if(0===r)return this.buffer=s,this.view=new DataView(s),this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;const n=new ArrayBuffer(r);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,e)),this.buffer=n,this.view=new DataView(n),this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this}copy(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new r(0,this.littleEndian,this.noAssert);const n=e-t,o=new r(n,this.littleEndian,this.noAssert);return o.offset=0,o.limit=n,o.markedOffset>=0&&(o.markedOffset-=t),this.copyTo(o,0,t,e),o}copyTo(t,e,n,o){const i=void 0===e,s=void 0===n;if(!(this.noAssert||t instanceof r))throw TypeError("Illegal target: Not a ByteBuffer");if(e=i?t.offset:0|e,n=s?this.offset:0|n,o=void 0===o?this.limit:0|o,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(n<0||o>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);const a=o-n;return 0===a?t:(t.ensureCapacity(e+a),new Uint8Array(t.buffer).set(new Uint8Array(this.buffer).subarray(n,o),e),s&&(this.offset+=a),i&&(t.offset+=a),this)}ensureCapacity(t){let e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this}fill(t,e,r){const n=void 0===e;if(n&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e>=r)return this;for(;e<r;)this.view.setUint8(e++,t);return n&&(this.offset=e),this}flip(){return this.limit=this.offset,this.offset=0,this}mark(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this}order(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this}LE(t){return this.littleEndian=void 0===t||!!t,this}BE(t){return this.littleEndian=void 0!==t&&!t,this}prepend(t,e){const n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}t instanceof r||(t=r.wrap(t));const o=t.limit-t.offset;if(o<=0)return this;const i=o-e;if(i>0){const t=new ArrayBuffer(this.buffer.byteLength+i);new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(e,this.buffer.byteLength),o),this.buffer=t,this.view=new DataView(t),this.offset+=i,this.markedOffset>=0&&(this.markedOffset+=i),this.limit+=i,e+=i}else new Uint8Array(this.buffer).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit),e-o);return t.offset=t.limit,n&&(this.offset-=o),this}prependTo(t,e){return t.prepend(this,e),this}remaining(){return this.limit-this.offset}reset(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this}resize(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){const e=new ArrayBuffer(t);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e,this.view=new DataView(e)}return this}reverse(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(t,e)),this.view=new DataView(this.buffer)),this}skip(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}const e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this}slice(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}const r=this.clone();return r.offset=t,r.limit=e,r}writeInt64(t,e){const r=void 0===e;if(void 0===e&&(e=this.offset),!this.noAssert){if("number"==typeof t&&(t=BigInt(t)),"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t&&(t=BigInt(t)),e+=8;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,this.view.setBigInt64(e,t,this.littleEndian),r&&(this.offset+=8),this}readInt64(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}const r=this.view.getBigInt64(t,this.littleEndian);return e&&(this.offset+=8),r}writeUint64(t,e){const r=void 0===e;if(void 0===e&&(e=this.offset),!this.noAssert){if("number"==typeof t&&(t=BigInt(t)),"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t&&(t=BigInt(t)),e+=8;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,this.view.setBigUint64(e,t,this.littleEndian),r&&(this.offset+=8),this}readUint64(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}const r=this.view.getBigUint64(t,this.littleEndian);return e&&(this.offset+=8),r}toBuffer(t){let e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t)return 0===e&&r===this.buffer.byteLength?this.buffer:this.buffer.slice(e,r);if(e===r)return s;const n=new ArrayBuffer(r-e);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(e,r),0),n}writeVarint32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}const n=this.calculateVarint32(t);let o;e+=n;let i=this.buffer.byteLength;for(e>i&&this.resize((i*=2)>e?i:e),e-=n,t>>>=0;t>=128;)o=127&t|128,this.view.setUint8(e++,o),t>>>=7;return this.view.setUint8(e++,t),r?(this.offset=e,this):n}calculateVarint32(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5}writeVString(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}const n=e,o=a.calculateUTF16asUTF8(i(t),this.noAssert)[1],s=this.calculateVarint32(o);e+=s+o;let f=this.buffer.byteLength;if(e>f&&this.resize((f*=2)>e?f:e),e-=s+o,e+=this.writeVarint32(o,e),a.encodeUTF16toUTF8(i(t),function(t){this.view.setUint8(e++,t)}.bind(this)),e!==n+o+s)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+o+s));return r?(this.offset=e,this):e-n}readVString(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}const n=t,o=this.readVarint32(t),i=this.readUTF8String(o.value,r.METRICS_BYTES,t+=o.length);return t+=i.length,e?(this.offset=t,i.string):{string:i.string,length:t-n}}readUTF8String(t,e,o){"number"==typeof e&&(o=e,e=void 0);const i=void 0===o;if(i&&(o=this.offset),void 0===e&&(e=r.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof o||o%1!=0)throw TypeError("Illegal offset: "+o+" (not an integer)");if((o>>>=0)<0||o+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+0) <= "+this.buffer.byteLength)}let s=0;const f=o;let c;if(e===r.METRICS_CHARS){if(c=n(),a.decodeUTF8(function(){return s<t&&o<this.limit?this.view.getUint8(o++):null}.bind(this),function(t){++s,a.UTF8toUTF16(t,c)}),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return i?(this.offset=o,c()):{string:c(),length:o-f}}if(e===r.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof o||o%1!=0)throw TypeError("Illegal offset: "+o+" (not an integer)");if((o>>>=0)<0||o+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+o+" (+"+t+") <= "+this.buffer.byteLength)}const e=o+t;if(a.decodeUTF8toUTF16(function(){return o<e?this.view.getUint8(o++):null}.bind(this),c=n(),this.noAssert),o!==e)throw RangeError("Illegal range: Truncated data, "+o+" == "+e);return i?(this.offset=o,c()):{string:c(),length:o-f}}throw TypeError("Unsupported metrics: "+e)}}function n(){const t=[],e=[];return function(){if(0===arguments.length)return e.join("")+o.apply(String,t);t.length+arguments.length>1024&&(e.push(o.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}e.ByteBuffer=r,r.VERSION="0.0.1",r.LITTLE_ENDIAN=!0,r.BIG_ENDIAN=!1,r.DEFAULT_CAPACITY=16,r.DEFAULT_ENDIAN=r.BIG_ENDIAN,r.DEFAULT_NOASSERT=!1,r.METRICS_BYTES="b",r.accessor=function(){return DataView},r.allocate=function(t,e,n){return new r(t,e,n)},r.concat=function(t,e,n){let o=0;const i=t.length;let s;for(let e,n=0;n<i;++n){const i=t[n];i instanceof r||(t[n]=r.wrap(i)),e=t[n].limit-t[n].offset,e>0&&(o+=e)}if(0===o)return new r(0,e,n);const a=new r(o,e,n);let f;const c=new Uint8Array(a.buffer);let u=0;for(;u<i;)f=t[u++],s=f.limit-f.offset,s<=0||(c.set(new Uint8Array(f.buffer).subarray(f.offset,f.limit),a.offset),a.offset+=s);return a.limit=a.offset,a.offset=0,a},r.type=function(){return ArrayBuffer},r.wrap=function(t,e,n){if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");let o;if(t instanceof r)return o=t.clone(),o.markedOffset=-1,o;if(t instanceof Uint8Array)o=new r(0,e,n),t.length>0&&(o.buffer=t.buffer,o.offset=t.byteOffset,o.limit=t.byteOffset+t.byteLength,o.view=new DataView(t.buffer));else if(t instanceof ArrayBuffer)o=new r(0,e,n),t.byteLength>0&&(o.buffer=t,o.offset=0,o.limit=t.byteLength,o.view=t.byteLength>0?new DataView(t):new DataView(s));else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");o=new r(t.length,e,n),o.limit=t.length;for(let e=0;e<t.length;++e)o.view.setUint8(e,t[e])}return o};const o=String.fromCharCode;function i(t){let e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}const s=new ArrayBuffer(0),a={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){let r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):r<2048?(e(r>>6&31|192),e(63&r|128)):r<65536?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},decodeUTF8:function(t,e){let r,n,o,i;const s=function(t){t=t.slice(0,t.indexOf(null));const e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};for(;null!==(r=t());)if(128&r)if(192==(224&r))null===(n=t())&&s([r,n]),e((31&r)<<6|63&n);else if(224==(240&r))(null===(n=t())||null===(o=t()))&&s([r,n,o]),e((15&r)<<12|(63&n)<<6|63&o);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(n=t())||null===(o=t())||null===(i=t()))&&s([r,n,o,i]),e((7&r)<<18|(63&n)<<12|(63&o)<<6|63&i)}else e(r)},UTF16toUTF8:function(t,e){let r,n=null;for(;null!==(r=null!==n?n:t());)r>=55296&&r<=57343&&null!==(n=t())&&n>=56320&&n<=57343?(e(1024*(r-55296)+n-56320+65536),n=null):e(r);null!==n&&e(n)},UTF8toUTF16:function(t,e){let r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(r-=65536,e(55296+(r>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,e){a.UTF16toUTF8(t,function(t){a.encodeUTF8(t,e)})},decodeUTF8toUTF16:function(t,e){a.decodeUTF8(t,function(t){a.UTF8toUTF16(t,e)})},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){let e,r=0;for(;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(t){let e=0,r=0;return a.UTF16toUTF8(t,function(t){++e,r+=t<128?1:t<2048?2:t<65536?3:4}),[e,r]}}},562:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getHash=function(t){return{hash:t}},e.createCurve=function(t,e){const r=e=>(0,n.weierstrass)({...t,hash:e});return{...r(e),create:r}};const n=r(705)},615:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const n=r(175);class o extends n.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,n.ahash)(t);const r=(0,n.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),(0,n.clean)(i)}update(t){return(0,n.aexists)(this),this.iHash.update(t),this}digestInto(t){(0,n.aexists)(this),(0,n.abytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=n,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=o,e.hmac=(t,e,r)=>new o(t,e).update(r).digest(),e.hmac.create=(t,e)=>new o(t,e)},623:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.SHA224=e.sha256=e.SHA256=void 0;const n=r(76);e.SHA256=n.SHA256,e.sha256=n.sha256,e.SHA224=n.SHA224,e.sha224=n.sha224},627:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.notImplemented=e.bitMask=e.utf8ToBytes=e.randomBytes=e.isBytes=e.hexToBytes=e.concatBytes=e.bytesToUtf8=e.bytesToHex=e.anumber=e.abytes=void 0,e.abool=function(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)},e._abool2=function(t,e=""){if("boolean"!=typeof t)throw new Error((e&&`"${e}"`)+"expected boolean, got type="+typeof t);return t},e._abytes2=function(t,e,r=""){const o=(0,n.isBytes)(t),i=t?.length,s=void 0!==e;if(!o||s&&i!==e)throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${e}`:"")+", got "+(o?`length=${i}`:"type="+typeof t));return t},e.numberToHexUnpadded=a,e.hexToNumber=f,e.bytesToNumberBE=function(t){return f((0,n.bytesToHex)(t))},e.bytesToNumberLE=function(t){return(0,n.abytes)(t),f((0,n.bytesToHex)(Uint8Array.from(t).reverse()))},e.numberToBytesBE=c,e.numberToBytesLE=function(t,e){return c(t,e).reverse()},e.numberToVarBytesBE=function(t){return(0,n.hexToBytes)(a(t))},e.ensureBytes=function(t,e,r){let o;if("string"==typeof e)try{o=(0,n.hexToBytes)(e)}catch(e){throw new Error(t+" must be hex string or Uint8Array, cause: "+e)}else{if(!(0,n.isBytes)(e))throw new Error(t+" must be hex string or Uint8Array");o=Uint8Array.from(e)}const i=o.length;if("number"==typeof r&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return o},e.equalBytes=function(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},e.copyBytes=function(t){return Uint8Array.from(t)},e.asciiToBytes=function(t){return Uint8Array.from(t,(e,r)=>{const n=e.charCodeAt(0);if(1!==e.length||n>127)throw new Error(`string contains non-ASCII character "${t[r]}" with code ${n} at position ${r}`);return n})},e.inRange=l,e.aInRange=function(t,e,r,n){if(!l(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)},e.bitLen=function(t){let e;for(e=0;t>i;t>>=s,e+=1);return e},e.bitGet=function(t,e){return t>>BigInt(e)&s},e.bitSet=function(t,e,r){return t|(r?s:i)<<BigInt(e)},e.createHmacDrbg=function(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");const o=t=>new Uint8Array(t),i=t=>Uint8Array.of(t);let s=o(t),a=o(t),f=0;const c=()=>{s.fill(1),a.fill(0),f=0},u=(...t)=>r(a,s,...t),l=(t=o(0))=>{a=u(i(0),t),s=u(),0!==t.length&&(a=u(i(1),t),s=u())},h=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){s=u();const e=s.slice();r.push(e),t+=s.length}return(0,n.concatBytes)(...r)};return(t,e)=>{let r;for(c(),l(t);!(r=e(h()));)l();return c(),r}},e.validateObject=function(t,e,r={}){const n=(e,r,n)=>{const o=h[r];if("function"!=typeof o)throw new Error("invalid validator function");const i=t[e];if(!(n&&void 0===i||o(i,t)))throw new Error("param "+String(e)+" is invalid. Expected "+r+", got "+i)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t},e.isHash=function(t){return"function"==typeof t&&Number.isSafeInteger(t.outputLen)},e._validateObject=function(t,e,r={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function n(e,r,n){const o=t[e];if(n&&void 0===o)return;const i=typeof o;if(i!==r||null===o)throw new Error(`param "${e}" is invalid: expected ${r}, got ${i}`)}Object.entries(e).forEach(([t,e])=>n(t,e,!1)),Object.entries(r).forEach(([t,e])=>n(t,e,!0))},e.memoized=function(t){const e=new WeakMap;return(r,...n)=>{const o=e.get(r);if(void 0!==o)return o;const i=t(r,...n);return e.set(r,i),i}};const n=r(175);var o=r(175);Object.defineProperty(e,"abytes",{enumerable:!0,get:function(){return o.abytes}}),Object.defineProperty(e,"anumber",{enumerable:!0,get:function(){return o.anumber}}),Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return o.bytesToHex}}),Object.defineProperty(e,"bytesToUtf8",{enumerable:!0,get:function(){return o.bytesToUtf8}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return o.concatBytes}}),Object.defineProperty(e,"hexToBytes",{enumerable:!0,get:function(){return o.hexToBytes}}),Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return o.isBytes}}),Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return o.randomBytes}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return o.utf8ToBytes}});const i=BigInt(0),s=BigInt(1);function a(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function f(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?i:BigInt("0x"+t)}function c(t,e){return(0,n.hexToBytes)(t.toString(16).padStart(2*e,"0"))}const u=t=>"bigint"==typeof t&&i<=t;function l(t,e,r){return u(t)&&u(e)&&u(r)&&e<=t&&t<r}e.bitMask=t=>(s<<BigInt(t))-s;const h={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||(0,n.isBytes)(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};e.notImplemented=()=>{throw new Error("not implemented")}},674:e=>{e.exports=t},703:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.sha512=e.sha256=void 0;const n=r(623),o=r(102),i=r(238);e.sha256=t=>(0,n.sha256)(t),e.sha512=t=>(0,o.sha512)(t),e.ripemd160=t=>(0,i.ripemd160)(t)},705:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DER=e.DERErr=void 0,e._splitEndoScalar=c,e._normFnElement=w,e.weierstrassN=m,e.SWUFpSqrtRatio=E,e.mapToCurveSimpleSWU=function(t,e){(0,a.validateField)(t);const{A:r,B:n,Z:o}=e;if(!t.isValid(r)||!t.isValid(n)||!t.isValid(o))throw new Error("mapToCurveSimpleSWU: invalid opts");const i=E(t,o);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return e=>{let s,f,c,u,l,h,d,y;s=t.sqr(e),s=t.mul(s,o),f=t.sqr(s),f=t.add(f,s),c=t.add(f,t.ONE),c=t.mul(c,n),u=t.cmov(o,t.neg(f),!t.eql(f,t.ZERO)),u=t.mul(u,r),f=t.sqr(c),h=t.sqr(u),l=t.mul(h,r),f=t.add(f,l),f=t.mul(f,c),h=t.mul(h,u),l=t.mul(h,n),f=t.add(f,l),d=t.mul(s,c);const{isValid:g,value:p}=i(f,h);y=t.mul(s,e),y=t.mul(y,p),d=t.cmov(d,c,g),y=t.cmov(y,p,g);const b=t.isOdd(e)===t.isOdd(y);y=t.cmov(t.neg(y),y,b);const w=(0,a.FpInvertBatch)(t,[u],!0)[0];return d=t.mul(d,w),{x:d,y}}},e.ecdh=B,e.ecdsa=A,e.weierstrassPoints=function(t){const{CURVE:e,curveOpts:r}=x(t);return function(t,e){const{Fp:r,Fn:n}=e;const o=I(r,t.a,t.b);return Object.assign({},{CURVE:t,Point:e,ProjectivePoint:e,normPrivateKeyToScalar:t=>w(n,t),weierstrassEquation:o,isWithinCurveOrder:function(t){return(0,i.inRange)(t,y,n.ORDER)}})}(t,m(e,r))},e._legacyHelperEquat=I,e.weierstrass=function(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:o}=function(t){const{CURVE:e,curveOpts:r}=x(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}(t);return function(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,(0,a.nLength)(r.Fn.ORDER,r.Fn.BITS))})}(t,A(m(e,r),n,o))};const n=r(615),o=r(175),i=r(627),s=r(422),a=r(967),f=(t,e)=>(t+(t>=0?e:-e)/g)/e;function c(t,e,r){const[[n,o],[s,a]]=e,c=f(a*t,r),u=f(-o*t,r);let l=t-c*n-u*s,h=-c*o-u*a;const g=l<d,p=h<d;g&&(l=-l),p&&(h=-h);const b=(0,i.bitMask)(Math.ceil((0,i.bitLen)(r)/2))+y;if(l<d||l>=b||h<d||h>=b)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:l,k2neg:p,k2:h}}function u(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function l(t,e){const r={};for(let n of Object.keys(e))r[n]=void 0===t[n]?e[n]:t[n];return(0,i._abool2)(r.lowS,"lowS"),(0,i._abool2)(r.prehash,"prehash"),void 0!==r.format&&u(r.format),r}class h extends Error{constructor(t=""){super(t)}}e.DERErr=h,e.DER={Err:h,_tlv:{encode:(t,r)=>{const{Err:n}=e.DER;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(1&r.length)throw new n("tlv.encode: unpadded data");const o=r.length/2,s=(0,i.numberToHexUnpadded)(o);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=o>127?(0,i.numberToHexUnpadded)(s.length/2|128):"";return(0,i.numberToHexUnpadded)(t)+a+s+r},decode(t,r){const{Err:n}=e.DER;let o=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(r.length<2||r[o++]!==t)throw new n("tlv.decode: wrong tlv");const i=r[o++];let s=0;if(128&i){const t=127&i;if(!t)throw new n("tlv.decode(long): indefinite length not supported");if(t>4)throw new n("tlv.decode(long): byte length is too big");const e=r.subarray(o,o+t);if(e.length!==t)throw new n("tlv.decode: length bytes not complete");if(0===e[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of e)s=s<<8|t;if(o+=t,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const a=r.subarray(o,o+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:r.subarray(o+s)}}},_int:{encode(t){const{Err:r}=e.DER;if(t<d)throw new r("integer: negative integers are not allowed");let n=(0,i.numberToHexUnpadded)(t);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new r("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:r}=e.DER;if(128&t[0])throw new r("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new r("invalid signature integer: unnecessary leading zero");return(0,i.bytesToNumberBE)(t)}},toSig(t){const{Err:r,_int:n,_tlv:o}=e.DER,s=(0,i.ensureBytes)("signature",t),{v:a,l:f}=o.decode(48,s);if(f.length)throw new r("invalid signature: left bytes after parsing");const{v:c,l:u}=o.decode(2,a),{v:l,l:h}=o.decode(2,u);if(h.length)throw new r("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(l)}},hexFromSig(t){const{_tlv:r,_int:n}=e.DER,o=r.encode(2,n.encode(t.r))+r.encode(2,n.encode(t.s));return r.encode(48,o)}};const d=BigInt(0),y=BigInt(1),g=BigInt(2),p=BigInt(3),b=BigInt(4);function w(t,e){const{BYTES:r}=t;let n;if("bigint"==typeof e)n=e;else{let o=(0,i.ensureBytes)("private key",e);try{n=t.fromBytes(o)}catch(t){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function m(t,e={}){const r=(0,s._createCurveFields)("weierstrass",t,e),{Fp:n,Fn:o}=r;let a=r.CURVE;const{h:f,n:u}=a;(0,i._validateObject)(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!n.is0(a.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=v(n,o);function g(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const m=e.toBytes||function(t,e,r){const{x:o,y:s}=e.toAffine(),a=n.toBytes(o);if((0,i._abool2)(r,"isCompressed"),r){g();const t=!n.isOdd(s);return(0,i.concatBytes)(_(t),a)}return(0,i.concatBytes)(Uint8Array.of(4),a,n.toBytes(s))},E=e.fromBytes||function(t){(0,i._abytes2)(t,void 0,"Point");const{publicKey:e,publicKeyUncompressed:r}=h,o=t.length,s=t[0],a=t.subarray(1);if(o!==e||2!==s&&3!==s){if(o===r&&4===s){const t=n.BYTES,e=n.fromBytes(a.subarray(0,t)),r=n.fromBytes(a.subarray(t,2*t));if(!A(e,r))throw new Error("bad point: is not on curve");return{x:e,y:r}}throw new Error(`bad point: got length ${o}, expected compressed=${e} or uncompressed=${r}`)}{const t=n.fromBytes(a);if(!n.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=B(t);let r;try{r=n.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}return g(),!(1&~s)!==n.isOdd(r)&&(r=n.neg(r)),{x:t,y:r}}};function B(t){const e=n.sqr(t),r=n.mul(e,t);return n.add(n.add(r,n.mul(t,a.a)),a.b)}function A(t,e){const r=n.sqr(e),o=B(t);return n.eql(r,o)}if(!A(a.Gx,a.Gy))throw new Error("bad curve params: generator point");const x=n.mul(n.pow(a.a,p),b),I=n.mul(n.sqr(a.b),BigInt(27));if(n.is0(n.add(x,I)))throw new Error("bad curve params: a or b");function S(t,e,r=!1){if(!n.isValid(e)||r&&n.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function T(t){if(!(t instanceof k))throw new Error("ProjectivePoint expected")}function U(t){if(!l||!l.basises)throw new Error("no endo");return c(t,l.basises,o.ORDER)}const L=(0,i.memoized)((t,e)=>{const{X:r,Y:o,Z:i}=t;if(n.eql(i,n.ONE))return{x:r,y:o};const s=t.is0();null==e&&(e=s?n.ONE:n.inv(i));const a=n.mul(r,e),f=n.mul(o,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:f}}),O=(0,i.memoized)(t=>{if(t.is0()){if(e.allowInfinityPoint&&!n.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:o}=t.toAffine();if(!n.isValid(r)||!n.isValid(o))throw new Error("bad point: x or y not field elements");if(!A(r,o))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function H(t,e,r,o,i){return r=new k(n.mul(r.X,t),r.Y,r.Z),e=(0,s.negateCt)(o,e),r=(0,s.negateCt)(i,r),e.add(r)}class k{constructor(t,e,r){this.X=S("x",t),this.Y=S("y",e,!0),this.Z=S("z",r),Object.freeze(this)}static CURVE(){return a}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof k)throw new Error("projective point not allowed");return n.is0(e)&&n.is0(r)?k.ZERO:new k(e,r,n.ONE)}static fromBytes(t){const e=k.fromAffine(E((0,i._abytes2)(t,void 0,"point")));return e.assertValidity(),e}static fromHex(t){return k.fromBytes((0,i.ensureBytes)("pointHex",t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return R.createCache(this,t),e||this.multiply(p),this}assertValidity(){O(this)}hasEvenY(){const{y:t}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(t)}equals(t){T(t);const{X:e,Y:r,Z:o}=this,{X:i,Y:s,Z:a}=t,f=n.eql(n.mul(e,a),n.mul(i,o)),c=n.eql(n.mul(r,a),n.mul(s,o));return f&&c}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){const{a:t,b:e}=a,r=n.mul(e,p),{X:o,Y:i,Z:s}=this;let f=n.ZERO,c=n.ZERO,u=n.ZERO,l=n.mul(o,o),h=n.mul(i,i),d=n.mul(s,s),y=n.mul(o,i);return y=n.add(y,y),u=n.mul(o,s),u=n.add(u,u),f=n.mul(t,u),c=n.mul(r,d),c=n.add(f,c),f=n.sub(h,c),c=n.add(h,c),c=n.mul(f,c),f=n.mul(y,f),u=n.mul(r,u),d=n.mul(t,d),y=n.sub(l,d),y=n.mul(t,y),y=n.add(y,u),u=n.add(l,l),l=n.add(u,l),l=n.add(l,d),l=n.mul(l,y),c=n.add(c,l),d=n.mul(i,s),d=n.add(d,d),l=n.mul(d,y),f=n.sub(f,l),u=n.mul(d,h),u=n.add(u,u),u=n.add(u,u),new k(f,c,u)}add(t){T(t);const{X:e,Y:r,Z:o}=this,{X:i,Y:s,Z:f}=t;let c=n.ZERO,u=n.ZERO,l=n.ZERO;const h=a.a,d=n.mul(a.b,p);let y=n.mul(e,i),g=n.mul(r,s),b=n.mul(o,f),w=n.add(e,r),m=n.add(i,s);w=n.mul(w,m),m=n.add(y,g),w=n.sub(w,m),m=n.add(e,o);let _=n.add(i,f);return m=n.mul(m,_),_=n.add(y,b),m=n.sub(m,_),_=n.add(r,o),c=n.add(s,f),_=n.mul(_,c),c=n.add(g,b),_=n.sub(_,c),l=n.mul(h,m),c=n.mul(d,b),l=n.add(c,l),c=n.sub(g,l),l=n.add(g,l),u=n.mul(c,l),g=n.add(y,y),g=n.add(g,y),b=n.mul(h,b),m=n.mul(d,m),g=n.add(g,b),b=n.sub(y,b),b=n.mul(h,b),m=n.add(m,b),y=n.mul(g,m),u=n.add(u,y),y=n.mul(_,m),c=n.mul(w,c),c=n.sub(c,y),y=n.mul(w,g),l=n.mul(_,l),l=n.add(l,y),new k(c,u,l)}subtract(t){return this.add(t.negate())}is0(){return this.equals(k.ZERO)}multiply(t){const{endo:r}=e;if(!o.isValidNot0(t))throw new Error("invalid scalar: out of range");let n,i;const a=t=>R.cached(this,t,t=>(0,s.normalizeZ)(k,t));if(r){const{k1neg:e,k1:o,k2neg:s,k2:f}=U(t),{p:c,f:u}=a(o),{p:l,f:h}=a(f);i=u.add(h),n=H(r.beta,c,l,e,s)}else{const{p:e,f:r}=a(t);n=e,i=r}return(0,s.normalizeZ)(k,[n,i])[0]}multiplyUnsafe(t){const{endo:r}=e,n=this;if(!o.isValid(t))throw new Error("invalid scalar: out of range");if(t===d||n.is0())return k.ZERO;if(t===y)return n;if(R.hasCache(this))return this.multiply(t);if(r){const{k1neg:e,k1:o,k2neg:i,k2:a}=U(t),{p1:f,p2:c}=(0,s.mulEndoUnsafe)(k,n,o,a);return H(r.beta,f,c,e,i)}return R.unsafe(n,t)}multiplyAndAddUnsafe(t,e,r){const n=this.multiplyUnsafe(e).add(t.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(t){return L(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return f===y||(t?t(k,this):R.unsafe(this,u).is0())}clearCofactor(){const{clearCofactor:t}=e;return f===y?this:t?t(k,this):this.multiplyUnsafe(f)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}toBytes(t=!0){return(0,i._abool2)(t,"isCompressed"),this.assertValidity(),m(k,this,t)}toHex(t=!0){return(0,i.bytesToHex)(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(t=!0){return this.toBytes(t)}_setWindowSize(t){this.precompute(t)}static normalizeZ(t){return(0,s.normalizeZ)(k,t)}static msm(t,e){return(0,s.pippenger)(k,o,t,e)}static fromPrivateKey(t){return k.BASE.multiply(w(o,t))}}k.BASE=new k(a.Gx,a.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=o;const F=o.BITS,R=new s.wNAF(k,e.endo?Math.ceil(F/2):F);return k.BASE.precompute(8),k}function _(t){return Uint8Array.of(t?2:3)}function E(t,e){const r=t.ORDER;let n=d;for(let t=r-y;t%g===d;t/=g)n+=y;const o=n,i=g<<o-y-y,s=i*g,a=(r-y)/s,f=(a-y)/g,c=s-y,u=i,l=t.pow(e,a),h=t.pow(e,(a+y)/g);let w=(e,r)=>{let n=l,i=t.pow(r,c),s=t.sqr(i);s=t.mul(s,r);let a=t.mul(e,s);a=t.pow(a,f),a=t.mul(a,i),i=t.mul(a,r),s=t.mul(a,e);let d=t.mul(s,i);a=t.pow(d,u);let p=t.eql(a,t.ONE);i=t.mul(s,h),a=t.mul(d,n),s=t.cmov(i,s,p),d=t.cmov(a,d,p);for(let e=o;e>y;e--){let r=e-g;r=g<<r-y;let o=t.pow(d,r);const a=t.eql(o,t.ONE);i=t.mul(s,n),n=t.mul(n,n),o=t.mul(d,n),s=t.cmov(i,s,a),d=t.cmov(o,d,a)}return{isValid:p,value:s}};if(t.ORDER%b===p){const r=(t.ORDER-p)/b,n=t.sqrt(t.neg(e));w=(e,o)=>{let i=t.sqr(o);const s=t.mul(e,o);i=t.mul(i,s);let a=t.pow(i,r);a=t.mul(a,s);const f=t.mul(a,n),c=t.mul(t.sqr(a),o),u=t.eql(c,e);return{isValid:u,value:t.cmov(f,a,u)}}}return w}function v(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function B(t,e={}){const{Fn:r}=t,n=e.randomBytes||i.randomBytes,o=Object.assign(v(t.Fp,r),{seed:(0,a.getMinHashLength)(r.ORDER)});function s(t){try{return!!w(r,t)}catch(t){return!1}}function f(t=n(o.seed)){return(0,a.mapHashToField)((0,i._abytes2)(t,o.seed,"seed"),r.ORDER)}function c(e,n=!0){return t.BASE.multiply(w(r,e)).toBytes(n)}function u(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;const{secretKey:n,publicKey:s,publicKeyUncompressed:a}=o;if(r.allowedLengths||n===s)return;const f=(0,i.ensureBytes)("key",e).length;return f===s||f===a}const l={isValidSecretKey:s,isValidPublicKey:function(e,r){const{publicKey:n,publicKeyUncompressed:i}=o;try{const o=e.length;return!(!0===r&&o!==n||!1===r&&o!==i||!t.fromBytes(e))}catch(t){return!1}},randomSecretKey:f,isValidPrivateKey:s,randomPrivateKey:f,normPrivateKeyToScalar:t=>w(r,t),precompute:(e=8,r=t.BASE)=>r.precompute(e,!1)};return Object.freeze({getPublicKey:c,getSharedSecret:function(e,n,o=!0){if(!0===u(e))throw new Error("first arg must be private key");if(!1===u(n))throw new Error("second arg must be public key");const i=w(r,e);return t.fromHex(n).multiply(i).toBytes(o)},keygen:function(t){const e=f(t);return{secretKey:e,publicKey:c(e)}},Point:t,utils:l,lengths:o})}function A(t,r,s={}){(0,o.ahash)(r),(0,i._validateObject)(s,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const a=s.randomBytes||i.randomBytes,f=s.hmac||((t,...e)=>(0,n.hmac)(r,t,(0,i.concatBytes)(...e))),{Fp:c,Fn:h}=t,{ORDER:p,BITS:b}=h,{keygen:m,getPublicKey:E,getSharedSecret:v,utils:A,lengths:x}=B(t,s),I={prehash:!1,lowS:"boolean"==typeof s.lowS&&s.lowS,format:void 0,extraEntropy:!1},S="compact";function T(t){return t>p>>y}function U(t,e){if(!h.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..Point.Fn.ORDER`);return e}class L{constructor(t,e,r){this.r=U("r",t),this.s=U("s",e),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(t,r=S){let n;if(function(t,e){u(e);const r=x.signature,n="compact"===e?r:"recovered"===e?r+1:void 0;(0,i._abytes2)(t,n,`${e} signature`)}(t,r),"der"===r){const{r,s:n}=e.DER.toSig((0,i._abytes2)(t));return new L(r,n)}"recovered"===r&&(n=t[0],r="compact",t=t.subarray(1));const o=h.BYTES,s=t.subarray(0,o),a=t.subarray(o,2*o);return new L(h.fromBytes(s),h.fromBytes(a),n)}static fromHex(t,e){return this.fromBytes((0,i.hexToBytes)(t),e)}addRecoveryBit(t){return new L(this.r,this.s,t)}recoverPublicKey(e){const r=c.ORDER,{r:n,s:o,recovery:s}=this;if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");if(p*g<r&&s>1)throw new Error("recovery id is ambiguous for h>1 curve");const a=2===s||3===s?n+p:n;if(!c.isValid(a))throw new Error("recovery id 2 or 3 invalid");const f=c.toBytes(a),u=t.fromBytes((0,i.concatBytes)(_(!(1&s)),f)),l=h.inv(a),d=H((0,i.ensureBytes)("msgHash",e)),y=h.create(-d*l),b=h.create(o*l),w=t.BASE.multiplyUnsafe(y).add(u.multiplyUnsafe(b));if(w.is0())throw new Error("point at infinify");return w.assertValidity(),w}hasHighS(){return T(this.s)}toBytes(t=S){if(u(t),"der"===t)return(0,i.hexToBytes)(e.DER.hexFromSig(this));const r=h.toBytes(this.r),n=h.toBytes(this.s);if("recovered"===t){if(null==this.recovery)throw new Error("recovery bit must be present");return(0,i.concatBytes)(Uint8Array.of(this.recovery),r,n)}return(0,i.concatBytes)(r,n)}toHex(t){return(0,i.bytesToHex)(this.toBytes(t))}assertValidity(){}static fromCompact(t){return L.fromBytes((0,i.ensureBytes)("sig",t),"compact")}static fromDER(t){return L.fromBytes((0,i.ensureBytes)("sig",t),"der")}normalizeS(){return this.hasHighS()?new L(this.r,h.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,i.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,i.bytesToHex)(this.toBytes("compact"))}}const O=s.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=(0,i.bytesToNumberBE)(t),r=8*t.length-b;return r>0?e>>BigInt(r):e},H=s.bits2int_modN||function(t){return h.create(O(t))},k=(0,i.bitMask)(b);function F(t){return(0,i.aInRange)("num < 2^"+b,t,d,k),h.toBytes(t)}function R(t,e){return(0,i._abytes2)(t,void 0,"message"),e?(0,i._abytes2)(r(t),void 0,"prehashed message"):t}return Object.freeze({keygen:m,getPublicKey:E,getSharedSecret:v,utils:A,lengths:x,Point:t,sign:function(e,n,o={}){e=(0,i.ensureBytes)("message",e);const{seed:s,k2sig:c}=function(e,r,n){if(["recovered","canonical"].some(t=>t in n))throw new Error("sign() legacy options not supported");const{lowS:o,prehash:s,extraEntropy:f}=l(n,I);e=R(e,s);const c=H(e),u=w(h,r),g=[F(u),F(c)];if(null!=f&&!1!==f){const t=!0===f?a(x.secretKey):f;g.push((0,i.ensureBytes)("extraEntropy",t))}const p=(0,i.concatBytes)(...g),b=c;return{seed:p,k2sig:function(e){const r=O(e);if(!h.isValidNot0(r))return;const n=h.inv(r),i=t.BASE.multiply(r).toAffine(),s=h.create(i.x);if(s===d)return;const a=h.create(n*h.create(b+s*u));if(a===d)return;let f=(i.x===s?0:2)|Number(i.y&y),c=a;return o&&T(a)&&(c=h.neg(a),f^=1),new L(s,c,f)}}}(e,n,o);return(0,i.createHmacDrbg)(r.outputLen,h.BYTES,f)(s,c)},verify:function(r,n,o,s={}){const{lowS:a,prehash:f,format:c}=l(s,I);if(o=(0,i.ensureBytes)("publicKey",o),n=R((0,i.ensureBytes)("message",n),f),"strict"in s)throw new Error("options.strict was renamed to lowS");const u=void 0===c?function(t){let r;const n="string"==typeof t||(0,i.isBytes)(t),o=!n&&null!==t&&"object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!n&&!o)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(o)r=new L(t.r,t.s);else if(n){try{r=L.fromBytes((0,i.ensureBytes)("sig",t),"der")}catch(t){if(!(t instanceof e.DER.Err))throw t}if(!r)try{r=L.fromBytes((0,i.ensureBytes)("sig",t),"compact")}catch(t){return!1}}return r||!1}(r):L.fromBytes((0,i.ensureBytes)("sig",r),c);if(!1===u)return!1;try{const e=t.fromBytes(o);if(a&&u.hasHighS())return!1;const{r,s:i}=u,s=H(n),f=h.inv(i),c=h.create(s*f),l=h.create(r*f),d=t.BASE.multiplyUnsafe(c).add(e.multiplyUnsafe(l));return!d.is0()&&h.create(d.x)===r}catch(t){return!1}},recoverPublicKey:function(t,e,r={}){const{prehash:n}=l(r,I);return e=R(e,n),L.fromBytes(t,"recovered").recoverPublicKey(e).toBytes()},Signature:L,hash:r})}function x(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(t=>Math.ceil(t/2)))):void 0;return{CURVE:e,curveOpts:{Fp:r,Fn:(0,a.Field)(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}function I(t,e,r){return function(n){const o=t.sqr(n),i=t.mul(o,n);return t.add(t.add(i,t.mul(n,e)),r)}}},761:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e._DST_scalar=void 0,e.expand_message_xmd=u,e.expand_message_xof=l,e.hash_to_field=h,e.isogenyMap=function(t,e){const r=e.map(t=>Array.from(t).reverse());return(e,n)=>{const[i,s,a,f]=r.map(r=>r.reduce((r,n)=>t.add(t.mul(r,e),n))),[c,u]=(0,o.FpInvertBatch)(t,[s,f],!0);return e=t.mul(i,c),n=t.mul(n,t.mul(a,u)),{x:e,y:n}}},e.createHasher=function(t,r,n){if("function"!=typeof r)throw new Error("mapToCurve() must be defined");function o(e){return t.fromAffine(r(e))}function i(e){const r=e.clearCofactor();return r.equals(t.ZERO)?t.ZERO:(r.assertValidity(),r)}return{defaults:n,hashToCurve(t,e){const r=h(t,2,Object.assign({},n,e)),s=o(r[0]),a=o(r[1]);return i(s.add(a))},encodeToCurve(t,e){const r=n.encodeDST?{DST:n.encodeDST}:{};return i(o(h(t,1,Object.assign({},n,r,e))[0]))},mapToCurve(t){if(!Array.isArray(t))throw new Error("expected array of bigints");for(const e of t)if("bigint"!=typeof e)throw new Error("expected array of bigints");return i(o(t))},hashToScalar(r,o){const i=t.Fn.ORDER;return h(r,1,Object.assign({},n,{p:i,m:1,DST:e._DST_scalar},o))[0][0]}}};const n=r(627),o=r(967),i=n.bytesToNumberBE;function s(t,e){if(f(t),f(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function a(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function f(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function c(t){if(!(0,n.isBytes)(t)&&"string"!=typeof t)throw new Error("DST must be Uint8Array or string");return"string"==typeof t?(0,n.utf8ToBytes)(t):t}function u(t,e,r,o){(0,n.abytes)(t),f(r),(e=c(e)).length>255&&(e=o((0,n.concatBytes)((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:u}=o,l=Math.ceil(r/i);if(r>65535||l>255)throw new Error("expand_message_xmd: invalid lenInBytes");const h=(0,n.concatBytes)(e,s(e.length,1)),d=s(0,u),y=s(r,2),g=new Array(l),p=o((0,n.concatBytes)(d,t,y,s(0,1),h));g[0]=o((0,n.concatBytes)(p,s(1,1),h));for(let t=1;t<=l;t++){const e=[a(p,g[t-1]),s(t+1,1),h];g[t]=o((0,n.concatBytes)(...e))}return(0,n.concatBytes)(...g).slice(0,r)}function l(t,e,r,o,i){if((0,n.abytes)(t),f(r),(e=c(e)).length>255){const t=Math.ceil(2*o/8);e=i.create({dkLen:t}).update((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(s(r,2)).update(e).update(s(e.length,1)).digest()}function h(t,e,r){(0,n._validateObject)(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:s,k:a,m:c,hash:h,expand:d,DST:y}=r;if(!(0,n.isHash)(r.hash))throw new Error("expected valid hash");(0,n.abytes)(t),f(e);const g=s.toString(2).length,p=Math.ceil((g+a)/8),b=e*c*p;let w;if("xmd"===d)w=u(t,y,b,h);else if("xof"===d)w=l(t,y,b,a,h);else{if("_internal_pass"!==d)throw new Error('expand must be "xmd" or "xof"');w=t}const m=new Array(e);for(let t=0;t<e;t++){const e=new Array(c);for(let r=0;r<c;r++){const n=p*(r+t*c),a=w.subarray(n,n+p);e[r]=(0,o.mod)(i(a),s)}m[t]=e}return m}e._DST_scalar=(0,n.utf8ToBytes)("HashToScalar-")},783:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.uint8ArrayToHex=e.hexToUint8Array=void 0,e.hexToUint8Array=t=>{const e=[];for(let r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return new Uint8Array(e)},e.uint8ArrayToHex=t=>Array.from(t).map(t=>t.toString(16).padStart(2,"0")).join("")},793:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buildWitnessSetProperties=e.makeBitMaskFilter=e.operations=e.validateUsername=void 0;const n=r(978),o=r(558),i=r(783);e.validateUsername=t=>{let e="Account name should ";if(!t)return e+"not be empty.";const r=t.length;if(r<3)return e+"be longer.";if(r>16)return e+"be shorter.";/\./.test(t)&&(e="Each account segment should ");const n=t.split("."),o=n.length;for(let t=0;t<o;t++){const r=n[t];if(!/^[a-z]/.test(r))return e+"start with a lowercase letter.";if(!/^[a-z0-9-]*$/.test(r))return e+"have only lowercase letters, digits, or dashes.";if(!/[a-z0-9]$/.test(r))return e+"end with a lowercase letter or digit.";if(!(r.length>=3))return e+"be longer"}return null},e.operations={vote:0,comment:1,transfer:2,transfer_to_vesting:3,withdraw_vesting:4,limit_order_create:5,limit_order_cancel:6,feed_publish:7,convert:8,account_create:9,account_update:10,witness_update:11,account_witness_vote:12,account_witness_proxy:13,pow:14,custom:15,report_over_production:16,delete_comment:17,custom_json:18,comment_options:19,set_withdraw_vesting_route:20,limit_order_create2:21,claim_account:22,create_claimed_account:23,request_account_recovery:24,recover_account:25,change_recovery_account:26,escrow_transfer:27,escrow_dispute:28,escrow_release:29,pow2:30,escrow_approve:31,transfer_to_savings:32,transfer_from_savings:33,cancel_transfer_from_savings:34,custom_binary:35,decline_voting_rights:36,reset_account:37,set_reset_account:38,claim_reward_balance:39,delegate_vesting_shares:40,account_create_with_delegation:41,witness_set_properties:42,account_update2:43,create_proposal:44,update_proposal_votes:45,remove_proposal:46,update_proposal:47,collateralized_convert:48,recurrent_transfer:49,fill_convert_request:50,author_reward:51,curation_reward:52,comment_reward:53,liquidity_reward:54,interest:55,fill_vesting_withdraw:56,fill_order:57,shutdown_witness:58,fill_transfer_from_savings:59,hardfork:60,comment_payout_update:61,return_vesting_delegation:62,comment_benefactor_reward:63,producer_reward:64,clear_null_account_balance:65,proposal_pay:66,sps_fund:67,hardfork_hive:68,hardfork_hive_restore:69,delayed_voting:70,consolidate_treasury_balance:71,effective_comment_vote:72,ineffective_delete_comment:73,sps_convert:74,expired_account_notification:75,changed_recovery_account:76,transfer_to_vesting_completed:77,pow_reward:78,vesting_shares_split:79,account_created:80,fill_collateralized_convert_request:81,system_warning:82,fill_recurrent_transfer:83,failed_recurrent_transfer:84,limit_order_cancelled:85,producer_missed:86,proposal_fee:87,collateralized_convert_immediate_conversion:88,escrow_approved:89,escrow_rejected:90,proxy_cleared:91,declined_voting_rights:92},e.makeBitMaskFilter=t=>t.reduce(s,[BigInt(0),BigInt(0)]).map(t=>t!==BigInt(0)?t.toString():null);const s=([t,e],r)=>r<64?[t|BigInt(1)<<BigInt(r),e]:[t,e|BigInt(1)<<BigInt(r-64)];e.buildWitnessSetProperties=(t,e)=>{const r={extensions:[],owner:t,props:[]};for(const t of Object.keys(e)){let o;switch(t){case"key":case"new_signing_key":o=n.Serializer.PublicKey;break;case"account_subsidy_budget":case"account_subsidy_decay":case"maximum_block_size":o=n.Serializer.UInt32;break;case"hbd_interest_rate":o=n.Serializer.UInt16;break;case"url":o=n.Serializer.String;break;case"hbd_exchange_rate":o=n.Serializer.Price;break;case"account_creation_fee":o=n.Serializer.Asset;break;default:throw new Error(`Unknown witness prop: ${t}`)}r.props.push([t,a(o,e[t])])}return r.props.sort((t,e)=>t[0].localeCompare(e[0])),["witness_set_properties",r]};const a=(t,e)=>{const r=new o.ByteBuffer(o.ByteBuffer.DEFAULT_CAPACITY,o.ByteBuffer.LITTLE_ENDIAN);return t(r,e),r.flip(),(0,i.uint8ArrayToHex)(new Uint8Array(r.toBuffer()))}},806:function(t,e,r){var n,o=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(n=function(t){return n=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},n(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r=n(t),s=0;s<r.length;s++)"default"!==r[s]&&o(e,t,r[s]);return i(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.Memo=e.Signature=e.PublicKey=e.config=e.call=e.PrivateKey=e.Transaction=void 0;const a=r(517),f=r(926),c=r(825),u=r(408);Object.defineProperty(e,"PrivateKey",{enumerable:!0,get:function(){return u.PrivateKey}});const l=r(340);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return l.PublicKey}});const h=r(126);Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return h.Signature}});const d=r(890);Object.defineProperty(e,"call",{enumerable:!0,get:function(){return d.call}});const y=r(206);Object.defineProperty(e,"config",{enumerable:!0,get:function(){return y.config}});const g=r(80);Object.defineProperty(e,"Memo",{enumerable:!0,get:function(){return g.Memo}});const p=s(r(793));e.utils=p;class b{constructor(t=null){this.signedTransaction=null,this.created=!!t,this.transaction=t&&!("signatures"in t)?t:null,this.signedTransaction=t&&"signatures"in t?t:null}async create(t,e=60){return this.transaction=await(0,f.createTransaction)(t,e),this.created=!0,this.transaction}sign(t){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(this.signedTransaction){const{signedTransaction:e,txId:r}=(0,a.signTransaction)(this.signedTransaction,t);this.signedTransaction=e,this.txId=r}else{if(!this.transaction)throw new Error("No transaction to sign");{const{signedTransaction:e,txId:r}=(0,a.signTransaction)(this.transaction,t);this.signedTransaction=e,this.txId=r}}return this.signedTransaction}async broadcast(t=5,e=5){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(!this.signedTransaction)throw new Error("First sign the transaction by .sign(keys)");const r=await(0,c.broadcastTransaction)(this.signedTransaction,t,e);return r.error?r.error.message.includes("Duplicate transaction check failed")?{id:1,jsonrpc:"2.0",result:{tx_id:this.txId,status:"unkown"}}:r:(this.txId||(this.txId=this.digest().txId),{id:1,jsonrpc:"2.0",result:{tx_id:this.txId,status:"unkown"}})}digest(){if(!this.created||!this.transaction)throw new Error("First create a transaction by .create(operations)");return(0,a.transactionDigest)(this.transaction)}addSignature(t=""){if(!this.created||!this.transaction)throw new Error("First create a transaction by .create(operations)");if("string"!=typeof t)throw new Error("Signature must be string");if(130!==t.length)throw new Error("Signature must be 130 characters long");return this.signedTransaction||(this.signedTransaction={...this.transaction,signatures:[]}),this.signedTransaction.signatures.push(t),this.signedTransaction}}e.Transaction=b,e.default={Transaction:b,PrivateKey:u.PrivateKey,call:d.call,config:y.config,PublicKey:l.PublicKey,Signature:h.Signature,Memo:g.Memo,utils:p}},825:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.broadcastTransaction=void 0;const n=r(206),o=r(890);e.broadcastTransaction=async(t,e=n.config.timeout,r=n.config.retry)=>await(0,o.call)("condenser_api.broadcast_transaction",[t],e,r)},839:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.RIPEMD160=e.md5=e.MD5=e.sha1=e.SHA1=void 0;const n=r(202),o=r(175),i=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),s=new Uint32Array(80);class a extends n.HashMD{constructor(){super(64,20,8,!1),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4]}get(){const{A:t,B:e,C:r,D:n,E:o}=this;return[t,e,r,n,o]}set(t,e,r,n,o){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|o}process(t,e){for(let r=0;r<16;r++,e+=4)s[r]=t.getUint32(e,!1);for(let t=16;t<80;t++)s[t]=(0,o.rotl)(s[t-3]^s[t-8]^s[t-14]^s[t-16],1);let{A:r,B:i,C:a,D:f,E:c}=this;for(let t=0;t<80;t++){let e,u;t<20?(e=(0,n.Chi)(i,a,f),u=1518500249):t<40?(e=i^a^f,u=1859775393):t<60?(e=(0,n.Maj)(i,a,f),u=2400959708):(e=i^a^f,u=3395469782);const l=(0,o.rotl)(r,5)+e+c+u+s[t]|0;c=f,f=a,a=(0,o.rotl)(i,30),i=r,r=l}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,f=f+this.D|0,c=c+this.E|0,this.set(r,i,a,f,c)}roundClean(){(0,o.clean)(s)}destroy(){this.set(0,0,0,0,0),(0,o.clean)(this.buffer)}}e.SHA1=a,e.sha1=(0,o.createHasher)(()=>new a);const f=Math.pow(2,32),c=Array.from({length:64},(t,e)=>Math.floor(f*Math.abs(Math.sin(e+1)))),u=i.slice(0,4),l=new Uint32Array(16);class h extends n.HashMD{constructor(){super(64,16,8,!0),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3]}get(){const{A:t,B:e,C:r,D:n}=this;return[t,e,r,n]}set(t,e,r,n){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n}process(t,e){for(let r=0;r<16;r++,e+=4)l[r]=t.getUint32(e,!0);let{A:r,B:i,C:s,D:a}=this;for(let t=0;t<64;t++){let e,f,u;t<16?(e=(0,n.Chi)(i,s,a),f=t,u=[7,12,17,22]):t<32?(e=(0,n.Chi)(a,i,s),f=(5*t+1)%16,u=[5,9,14,20]):t<48?(e=i^s^a,f=(3*t+5)%16,u=[4,11,16,23]):(e=s^(i|~a),f=7*t%16,u=[6,10,15,21]),e=e+r+c[t]+l[f],r=a,a=s,s=i,i+=(0,o.rotl)(e,u[t%4])}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,this.set(r,i,s,a)}roundClean(){(0,o.clean)(l)}destroy(){this.set(0,0,0,0),(0,o.clean)(this.buffer)}}e.MD5=h,e.md5=(0,o.createHasher)(()=>new h);const d=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),y=(()=>Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)))(),g=(()=>y.map(t=>(9*t+5)%16))(),p=(()=>{const t=[[y],[g]];for(let e=0;e<4;e++)for(let r of t)r.push(r[e].map(t=>d[t]));return t})(),b=(()=>p[0])(),w=(()=>p[1])(),m=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),_=b.map((t,e)=>t.map(t=>m[e][t])),E=w.map((t,e)=>t.map(t=>m[e][t])),v=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),B=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function A(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}const x=new Uint32Array(16);class I extends n.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:r,h3:n,h4:o}=this;return[t,e,r,n,o]}set(t,e,r,n,o){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|o}process(t,e){for(let r=0;r<16;r++,e+=4)x[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,a=0|this.h2,f=a,c=0|this.h3,u=c,l=0|this.h4,h=l;for(let t=0;t<5;t++){const e=4-t,d=v[t],y=B[t],g=b[t],p=w[t],m=_[t],I=E[t];for(let e=0;e<16;e++){const n=(0,o.rotl)(r+A(t,i,a,c)+x[g[e]]+d,m[e])+l|0;r=l,l=c,c=0|(0,o.rotl)(a,10),a=i,i=n}for(let t=0;t<16;t++){const r=(0,o.rotl)(n+A(e,s,f,u)+x[p[t]]+y,I[t])+h|0;n=h,h=u,u=0|(0,o.rotl)(f,10),f=s,s=r}}this.set(this.h1+a+u|0,this.h2+c+h|0,this.h3+l+n|0,this.h4+r+s|0,this.h0+i+f|0)}roundClean(){(0,o.clean)(x)}destroy(){this.destroyed=!0,(0,o.clean)(this.buffer),this.set(0,0,0,0,0)}}e.RIPEMD160=I,e.ripemd160=(0,o.createHasher)(()=>new I)},890:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.call=void 0;const n=r(206);let o;o="undefined"!=typeof window&&"undefined"!=typeof fetch?{CancelToken:{source:()=>({token:{},cancel:()=>{}})},post:async(t,e,r={})=>{const n=new AbortController,o=setTimeout(()=>n.abort(),r.timeout||5e3);try{const i=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",...r.headers},body:"string"==typeof e?e:JSON.stringify(e),signal:n.signal});if(clearTimeout(o),!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return{status:i.status,data:await i.json()}}catch(t){if(clearTimeout(o),"AbortError"===t.name)throw new Error("Request timeout");throw t}}}:r(674);let i=0,s=0;e.call=async(t,r=[],o=n.config.timeout,c=n.config.retry)=>{let u="";u=Array.isArray(n.config.node)&&n.config.node.length>0?n.config.node[i]:n.config.node;const l=JSON.stringify({jsonrpc:"2.0",method:t,params:r,id:1});try{const t=await a(u,l,o);return s=0,t}catch(i){if(s++,!Array.isArray(n.config.node)||s>c)throw i;return await f(),(0,e.call)(t,r,o,c)}};const a=(t,e,r)=>{const i={};if(null!==n.config.axiosAdapter&&(i.adapter=n.config.axiosAdapter),o.CancelToken){const n=o.CancelToken.source();let s,a=0;return new Promise((f,c)=>{o.post(t,e,{...i,cancelToken:n.token}).then(t=>{t&&200===t.status?(a=1,f(t.data)):c(new Error(`Unexpected response status: ${t.status}`))}).catch(t=>{c(t)}).finally(()=>{s&&clearTimeout(s)}),s=setTimeout(()=>{a||(n.cancel("Operation canceled by timeout"),c(new Error(`Network timeout: ${t}: ${e}`)))},1e3*r)})}return o.post(t,e,{timeout:1e3*r})};"Deno"in globalThis&&(n.config.axiosAdapter=async t=>{const{method:e,url:r,headers:n,data:o,...i}=t,s=await fetch(r,{method:e,headers:new Headers(n),body:o,...i});return{data:await s.json(),status:s.status,statusText:s.statusText,headers:Object.fromEntries(s.headers.entries()),config:t,request:s}});const f=async(t=i+1,e=0)=>{if(!Array.isArray(n.config.node))return;if(e>n.config.node.length)throw new Error(`Can't find a working node! Current nodes are: ${n.config.node.join(", ")}`);t>n.config.node.length-1&&(t=0);const r=JSON.stringify({jsonrpc:"2.0",method:"condenser_api.get_accounts",params:[["mahdiyari"]],id:189});try{const o=await a(n.config.node[t],r,n.config.timeout);if(!(o&&189===o.id&&o.result&&o.result[0]&&"mahdiyari"===o.result[0].name))return f(t+1,e+1);i=t}catch{return f(t+1,e+1)}},c=setInterval(async()=>{if(!Array.isArray(n.config.node))return;const t=JSON.stringify({jsonrpc:"2.0",method:"condenser_api.get_accounts",params:[["mahdiyari"]],id:88885});try{const e=await a(n.config.node[i],t,n.config.timeout);e&&88885===e.id&&e.result&&e.result[0]&&"mahdiyari"===e.result[0].name||f()}catch{f()}},n.config.healthcheckInterval);c&&c.unref&&c.unref()},926:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTransaction=void 0;const n=r(947),o=r(783);e.createTransaction=async(t,e)=>{const r=e?1e3*e:6e4,i=await(0,n.getGlobalProps)(),s=65535&i.head_block_number,a=(0,o.hexToUint8Array)(i.head_block_id),f=new DataView(a.buffer).getUint32(4,!0);return{expiration:new Date(Date.now()+r).toISOString().slice(0,-5),extensions:[],operations:t,ref_block_num:s,ref_block_prefix:f}}},947:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalProps=void 0;const n=r(890);e.getGlobalProps=async()=>{const t=await(0,n.call)("condenser_api.get_dynamic_global_properties");if(!t)throw new Error("Couldn't resolve global properties");if(t&&(!t.id||!t.result))throw new Error("Bad response @ global props");return t.result}},957:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(487));e.default=(0,o.default)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},967:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNegativeLE=void 0,e.mod=y,e.pow=function(t,e,r){return v(I(r),t,e)},e.pow2=function(t,e,r){let n=t;for(;e-- >o;)n*=n,n%=r;return n},e.invert=g,e.tonelliShanks=m,e.FpSqrt=_,e.validateField=function(t){const e=E.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,n._validateObject)(t,e),t},e.FpPow=v,e.FpInvertBatch=B,e.FpDiv=function(t,e,r){return t.mul(e,"bigint"==typeof r?g(r,t.ORDER):t.inv(r))},e.FpLegendre=A,e.FpIsSquare=function(t,e){return 1===A(t,e)},e.nLength=x,e.Field=I,e.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)},e.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r},e.hashToPrivateScalar=function(t,e,r=!1){const o=(t=(0,n.ensureBytes)("privateHash",t)).length,s=x(e).nByteLength+8;if(s<24||o<s||o>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+o);return y(r?(0,n.bytesToNumberLE)(t):(0,n.bytesToNumberBE)(t),e-i)+i},e.getFieldBytesLength=S,e.getMinHashLength=T,e.mapHashToField=function(t,e,r=!1){const o=t.length,s=S(e),a=T(e);if(o<16||o<a||o>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+o);const f=y(r?(0,n.bytesToNumberLE)(t):(0,n.bytesToNumberBE)(t),e-i)+i;return r?(0,n.numberToBytesLE)(f,s):(0,n.numberToBytesBE)(f,s)};const n=r(627),o=BigInt(0),i=BigInt(1),s=BigInt(2),a=BigInt(3),f=BigInt(4),c=BigInt(5),u=BigInt(7),l=BigInt(8),h=BigInt(9),d=BigInt(16);function y(t,e){const r=t%e;return r>=o?r:e+r}function g(t,e){if(t===o)throw new Error("invert: expected non-zero number");if(e<=o)throw new Error("invert: expected positive modulus, got "+e);let r=y(t,e),n=e,s=o,a=i,f=i,c=o;for(;r!==o;){const t=n/r,e=n%r,o=s-f*t,i=a-c*t;n=r,r=e,s=f,a=c,f=o,c=i}if(n!==i)throw new Error("invert: does not exist");return y(s,e)}function p(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function b(t,e){const r=(t.ORDER+i)/f,n=t.pow(e,r);return p(t,n,e),n}function w(t,e){const r=(t.ORDER-c)/l,n=t.mul(e,s),o=t.pow(n,r),i=t.mul(e,o),a=t.mul(t.mul(i,s),o),f=t.mul(i,t.sub(a,t.ONE));return p(t,f,e),f}function m(t){if(t<a)throw new Error("sqrt is not defined for small field");let e=t-i,r=0;for(;e%s===o;)e/=s,r++;let n=s;const f=I(t);for(;1===A(f,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return b;let c=f.pow(n,e);const u=(e+i)/s;return function(t,n){if(t.is0(n))return n;if(1!==A(t,n))throw new Error("Cannot find square root");let o=r,s=t.mul(t.ONE,c),a=t.pow(n,e),f=t.pow(n,u);for(;!t.eql(a,t.ONE);){if(t.is0(a))return t.ZERO;let e=1,r=t.sqr(a);for(;!t.eql(r,t.ONE);)if(e++,r=t.sqr(r),e===o)throw new Error("Cannot find square root");const n=i<<BigInt(o-e-1),c=t.pow(s,n);o=e,s=t.sqr(c),a=t.mul(a,s),f=t.mul(f,c)}return f}}function _(t){return t%f===a?b:t%l===c?w:t%d===h?function(t){const e=I(t),r=m(t),n=r(e,e.neg(e.ONE)),o=r(e,n),i=r(e,e.neg(n)),s=(t+u)/d;return(t,e)=>{let r=t.pow(e,s),a=t.mul(r,n);const f=t.mul(r,o),c=t.mul(r,i),u=t.eql(t.sqr(a),e),l=t.eql(t.sqr(f),e);r=t.cmov(r,a,u),a=t.cmov(c,f,l);const h=t.eql(t.sqr(a),e),d=t.cmov(r,a,h);return p(t,d,e),d}}(t):m(t)}e.isNegativeLE=(t,e)=>(y(t,e)&i)===i;const E=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(t,e,r){if(r<o)throw new Error("invalid exponent, negatives unsupported");if(r===o)return t.ONE;if(r===i)return e;let n=t.ONE,s=e;for(;r>o;)r&i&&(n=t.mul(n,s)),s=t.sqr(s),r>>=i;return n}function B(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),o=e.reduce((e,r,o)=>t.is0(r)?e:(n[o]=e,t.mul(e,r)),t.ONE),i=t.inv(o);return e.reduceRight((e,r,o)=>t.is0(r)?e:(n[o]=t.mul(e,n[o]),t.mul(e,r)),i),n}function A(t,e){const r=(t.ORDER-i)/s,n=t.pow(e,r),o=t.eql(n,t.ONE),a=t.eql(n,t.ZERO),f=t.eql(n,t.neg(t.ONE));if(!o&&!a&&!f)throw new Error("invalid Legendre symbol result");return o?1:a?0:-1}function x(t,e){void 0!==e&&(0,n.anumber)(e);const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function I(t,e,r=!1,s={}){if(t<=o)throw new Error("invalid field: expected ORDER > 0, got "+t);let a,f,c,u=!1;if("object"==typeof e&&null!=e){if(s.sqrt||r)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(a=t.BITS),t.sqrt&&(f=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(u=t.modFromBytes),c=t.allowedLengths}else"number"==typeof e&&(a=e),s.sqrt&&(f=s.sqrt);const{nBitLength:l,nByteLength:h}=x(t,a);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const p=Object.freeze({ORDER:t,isLE:r,BITS:l,BYTES:h,MASK:(0,n.bitMask)(l),ZERO:o,ONE:i,allowedLengths:c,create:e=>y(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return o<=e&&e<t},is0:t=>t===o,isValidNot0:t=>!p.is0(t)&&p.isValid(t),isOdd:t=>(t&i)===i,neg:e=>y(-e,t),eql:(t,e)=>t===e,sqr:e=>y(e*e,t),add:(e,r)=>y(e+r,t),sub:(e,r)=>y(e-r,t),mul:(e,r)=>y(e*r,t),pow:(t,e)=>v(p,t,e),div:(e,r)=>y(e*g(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>g(e,t),sqrt:f||(e=>(d||(d=_(t)),d(p,e))),toBytes:t=>r?(0,n.numberToBytesLE)(t,h):(0,n.numberToBytesBE)(t,h),fromBytes:(e,o=!0)=>{if(c){if(!c.includes(e.length)||e.length>h)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);const t=new Uint8Array(h);t.set(e,r?0:t.length-e.length),e=t}if(e.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+e.length);let i=r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e);if(u&&(i=y(i,t)),!o&&!p.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:t=>B(p,t),cmov:(t,e,r)=>r?e:t});return Object.freeze(p)}function S(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function T(t){const e=S(t);return e+Math.ceil(e/2)}},978:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Serializer=void 0;const n=r(340),o=r(152),i=r(307),s=()=>{throw new Error("Void can not be serialized")},a=(t,e)=>{t.writeVString(e)},f=(t,e)=>{t.writeInt16(e)},c=(t,e)=>{t.writeInt64(e)},u=(t,e)=>{t.writeUint8(e)},l=(t,e)=>{t.writeUint16(e)},h=(t,e)=>{t.writeUint32(e)},d=(t,e)=>{t.writeUint64(e)},y=(t,e)=>{t.writeByte(e?1:0)},g=t=>(e,r)=>{let n=r[0];const o=r[1];"string"==typeof n&&(n="update_proposal_end_date"===n?1:0),e.writeVarint32(n),t[n](e,o)},p=(t,e)=>{const r=o.Asset.from(e),n=r.getPrecision();t.writeInt64(Math.round(r.amount*Math.pow(10,n))),t.writeUint8(n);for(let e=0;e<7;e++)t.writeUint8(r.symbol.charCodeAt(e)||0)},b=(t,e)=>{t.writeUint32(Math.floor(new Date(e+"Z").getTime()/1e3))},w=(t,e)=>{null===e||"string"==typeof e&&"1111111111111111111111111111111114T1Anm"===e.slice(-39)?t.append(new Uint8Array(33).fill(0)):t.append(n.PublicKey.from(e).key)},m=(t=null)=>(e,r)=>{const n=(r=i.HexBuffer.from(r)).buffer.length;if(t){if(n!==t)throw new Error(`Unable to serialize binary. Expected ${t} bytes, got ${n}`)}else e.writeVarint32(n);e.append(r.buffer)},_=m(),E=(t,e)=>(r,n)=>{r.writeVarint32(n.length);for(const[o,i]of n)t(r,o),e(r,i)},v=t=>(e,r)=>{e.writeVarint32(r.length);for(const n of r)t(e,n)},B=t=>(e,r)=>{for(const[n,o]of t)try{o(e,r[n])}catch(t){throw t.message=`${n}: ${t.message}`,t}},A=t=>(e,r)=>{void 0!==r?(e.writeByte(1),t(e,r)):e.writeByte(0)},x=B([["weight_threshold",h],["account_auths",E(a,l)],["key_auths",E(w,l)]]),I=B([["account",a],["weight",l]]),S=B([["base",p],["quote",p]]),T=B([["previous",m(20)],["timestamp",b],["witness",a],["transaction_merkle_root",m(20)],["extensions",v(s)],["witness_signature",m(65)]]),U=B([["account_creation_fee",p],["maximum_block_size",h],["hbd_interest_rate",l]]),L=(t,e)=>{const r=B(e);return(e,n)=>{e.writeVarint32(t),r(e,n)}},O={};O.account_create=L(9,[["fee",p],["creator",a],["new_account_name",a],["owner",x],["active",x],["posting",x],["memo_key",w],["json_metadata",a]]),O.account_create_with_delegation=L(41,[["fee",p],["delegation",p],["creator",a],["new_account_name",a],["owner",x],["active",x],["posting",x],["memo_key",w],["json_metadata",a],["extensions",v(s)]]),O.account_update=L(10,[["account",a],["owner",A(x)],["active",A(x)],["posting",A(x)],["memo_key",w],["json_metadata",a]]),O.account_witness_proxy=L(13,[["account",a],["proxy",a]]),O.account_witness_vote=L(12,[["account",a],["witness",a],["approve",y]]),O.cancel_transfer_from_savings=L(34,[["from",a],["request_id",h]]),O.change_recovery_account=L(26,[["account_to_recover",a],["new_recovery_account",a],["extensions",v(s)]]),O.claim_account=L(22,[["creator",a],["fee",p],["extensions",v(s)]]),O.claim_reward_balance=L(39,[["account",a],["reward_hive",p],["reward_hbd",p],["reward_vests",p]]),O.comment=L(1,[["parent_author",a],["parent_permlink",a],["author",a],["permlink",a],["title",a],["body",a],["json_metadata",a]]),O.comment_options=L(19,[["author",a],["permlink",a],["max_accepted_payout",p],["percent_hbd",l],["allow_votes",y],["allow_curation_rewards",y],["extensions",v(g([B([["beneficiaries",v(I)]])]))]]),O.convert=L(8,[["owner",a],["requestid",h],["amount",p]]),O.create_claimed_account=L(23,[["creator",a],["new_account_name",a],["owner",x],["active",x],["posting",x],["memo_key",w],["json_metadata",a],["extensions",v(s)]]),O.custom=L(15,[["required_auths",v(a)],["id",l],["data",_]]),O.custom_binary=L(35,[["required_owner_auths",v(a)],["required_active_auths",v(a)],["required_posting_auths",v(a)],["required_auths",v(x)],["id",a],["data",_]]),O.custom_json=L(18,[["required_auths",v(a)],["required_posting_auths",v(a)],["id",a],["json",a]]),O.decline_voting_rights=L(36,[["account",a],["decline",y]]),O.delegate_vesting_shares=L(40,[["delegator",a],["delegatee",a],["vesting_shares",p]]),O.delete_comment=L(17,[["author",a],["permlink",a]]),O.escrow_approve=L(31,[["from",a],["to",a],["agent",a],["who",a],["escrow_id",h],["approve",y]]),O.escrow_dispute=L(28,[["from",a],["to",a],["agent",a],["who",a],["escrow_id",h]]),O.escrow_release=L(29,[["from",a],["to",a],["agent",a],["who",a],["receiver",a],["escrow_id",h],["hbd_amount",p],["hive_amount",p]]),O.escrow_transfer=L(27,[["from",a],["to",a],["hbd_amount",p],["hive_amount",p],["escrow_id",h],["agent",a],["fee",p],["json_meta",a],["ratification_deadline",b],["escrow_expiration",b]]),O.feed_publish=L(7,[["publisher",a],["exchange_rate",S]]),O.limit_order_cancel=L(6,[["owner",a],["orderid",h]]),O.limit_order_create=L(5,[["owner",a],["orderid",h],["amount_to_sell",p],["min_to_receive",p],["fill_or_kill",y],["expiration",b]]),O.limit_order_create2=L(21,[["owner",a],["orderid",h],["amount_to_sell",p],["fill_or_kill",y],["exchange_rate",S],["expiration",b]]),O.recover_account=L(25,[["account_to_recover",a],["new_owner_authority",x],["recent_owner_authority",x],["extensions",v(s)]]),O.report_over_production=L(16,[["reporter",a],["first_block",T],["second_block",T]]),O.request_account_recovery=L(24,[["recovery_account",a],["account_to_recover",a],["new_owner_authority",x],["extensions",v(s)]]),O.reset_account=L(37,[["reset_account",a],["account_to_reset",a],["new_owner_authority",x]]),O.set_reset_account=L(38,[["account",a],["current_reset_account",a],["reset_account",a]]),O.set_withdraw_vesting_route=L(20,[["from_account",a],["to_account",a],["percent",l],["auto_vest",y]]),O.transfer=L(2,[["from",a],["to",a],["amount",p],["memo",a]]),O.transfer_from_savings=L(33,[["from",a],["request_id",h],["to",a],["amount",p],["memo",a]]),O.transfer_to_savings=L(32,[["from",a],["to",a],["amount",p],["memo",a]]),O.transfer_to_vesting=L(3,[["from",a],["to",a],["amount",p]]),O.vote=L(0,[["voter",a],["author",a],["permlink",a],["weight",f]]),O.withdraw_vesting=L(4,[["account",a],["vesting_shares",p]]),O.witness_update=L(11,[["owner",a],["url",a],["block_signing_key",w],["props",U],["fee",p]]),O.witness_set_properties=L(42,[["owner",a],["props",E(a,_)],["extensions",v(s)]]),O.account_update2=L(43,[["account",a],["owner",A(x)],["active",A(x)],["posting",A(x)],["memo_key",A(w)],["json_metadata",a],["posting_json_metadata",a],["extensions",v(s)]]),O.create_proposal=L(44,[["creator",a],["receiver",a],["start_date",b],["end_date",b],["daily_pay",p],["subject",a],["permlink",a],["extensions",v(s)]]),O.update_proposal_votes=L(45,[["voter",a],["proposal_ids",v(c)],["approve",y],["extensions",v(s)]]),O.remove_proposal=L(46,[["proposal_owner",a],["proposal_ids",v(c)],["extensions",v(s)]]);const H=B([["end_date",b]]);O.update_proposal=L(47,[["proposal_id",d],["creator",a],["daily_pay",p],["subject",a],["permlink",a],["extensions",v(g([s,H]))]]),O.collateralized_convert=L(48,[["owner",a],["requestid",h],["amount",p]]),O.recurrent_transfer=L(49,[["from",a],["to",a],["amount",p],["memo",a],["recurrence",l],["executions",l],["extensions",v(B([["type",u],["value",B([["pair_id",u]])]]))]]);const k=(t,e)=>{const r=O[e[0]];if(!r)throw new Error(`No serializer for operation: ${e[0]}`);try{r(t,e[1])}catch(t){throw t.message=`${e[0]}: ${t.message}`,t}},F=B([["ref_block_num",l],["ref_block_prefix",h],["expiration",b],["operations",v(k)],["extensions",v(a)]]),R=B([["from",w],["to",w],["nonce",d],["check",h],["encrypted",m()]]);e.Serializer={Array:v,Asset:p,Authority:x,Binary:m,Boolean:y,Date:b,FlatMap:E,Int16:f,Int32:(t,e)=>{t.writeInt32(e)},Int64:c,Int8:(t,e)=>{t.writeInt8(e)},Memo:R,Object:B,Operation:k,Optional:A,Price:S,PublicKey:w,StaticVariant:g,String:a,Transaction:F,UInt16:l,UInt32:h,UInt64:d,UInt8:u,Void:s}}},r={};return function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}(806)})());
//# sourceMappingURL=hive-tx.min.js.map