/*! For license information please see hive-tx.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.hiveTx=e():t.hiveTx=e()}(this,()=>(()=>{var t={606:t=>{var e,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var a,f=[],c=!1,l=-1;function u(){c&&a&&(c=!1,a.length?f=a.concat(f):l=-1,f.length&&h())}function h(){if(!c){var t=s(u);c=!0;for(var e=f.length;e;){for(a=f,f=[];++l<e;)a&&a[l].run();l=-1,e=f.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new d(t,e)),1!==f.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{Memo:()=>us,PrivateKey:()=>ui,PublicKey:()=>Je,Signature:()=>fi,Transaction:()=>bs,call:()=>oi,config:()=>l,utils:()=>e});var t={};r.r(t),r.d(t,{hasBrowserEnv:()=>Gn,hasStandardBrowserEnv:()=>Wn,hasStandardBrowserWebWorkerEnv:()=>Jn,navigator:()=>Yn,origin:()=>Xn});var e={};r.r(e),r.d(e,{buildWitnessSetProperties:()=>ys,makeBitMaskFilter:()=>ps,operations:()=>ds,validateUsername:()=>hs});class o{static VERSION="0.0.1";static LITTLE_ENDIAN=!0;static BIG_ENDIAN=!1;static DEFAULT_CAPACITY=16;static DEFAULT_ENDIAN=o.BIG_ENDIAN;static DEFAULT_NOASSERT=!1;static METRICS_BYTES="b";buffer;view;offset;markedOffset;limit;littleEndian;noAssert;constructor(t,e,r){if(void 0===t&&(t=o.DEFAULT_CAPACITY),void 0===e&&(e=o.DEFAULT_ENDIAN),void 0===r&&(r=o.DEFAULT_NOASSERT),!r){if((t|=0)<0)throw RangeError("Illegal capacity");e=!!e,r=!!r}this.buffer=0===t?f:new ArrayBuffer(t),this.view=0===t?new DataView(f):new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=e,this.noAssert=r}static accessor=function(){return DataView};static allocate=function(t,e,r){return new o(t,e,r)};static concat=function(t,e,r){let n=0;const i=t.length;let s;for(let e,r=0;r<i;++r){const i=t[r];i instanceof o||(t[r]=o.wrap(i)),e=t[r].limit-t[r].offset,e>0&&(n+=e)}if(0===n)return new o(0,e,r);const a=new o(n,e,r);let f;const c=new Uint8Array(a.buffer);let l=0;for(;l<i;)f=t[l++],s=f.limit-f.offset,s<=0||(c.set(new Uint8Array(f.buffer).subarray(f.offset,f.limit),a.offset),a.offset+=s);return a.limit=a.offset,a.offset=0,a};static type=function(){return ArrayBuffer};static wrap=function(t,e,r){if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");let n;if(t instanceof o)return n=t.clone(),n.markedOffset=-1,n;if(t instanceof Uint8Array)n=new o(0,e,r),t.length>0&&(n.buffer=t.buffer,n.offset=t.byteOffset,n.limit=t.byteOffset+t.byteLength,n.view=new DataView(t.buffer));else if(t instanceof ArrayBuffer)n=new o(0,e,r),t.byteLength>0&&(n.buffer=t,n.offset=0,n.limit=t.byteLength,n.view=t.byteLength>0?new DataView(t):new DataView(f));else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");n=new o(t.length,e,r),n.limit=t.length;for(let e=0;e<t.length;++e)n.view.setUint8(e,t[e])}return n};readBytes(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}const n=this.slice(e,e+t);return r&&(this.offset+=t),n}writeBytes=this.append;writeInt8(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=1,this.view.setInt8(e,t),r&&(this.offset+=1),this}writeByte=this.writeInt8;readInt8(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}const r=this.view.getInt8(t);return e&&(this.offset+=1),r}readByte=this.readInt8;writeUint8(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=1,this.view.setUint8(e,t),r&&(this.offset+=1),this}writeUInt8=this.writeUint8;readUint8(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}const r=this.view.getUint8(t);return e&&(this.offset+=1),r}readUInt8=this.readUint8;writeInt16(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=2,this.view.setInt16(e,t,this.littleEndian),r&&(this.offset+=2),this}writeShort=this.writeInt16;readInt16(t){const e=void 0===t;if(void 0===t&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}const r=this.view.getInt16(t,this.littleEndian);return e&&(this.offset+=2),r}readShort=this.readInt16;writeUint16(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=2,this.view.setUint16(e,t,this.littleEndian),r&&(this.offset+=2),this}writeUInt16=this.writeUint16;readUint16(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}const r=this.view.getUint16(t,this.littleEndian);return e&&(this.offset+=2),r}readUInt16=this.readUint16;writeInt32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.view.setInt32(e,t,this.littleEndian),r&&(this.offset+=4),this}writeInt=this.writeInt32;readInt32(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}const r=this.view.getInt32(t,this.littleEndian);return e&&(this.offset+=4),r}readInt=this.readInt32;writeUint32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.view.setUint32(e,t,this.littleEndian),r&&(this.offset+=4),this}writeUInt32=this.writeUint32;readUint32(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}const r=this.view.getUint32(t,this.littleEndian);return e&&(this.offset+=4),r}readUInt32=this.readUint32;writeFloat32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=4,this.view.setFloat32(e,t,this.littleEndian),r&&(this.offset+=4),this}writeFloat=this.writeFloat32;readFloat32(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}const r=this.view.getFloat32(t,this.littleEndian);return e&&(this.offset+=4),r}readFloat=this.readFloat32;writeFloat64(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,this.view.setFloat64(e,t,this.littleEndian),r&&(this.offset+=8),this}writeDouble=this.writeFloat64;readFloat64(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}const r=this.view.getFloat64(t,this.littleEndian);return e&&(this.offset+=8),r}readDouble=this.readFloat64;append(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}t instanceof o||(t=o.wrap(t));const n=t.limit-t.offset;if(n<=0)return this;e+=n;let i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=n,new Uint8Array(this.buffer,e).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit)),t.offset+=n,r&&(this.offset+=n),this}appendTo(t,e){return t.append(this,e),this}assert(t){return this.noAssert=!t,this}capacity(){return this.buffer.byteLength}clear(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this}clone(t){const e=new o(0,this.littleEndian,this.noAssert);return t?(e.buffer=new ArrayBuffer(this.buffer.byteLength),new Uint8Array(e.buffer).set(this.buffer),e.view=new DataView(e.buffer)):(e.buffer=this.buffer,e.view=this.view),e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e}compact(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;const r=e-t;if(0===r)return this.buffer=f,this.view=new DataView(f),this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;const n=new ArrayBuffer(r);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,e)),this.buffer=n,this.view=new DataView(n),this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this}copy(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new o(0,this.littleEndian,this.noAssert);const r=e-t,n=new o(r,this.littleEndian,this.noAssert);return n.offset=0,n.limit=r,n.markedOffset>=0&&(n.markedOffset-=t),this.copyTo(n,0,t,e),n}copyTo(t,e,r,n){const i=void 0===e,s=void 0===r;if(!(this.noAssert||t instanceof o))throw TypeError("Illegal target: Not a ByteBuffer");if(e=i?t.offset:0|e,r=s?this.offset:0|r,n=void 0===n?this.limit:0|n,e<0||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(r<0||n>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);const a=n-r;return 0===a?t:(t.ensureCapacity(e+a),new Uint8Array(t.buffer).set(new Uint8Array(this.buffer).subarray(r,n),e),s&&(this.offset+=a),i&&(t.offset+=a),this)}ensureCapacity(t){let e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this}fill(t,e,r){const n=void 0===e;if(n&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e>=r)return this;for(;e<r;)this.view.setUint8(e++,t);return n&&(this.offset=e),this}flip(){return this.limit=this.offset,this.offset=0,this}mark(t){if(t=void 0===t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this}order(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this}LE(t){return this.littleEndian=void 0===t||!!t,this}BE(t){return this.littleEndian=void 0!==t&&!t,this}prepend(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}t instanceof o||(t=o.wrap(t));const n=t.limit-t.offset;if(n<=0)return this;const i=n-e;if(i>0){const t=new ArrayBuffer(this.buffer.byteLength+i);new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(e,this.buffer.byteLength),n),this.buffer=t,this.view=new DataView(t),this.offset+=i,this.markedOffset>=0&&(this.markedOffset+=i),this.limit+=i,e+=i}else new Uint8Array(this.buffer).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit),e-n);return t.offset=t.limit,r&&(this.offset-=n),this}prependTo(t,e){return t.prepend(this,e),this}remaining(){return this.limit-this.offset}reset(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this}resize(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){const e=new ArrayBuffer(t);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e,this.view=new DataView(e)}return this}reverse(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(t,e)),this.view=new DataView(this.buffer)),this}skip(t){if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}const e=this.offset+t;if(!this.noAssert&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this}slice(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}const r=this.clone();return r.offset=t,r.limit=e,r}writeInt64(t,e){const r=void 0===e;if(void 0===e&&(e=this.offset),!this.noAssert){if("number"==typeof t&&(t=BigInt(t)),"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t&&(t=BigInt(t)),e+=8;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,this.view.setBigInt64(e,t,this.littleEndian),r&&(this.offset+=8),this}writeLong=this.writeInt64;readInt64(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}const r=this.view.getBigInt64(t,this.littleEndian);return e&&(this.offset+=8),r}readLong=this.readInt64;writeUint64(t,e){const r=void 0===e;if(void 0===e&&(e=this.offset),!this.noAssert){if("number"==typeof t&&(t=BigInt(t)),"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t&&(t=BigInt(t)),e+=8;let n=this.buffer.byteLength;return e>n&&this.resize((n*=2)>e?n:e),e-=8,this.view.setBigUint64(e,t,this.littleEndian),r&&(this.offset+=8),this}writeUInt64=this.writeUint64;readUint64(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}const r=this.view.getBigUint64(t,this.littleEndian);return e&&(this.offset+=8),r}readUInt64=this.readUint64;toBuffer(t){let e=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t)return 0===e&&r===this.buffer.byteLength?this.buffer:this.buffer.slice(e,r);if(e===r)return f;const n=new ArrayBuffer(r-e);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(e,r),0),n}toArrayBuffer=this.toBuffer;writeVarint32(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}const n=this.calculateVarint32(t);let o;e+=n;let i=this.buffer.byteLength;for(e>i&&this.resize((i*=2)>e?i:e),e-=n,t>>>=0;t>=128;)o=127&t|128,this.view.setUint8(e++,o),t>>>=7;return this.view.setUint8(e++,t),r?(this.offset=e,this):n}readVarint32=function(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}let r,n=0,o=0;do{if(!this.noAssert&&t>this.limit){const t=Error("Truncated");throw t.truncated=!0,t}r=this.view.getUint8(t++),n<5&&(o|=(127&r)<<7*n),++n}while(128&r);return o|=0,e?(this.offset=t,o):{value:o,length:n}};calculateVarint32(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5}writeVString(t,e){const r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}const n=e,o=c.calculateUTF16asUTF8(a(t),this.noAssert)[1],i=this.calculateVarint32(o);e+=i+o;let s=this.buffer.byteLength;if(e>s&&this.resize((s*=2)>e?s:e),e-=i+o,e+=this.writeVarint32(o,e),c.encodeUTF16toUTF8(a(t),function(t){this.view.setUint8(e++,t)}.bind(this)),e!==n+o+i)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+o+i));return r?(this.offset=e,this):e-n}readVString(t){const e=void 0===t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}const r=t,n=this.readVarint32(t),i=this.readUTF8String(n.value,o.METRICS_BYTES,t+=n.length);return t+=i.length,e?(this.offset=t,i.string):{string:i.string,length:t-r}}readUTF8String(t,e,r){"number"==typeof e&&(r=e,e=void 0);const n=void 0===r;if(n&&(r=this.offset),void 0===e&&(e=o.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}let s=0;const a=r;let f;if(e===o.METRICS_CHARS){if(f=i(),c.decodeUTF8(function(){return s<t&&r<this.limit?this.view.getUint8(r++):null}.bind(this),function(t){++s,c.UTF8toUTF16(t,f)}),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return n?(this.offset=r,f()):{string:f(),length:r-a}}if(e===o.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}const e=r+t;if(c.decodeUTF8toUTF16(function(){return r<e?this.view.getUint8(r++):null}.bind(this),f=i(),this.noAssert),r!==e)throw RangeError("Illegal range: Truncated data, "+r+" == "+e);return n?(this.offset=r,f()):{string:f(),length:r-a}}throw TypeError("Unsupported metrics: "+e)}}function i(){const t=[],e=[];return function(){if(0===arguments.length)return e.join("")+s.apply(String,t);t.length+arguments.length>1024&&(e.push(s.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}const s=String.fromCharCode;function a(t){let e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}const f=new ArrayBuffer(0),c={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){let r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):r<2048?(e(r>>6&31|192),e(63&r|128)):r<65536?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},decodeUTF8:function(t,e){let r,n,o,i;const s=function(t){t=t.slice(0,t.indexOf(null));const e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};for(;null!==(r=t());)if(128&r)if(192==(224&r))null===(n=t())&&s([r,n]),e((31&r)<<6|63&n);else if(224==(240&r))(null===(n=t())||null===(o=t()))&&s([r,n,o]),e((15&r)<<12|(63&n)<<6|63&o);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(n=t())||null===(o=t())||null===(i=t()))&&s([r,n,o,i]),e((7&r)<<18|(63&n)<<12|(63&o)<<6|63&i)}else e(r)},UTF16toUTF8:function(t,e){let r,n=null;for(;null!==(r=null!==n?n:t());)r>=55296&&r<=57343&&null!==(n=t())&&n>=56320&&n<=57343?(e(1024*(r-55296)+n-56320+65536),n=null):e(r);null!==n&&e(n)},UTF8toUTF16:function(t,e){let r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(r-=65536,e(55296+(r>>10)),e(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,e){c.UTF16toUTF8(t,function(t){c.encodeUTF8(t,e)})},decodeUTF8toUTF16:function(t,e){c.decodeUTF8(t,function(t){c.UTF8toUTF16(t,e)})},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){let e,r=0;for(;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},calculateUTF16asUTF8:function(t){let e=0,r=0;return c.UTF16toUTF8(t,function(t){++e,r+=t<128?1:t<2048?2:t<65536?3:4}),[e,r]}},l={node:["https://api.hive.blog","https://api.deathwing.me","https://rpc.mahdiyari.info","https://techcoderx.com","https://hiveapi.actifit.io","https://hive-api.dlux.io","https://hive-api.arcange.eu","https://api.c0ff33a.uk"],chain_id:"beeab0de00000000000000000000000000000000000000000000000000000000",address_prefix:"STM",axiosAdapter:null,timeout:5,retry:5,healthcheckInterval:3e4},u="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function h(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function d(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function p(t,...e){if(!h(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function g(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");d(t.outputLen),d(t.blockLen)}function y(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function w(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function b(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function m(t,e){return t<<32-e|t>>>e}function E(t,e){return t<<e|t>>>32-e>>>0}const v=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),_=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function A(t){if(p(t),v)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=_[t[r]];return e}function x(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:void 0}function T(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(v)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,o=0;e<r;e++,o+=2){const r=x(t.charCodeAt(o)),i=x(t.charCodeAt(o+1));if(void 0===r||void 0===i){const e=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+o)}n[e]=16*r+i}return n}function I(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t)),p(t),t}function U(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];p(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const o=t[e];r.set(o,n),n+=o.length}return r}class S{}function O(t){const e=e=>t().update(I(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function B(t=32){if(u&&"function"==typeof u.getRandomValues)return u.getRandomValues(new Uint8Array(t));if(u&&"function"==typeof u.randomBytes)return Uint8Array.from(u.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function R(t,e,r){return t&e^~t&r}function L(t,e,r){return t&e^t&r^e&r}class k extends S{constructor(t,e,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(t),this.view=b(this.buffer)}update(t){y(this),p(t=I(t));const{view:e,buffer:r,blockLen:n}=this,o=t.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s===n){const e=b(t);for(;n<=o-i;i+=n)this.process(e,i);continue}r.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){y(this),function(t,e){p(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:o}=this;let{pos:i}=this;e[i++]=128,w(this.buffer.subarray(i)),this.padOffset>n-i&&(this.process(r,0),i=0);for(let t=i;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,a,n)}(r,n-8,BigInt(8*this.length),o),this.process(r,0);const s=b(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=a/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)s.setUint32(4*t,c[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return t.destroyed=i,t.finished=o,t.length=n,t.pos=s,n%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const F=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),N=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),C=BigInt(2**32-1),D=BigInt(32);function P(t,e=!1){return e?{h:Number(t&C),l:Number(t>>D&C)}:{h:0|Number(t>>D&C),l:0|Number(t&C)}}const j=(t,e,r)=>t>>>r,q=(t,e,r)=>t<<32-r|e>>>r,V=(t,e,r)=>t>>>r|e<<32-r,H=(t,e,r)=>t<<32-r|e>>>r,z=(t,e,r)=>t<<64-r|e>>>r-32,M=(t,e,r)=>t>>>r-32|e<<64-r;function K(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:0|o}}const $=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Z=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,G=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Y=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,W=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),J=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,X=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Q=new Uint32Array(64);class tt extends k{constructor(t=32){super(64,t,8,!1),this.A=0|F[0],this.B=0|F[1],this.C=0|F[2],this.D=0|F[3],this.E=0|F[4],this.F=0|F[5],this.G=0|F[6],this.H=0|F[7]}get(){const{A:t,B:e,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[t,e,r,n,o,i,s,a]}set(t,e,r,n,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)Q[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=Q[t-15],r=Q[t-2],n=m(e,7)^m(e,18)^e>>>3,o=m(r,17)^m(r,19)^r>>>10;Q[t]=o+Q[t-7]+n+Q[t-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:a,G:f,H:c}=this;for(let t=0;t<64;t++){const e=c+(m(s,6)^m(s,11)^m(s,25))+R(s,a,f)+X[t]+Q[t]|0,l=(m(r,2)^m(r,13)^m(r,22))+L(r,n,o)|0;c=f,f=a,a=s,s=i+e|0,i=o,o=n,n=r,r=e+l|0}r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(r,n,o,i,s,a,f,c)}roundClean(){w(Q)}destroy(){this.set(0,0,0,0,0,0,0,0),w(this.buffer)}}const et=(()=>function(t,e=!1){const r=t.length;let n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){const{h:r,l:s}=P(t[i],e);[n[i],o[i]]=[r,s]}return[n,o]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),rt=(()=>et[0])(),nt=(()=>et[1])(),ot=new Uint32Array(80),it=new Uint32Array(80);class st extends k{constructor(t=64){super(128,t,16,!1),this.Ah=0|N[0],this.Al=0|N[1],this.Bh=0|N[2],this.Bl=0|N[3],this.Ch=0|N[4],this.Cl=0|N[5],this.Dh=0|N[6],this.Dl=0|N[7],this.Eh=0|N[8],this.El=0|N[9],this.Fh=0|N[10],this.Fl=0|N[11],this.Gh=0|N[12],this.Gl=0|N[13],this.Hh=0|N[14],this.Hl=0|N[15]}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:o,Cl:i,Dh:s,Dl:a,Eh:f,El:c,Fh:l,Fl:u,Gh:h,Gl:d,Hh:p,Hl:g}=this;return[t,e,r,n,o,i,s,a,f,c,l,u,h,d,p,g]}set(t,e,r,n,o,i,s,a,f,c,l,u,h,d,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|f,this.El=0|c,this.Fh=0|l,this.Fl=0|u,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)ot[r]=t.getUint32(e),it[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|ot[t-15],r=0|it[t-15],n=V(e,r,1)^V(e,r,8)^j(e,0,7),o=H(e,r,1)^H(e,r,8)^q(e,r,7),i=0|ot[t-2],s=0|it[t-2],a=V(i,s,19)^z(i,s,61)^j(i,0,6),f=H(i,s,19)^M(i,s,61)^q(i,s,6),c=G(o,f,it[t-7],it[t-16]),l=Y(c,n,a,ot[t-7],ot[t-16]);ot[t]=0|l,it[t]=0|c}let{Ah:r,Al:n,Bh:o,Bl:i,Ch:s,Cl:a,Dh:f,Dl:c,Eh:l,El:u,Fh:h,Fl:d,Gh:p,Gl:g,Hh:y,Hl:w}=this;for(let t=0;t<80;t++){const e=V(l,u,14)^V(l,u,18)^z(l,u,41),b=H(l,u,14)^H(l,u,18)^M(l,u,41),m=l&h^~l&p,E=W(w,b,u&d^~u&g,nt[t],it[t]),v=J(E,y,e,m,rt[t],ot[t]),_=0|E,A=V(r,n,28)^z(r,n,34)^z(r,n,39),x=H(r,n,28)^M(r,n,34)^M(r,n,39),T=r&o^r&s^o&s,I=n&i^n&a^i&a;y=0|p,w=0|g,p=0|h,g=0|d,h=0|l,d=0|u,({h:l,l:u}=K(0|f,0|c,0|v,0|_)),f=0|s,c=0|a,s=0|o,a=0|i,o=0|r,i=0|n;const U=$(_,x,I);r=Z(U,v,A,T),n=0|U}({h:r,l:n}=K(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:i}=K(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=K(0|this.Ch,0|this.Cl,0|s,0|a)),({h:f,l:c}=K(0|this.Dh,0|this.Dl,0|f,0|c)),({h:l,l:u}=K(0|this.Eh,0|this.El,0|l,0|u)),({h,l:d}=K(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:g}=K(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:w}=K(0|this.Hh,0|this.Hl,0|y,0|w)),this.set(r,n,o,i,s,a,f,c,l,u,h,d,p,g,y,w)}roundClean(){w(ot,it)}destroy(){w(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const at=O(()=>new tt),ft=at,ct=O(()=>new st),lt=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ut=(()=>Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)))(),ht=(()=>ut.map(t=>(9*t+5)%16))(),dt=(()=>{const t=[[ut],[ht]];for(let e=0;e<4;e++)for(let r of t)r.push(r[e].map(t=>lt[t]));return t})(),pt=(()=>dt[0])(),gt=(()=>dt[1])(),yt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),wt=pt.map((t,e)=>t.map(t=>yt[e][t])),bt=gt.map((t,e)=>t.map(t=>yt[e][t])),mt=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Et=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function vt(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}const _t=new Uint32Array(16);class At extends k{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:r,h3:n,h4:o}=this;return[t,e,r,n,o]}set(t,e,r,n,o){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|o}process(t,e){for(let r=0;r<16;r++,e+=4)_t[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,o=0|this.h1,i=o,s=0|this.h2,a=s,f=0|this.h3,c=f,l=0|this.h4,u=l;for(let t=0;t<5;t++){const e=4-t,h=mt[t],d=Et[t],p=pt[t],g=gt[t],y=wt[t],w=bt[t];for(let e=0;e<16;e++){const n=E(r+vt(t,o,s,f)+_t[p[e]]+h,y[e])+l|0;r=l,l=f,f=0|E(s,10),s=o,o=n}for(let t=0;t<16;t++){const r=E(n+vt(e,i,a,c)+_t[g[t]]+d,w[t])+u|0;n=u,u=c,c=0|E(a,10),a=i,i=r}}this.set(this.h1+s+c|0,this.h2+f+u|0,this.h3+l+n|0,this.h4+r+i|0,this.h0+o+a|0)}roundClean(){w(_t)}destroy(){this.destroyed=!0,w(this.buffer),this.set(0,0,0,0,0)}}const xt=O(()=>new At),Tt=t=>ft(t),It=t=>ct(t),Ut=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let r=0;r<t.length;r++){const n=t.charAt(r),o=n.charCodeAt(0);if(255!==e[o])throw new TypeError(n+" is ambiguous");e[o]=r}const r=t.length,n=t.charAt(0),o=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function s(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let i=0,s=0,a=0;for(;t[i]===n;)s++,i++;const f=(t.length-i)*o+1>>>0,c=new Uint8Array(f);for(;i<t.length;){const n=t.charCodeAt(i);if(n>255)return;let o=e[n];if(255===o)return;let s=0;for(let t=f-1;(0!==o||s<a)&&-1!==t;t--,s++)o+=r*c[t]>>>0,c[t]=o%256>>>0,o=o/256>>>0;if(0!==o)throw new Error("Non-zero carry");a=s,i++}let l=f-a;for(;l!==f&&0===c[l];)l++;const u=new Uint8Array(s+(f-l));let h=s;for(;l!==f;)u[h++]=c[l++];return u}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let o=0,s=0,a=0;const f=e.length;for(;a!==f&&0===e[a];)a++,o++;const c=(f-a)*i+1>>>0,l=new Uint8Array(c);for(;a!==f;){let t=e[a],n=0;for(let e=c-1;(0!==t||n<s)&&-1!==e;e--,n++)t+=256*l[e]>>>0,l[e]=t%r>>>0,t=t/r>>>0;if(0!==t)throw new Error("Non-zero carry");s=n,a++}let u=c-s;for(;u!==c&&0===l[u];)u++;let h=n.repeat(o);for(;u<c;++u)h+=t.charAt(l[u]);return h},decodeUnsafe:s,decode:function(t){const e=s(t);if(e)return e;throw new Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");class St extends S{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,g(t);const r=I(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,o=new Uint8Array(n);o.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),w(o)}update(t){return y(this),this.iHash.update(t),this}digestInto(t){y(this),p(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=n,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ot=(t,e,r)=>new St(t,e).update(r).digest();Ot.create=(t,e)=>new St(t,e);const Bt=BigInt(0),Rt=BigInt(1);function Lt(t,e=""){if("boolean"!=typeof t)throw new Error((e&&`"${e}"`)+"expected boolean, got type="+typeof t);return t}function kt(t,e,r=""){const n=h(t),o=t?.length,i=void 0!==e;if(!n||i&&o!==e)throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(i?` of length ${e}`:"")+", got "+(n?`length=${o}`:"type="+typeof t));return t}function Ft(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function Nt(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?Bt:BigInt("0x"+t)}function Ct(t){return Nt(A(t))}function Dt(t){return p(t),Nt(A(Uint8Array.from(t).reverse()))}function Pt(t,e){return T(t.toString(16).padStart(2*e,"0"))}function jt(t,e){return Pt(t,e).reverse()}function qt(t,e,r){let n;if("string"==typeof e)try{n=T(e)}catch(e){throw new Error(t+" must be hex string or Uint8Array, cause: "+e)}else{if(!h(e))throw new Error(t+" must be hex string or Uint8Array");n=Uint8Array.from(e)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(t+" of length "+r+" expected, got "+o);return n}const Vt=t=>"bigint"==typeof t&&Bt<=t;function Ht(t){let e;for(e=0;t>Bt;t>>=Rt,e+=1);return e}const zt=t=>(Rt<<BigInt(t))-Rt;function Mt(t,e,r={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function n(e,r,n){const o=t[e];if(n&&void 0===o)return;const i=typeof o;if(i!==r||null===o)throw new Error(`param "${e}" is invalid: expected ${r}, got ${i}`)}Object.entries(e).forEach(([t,e])=>n(t,e,!1)),Object.entries(r).forEach(([t,e])=>n(t,e,!0))}function Kt(t){const e=new WeakMap;return(r,...n)=>{const o=e.get(r);if(void 0!==o)return o;const i=t(r,...n);return e.set(r,i),i}}const $t=BigInt(0),Zt=BigInt(1),Gt=BigInt(2),Yt=BigInt(3),Wt=BigInt(4),Jt=BigInt(5),Xt=BigInt(7),Qt=BigInt(8),te=BigInt(9),ee=BigInt(16);function re(t,e){const r=t%e;return r>=$t?r:e+r}function ne(t,e,r){let n=t;for(;e-- >$t;)n*=n,n%=r;return n}function oe(t,e){if(t===$t)throw new Error("invert: expected non-zero number");if(e<=$t)throw new Error("invert: expected positive modulus, got "+e);let r=re(t,e),n=e,o=$t,i=Zt,s=Zt,a=$t;for(;r!==$t;){const t=n/r,e=n%r,f=o-s*t,c=i-a*t;n=r,r=e,o=s,i=a,s=f,a=c}if(n!==Zt)throw new Error("invert: does not exist");return re(o,e)}function ie(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function se(t,e){const r=(t.ORDER+Zt)/Wt,n=t.pow(e,r);return ie(t,n,e),n}function ae(t,e){const r=(t.ORDER-Jt)/Qt,n=t.mul(e,Gt),o=t.pow(n,r),i=t.mul(e,o),s=t.mul(t.mul(i,Gt),o),a=t.mul(i,t.sub(s,t.ONE));return ie(t,a,e),a}function fe(t){if(t<Yt)throw new Error("sqrt is not defined for small field");let e=t-Zt,r=0;for(;e%Gt===$t;)e/=Gt,r++;let n=Gt;const o=de(t);for(;1===ue(o,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return se;let i=o.pow(n,e);const s=(e+Zt)/Gt;return function(t,n){if(t.is0(n))return n;if(1!==ue(t,n))throw new Error("Cannot find square root");let o=r,a=t.mul(t.ONE,i),f=t.pow(n,e),c=t.pow(n,s);for(;!t.eql(f,t.ONE);){if(t.is0(f))return t.ZERO;let e=1,r=t.sqr(f);for(;!t.eql(r,t.ONE);)if(e++,r=t.sqr(r),e===o)throw new Error("Cannot find square root");const n=Zt<<BigInt(o-e-1),i=t.pow(a,n);o=e,a=t.sqr(i),f=t.mul(f,a),c=t.mul(c,i)}return c}}const ce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function le(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),o=e.reduce((e,r,o)=>t.is0(r)?e:(n[o]=e,t.mul(e,r)),t.ONE),i=t.inv(o);return e.reduceRight((e,r,o)=>t.is0(r)?e:(n[o]=t.mul(e,n[o]),t.mul(e,r)),i),n}function ue(t,e){const r=(t.ORDER-Zt)/Gt,n=t.pow(e,r),o=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function he(t,e){void 0!==e&&d(e);const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function de(t,e,r=!1,n={}){if(t<=$t)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,i,s,a=!1;if("object"==typeof e&&null!=e){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(o=t.BITS),t.sqrt&&(i=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(a=t.modFromBytes),s=t.allowedLengths}else"number"==typeof e&&(o=e),n.sqrt&&(i=n.sqrt);const{nBitLength:f,nByteLength:c}=he(t,o);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:r,BITS:f,BYTES:c,MASK:zt(f),ZERO:$t,ONE:Zt,allowedLengths:s,create:e=>re(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return $t<=e&&e<t},is0:t=>t===$t,isValidNot0:t=>!u.is0(t)&&u.isValid(t),isOdd:t=>(t&Zt)===Zt,neg:e=>re(-e,t),eql:(t,e)=>t===e,sqr:e=>re(e*e,t),add:(e,r)=>re(e+r,t),sub:(e,r)=>re(e-r,t),mul:(e,r)=>re(e*r,t),pow:(t,e)=>function(t,e,r){if(r<$t)throw new Error("invalid exponent, negatives unsupported");if(r===$t)return t.ONE;if(r===Zt)return e;let n=t.ONE,o=e;for(;r>$t;)r&Zt&&(n=t.mul(n,o)),o=t.sqr(o),r>>=Zt;return n}(u,t,e),div:(e,r)=>re(e*oe(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>oe(e,t),sqrt:i||(e=>{return l||(l=(r=t)%Wt===Yt?se:r%Qt===Jt?ae:r%ee===te?function(t){const e=de(t),r=fe(t),n=r(e,e.neg(e.ONE)),o=r(e,n),i=r(e,e.neg(n)),s=(t+Xt)/ee;return(t,e)=>{let r=t.pow(e,s),a=t.mul(r,n);const f=t.mul(r,o),c=t.mul(r,i),l=t.eql(t.sqr(a),e),u=t.eql(t.sqr(f),e);r=t.cmov(r,a,l),a=t.cmov(c,f,u);const h=t.eql(t.sqr(a),e),d=t.cmov(r,a,h);return ie(t,d,e),d}}(r):fe(r)),l(u,e);var r}),toBytes:t=>r?jt(t,c):Pt(t,c),fromBytes:(e,n=!0)=>{if(s){if(!s.includes(e.length)||e.length>c)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);const t=new Uint8Array(c);t.set(e,r?0:t.length-e.length),e=t}if(e.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);let o=r?Dt(e):Ct(e);if(a&&(o=re(o,t)),!n&&!u.isValid(o))throw new Error("invalid field element: outside of range 0..ORDER");return o},invertBatch:t=>le(u,t),cmov:(t,e,r)=>r?e:t});return Object.freeze(u)}function pe(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ge(t){const e=pe(t);return e+Math.ceil(e/2)}const ye=BigInt(0),we=BigInt(1);function be(t,e){const r=e.negate();return t?r:e}function me(t,e){const r=le(t.Fp,e.map(t=>t.Z));return e.map((e,n)=>t.fromAffine(e.toAffine(r[n])))}function Ee(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ve(t,e){Ee(t,e);const r=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:zt(t),maxNumber:r,shiftBy:BigInt(t)}}function _e(t,e,r){const{windowSize:n,mask:o,maxNumber:i,shiftBy:s}=r;let a=Number(t&o),f=t>>s;a>n&&(a-=i,f+=we);const c=e*n;return{nextN:f,offset:c+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:e%2!=0,offsetF:c}}const Ae=new WeakMap,xe=new WeakMap;function Te(t){return xe.get(t)||1}function Ie(t){if(t!==ye)throw new Error("invalid wNAF")}class Ue{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,r=this.ZERO){let n=t;for(;e>ye;)e&we&&(r=r.add(n)),n=n.double(),e>>=we;return r}precomputeWindow(t,e){const{windows:r,windowSize:n}=ve(e,this.bits),o=[];let i=t,s=i;for(let t=0;t<r;t++){s=i,o.push(s);for(let t=1;t<n;t++)s=s.add(i),o.push(s);i=s.double()}return o}wNAF(t,e,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,o=this.BASE;const i=ve(t,this.bits);for(let t=0;t<i.windows;t++){const{nextN:s,offset:a,isZero:f,isNeg:c,isNegF:l,offsetF:u}=_e(r,t,i);r=s,f?o=o.add(be(l,e[u])):n=n.add(be(c,e[a]))}return Ie(r),{p:n,f:o}}wNAFUnsafe(t,e,r,n=this.ZERO){const o=ve(t,this.bits);for(let t=0;t<o.windows&&r!==ye;t++){const{nextN:i,offset:s,isZero:a,isNeg:f}=_e(r,t,o);if(r=i,!a){const t=e[s];n=n.add(f?t.negate():t)}}return Ie(r),n}getPrecomputes(t,e,r){let n=Ae.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&("function"==typeof r&&(n=r(n)),Ae.set(e,n))),n}cached(t,e,r){const n=Te(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)}unsafe(t,e,r,n){const o=Te(t);return 1===o?this._unsafeLadder(t,e,n):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),e,n)}createCache(t,e){Ee(e,this.bits),xe.set(t,e),Ae.delete(t)}hasCache(t){return 1!==Te(t)}}function Se(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(t){Mt(t,ce.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(e),e}return de(t,{isLE:r})}const Oe=(t,e)=>(t+(t>=0?e:-e)/Ce)/e;function Be(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Re(t,e){const r={};for(let n of Object.keys(e))r[n]=void 0===t[n]?e[n]:t[n];return Lt(r.lowS,"lowS"),Lt(r.prehash,"prehash"),void 0!==r.format&&Be(r.format),r}class Le extends Error{constructor(t=""){super(t)}}const ke={Err:Le,_tlv:{encode:(t,e)=>{const{Err:r}=ke;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(1&e.length)throw new r("tlv.encode: unpadded data");const n=e.length/2,o=Ft(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?Ft(o.length/2|128):"";return Ft(t)+i+o+e},decode(t,e){const{Err:r}=ke;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const o=e[n++];let i=0;if(128&o){const t=127&o;if(!t)throw new r("tlv.decode(long): indefinite length not supported");if(t>4)throw new r("tlv.decode(long): byte length is too big");const s=e.subarray(n,n+t);if(s.length!==t)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(const t of s)i=i<<8|t;if(n+=t,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=o;const s=e.subarray(n,n+i);if(s.length!==i)throw new r("tlv.decode: wrong value length");return{v:s,l:e.subarray(n+i)}}},_int:{encode(t){const{Err:e}=ke;if(t<Fe)throw new e("integer: negative integers are not allowed");let r=Ft(t);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ke;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return Ct(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ke,o=qt("signature",t),{v:i,l:s}=n.decode(48,o);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:f}=n.decode(2,i),{v:c,l}=n.decode(2,f);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=ke,n=e.encode(2,r.encode(t.r))+e.encode(2,r.encode(t.s));return e.encode(48,n)}},Fe=BigInt(0),Ne=BigInt(1),Ce=BigInt(2),De=BigInt(3),Pe=BigInt(4);function je(t,e){const{BYTES:r}=t;let n;if("bigint"==typeof e)n=e;else{let o=qt("private key",e);try{n=t.fromBytes(o)}catch(t){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function qe(t,e={}){const r=function(t,e,r={},n){if(void 0===n&&(n="edwards"===t),!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const t of["p","n","h"]){const r=e[t];if(!("bigint"==typeof r&&r>ye))throw new Error(`CURVE.${t} must be positive bigint`)}const o=Se(e.p,r.Fp,n),i=Se(e.n,r.Fn,n),s=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const t of s)if(!o.isValid(e[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return{CURVE:e=Object.freeze(Object.assign({},e)),Fp:o,Fn:i}}("weierstrass",t,e),{Fp:n,Fn:o}=r;let i=r.CURVE;const{h:s,n:a}=i;Mt(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!n.is0(i.a)||"bigint"!=typeof f.beta||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=He(n,o);function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const u=e.toBytes||function(t,e,r){const{x:o,y:i}=e.toAffine(),s=n.toBytes(o);return Lt(r,"isCompressed"),r?(l(),U(Ve(!n.isOdd(i)),s)):U(Uint8Array.of(4),s,n.toBytes(i))},h=e.fromBytes||function(t){kt(t,void 0,"Point");const{publicKey:e,publicKeyUncompressed:r}=c,o=t.length,i=t[0],s=t.subarray(1);if(o!==e||2!==i&&3!==i){if(o===r&&4===i){const t=n.BYTES,e=n.fromBytes(s.subarray(0,t)),r=n.fromBytes(s.subarray(t,2*t));if(!p(e,r))throw new Error("bad point: is not on curve");return{x:e,y:r}}throw new Error(`bad point: got length ${o}, expected compressed=${e} or uncompressed=${r}`)}{const t=n.fromBytes(s);if(!n.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=d(t);let r;try{r=n.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}return l(),!(1&~i)!==n.isOdd(r)&&(r=n.neg(r)),{x:t,y:r}}};function d(t){const e=n.sqr(t),r=n.mul(e,t);return n.add(n.add(r,n.mul(t,i.a)),i.b)}function p(t,e){const r=n.sqr(e),o=d(t);return n.eql(r,o)}if(!p(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(i.a,De),Pe),y=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(g,y)))throw new Error("bad curve params: a or b");function w(t,e,r=!1){if(!n.isValid(e)||r&&n.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function b(t){if(!(t instanceof x))throw new Error("ProjectivePoint expected")}function m(t){if(!f||!f.basises)throw new Error("no endo");return function(t,e,r){const[[n,o],[i,s]]=e,a=Oe(s*t,r),f=Oe(-o*t,r);let c=t-a*n-f*i,l=-a*o-f*s;const u=c<Fe,h=l<Fe;u&&(c=-c),h&&(l=-l);const d=zt(Math.ceil(Ht(r)/2))+Ne;if(c<Fe||c>=d||l<Fe||l>=d)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:u,k1:c,k2neg:h,k2:l}}(t,f.basises,o.ORDER)}const E=Kt((t,e)=>{const{X:r,Y:o,Z:i}=t;if(n.eql(i,n.ONE))return{x:r,y:o};const s=t.is0();null==e&&(e=s?n.ONE:n.inv(i));const a=n.mul(r,e),f=n.mul(o,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:f}}),v=Kt(t=>{if(t.is0()){if(e.allowInfinityPoint&&!n.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:o}=t.toAffine();if(!n.isValid(r)||!n.isValid(o))throw new Error("bad point: x or y not field elements");if(!p(r,o))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function _(t,e,r,o,i){return r=new x(n.mul(r.X,t),r.Y,r.Z),e=be(o,e),r=be(i,r),e.add(r)}class x{constructor(t,e,r){this.X=w("x",t),this.Y=w("y",e,!0),this.Z=w("z",r),Object.freeze(this)}static CURVE(){return i}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof x)throw new Error("projective point not allowed");return n.is0(e)&&n.is0(r)?x.ZERO:new x(e,r,n.ONE)}static fromBytes(t){const e=x.fromAffine(h(kt(t,void 0,"point")));return e.assertValidity(),e}static fromHex(t){return x.fromBytes(qt("pointHex",t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return I.createCache(this,t),e||this.multiply(De),this}assertValidity(){v(this)}hasEvenY(){const{y:t}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(t)}equals(t){b(t);const{X:e,Y:r,Z:o}=this,{X:i,Y:s,Z:a}=t,f=n.eql(n.mul(e,a),n.mul(i,o)),c=n.eql(n.mul(r,a),n.mul(s,o));return f&&c}negate(){return new x(this.X,n.neg(this.Y),this.Z)}double(){const{a:t,b:e}=i,r=n.mul(e,De),{X:o,Y:s,Z:a}=this;let f=n.ZERO,c=n.ZERO,l=n.ZERO,u=n.mul(o,o),h=n.mul(s,s),d=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),l=n.mul(o,a),l=n.add(l,l),f=n.mul(t,l),c=n.mul(r,d),c=n.add(f,c),f=n.sub(h,c),c=n.add(h,c),c=n.mul(f,c),f=n.mul(p,f),l=n.mul(r,l),d=n.mul(t,d),p=n.sub(u,d),p=n.mul(t,p),p=n.add(p,l),l=n.add(u,u),u=n.add(l,u),u=n.add(u,d),u=n.mul(u,p),c=n.add(c,u),d=n.mul(s,a),d=n.add(d,d),u=n.mul(d,p),f=n.sub(f,u),l=n.mul(d,h),l=n.add(l,l),l=n.add(l,l),new x(f,c,l)}add(t){b(t);const{X:e,Y:r,Z:o}=this,{X:s,Y:a,Z:f}=t;let c=n.ZERO,l=n.ZERO,u=n.ZERO;const h=i.a,d=n.mul(i.b,De);let p=n.mul(e,s),g=n.mul(r,a),y=n.mul(o,f),w=n.add(e,r),m=n.add(s,a);w=n.mul(w,m),m=n.add(p,g),w=n.sub(w,m),m=n.add(e,o);let E=n.add(s,f);return m=n.mul(m,E),E=n.add(p,y),m=n.sub(m,E),E=n.add(r,o),c=n.add(a,f),E=n.mul(E,c),c=n.add(g,y),E=n.sub(E,c),u=n.mul(h,m),c=n.mul(d,y),u=n.add(c,u),c=n.sub(g,u),u=n.add(g,u),l=n.mul(c,u),g=n.add(p,p),g=n.add(g,p),y=n.mul(h,y),m=n.mul(d,m),g=n.add(g,y),y=n.sub(p,y),y=n.mul(h,y),m=n.add(m,y),p=n.mul(g,m),l=n.add(l,p),p=n.mul(E,m),c=n.mul(w,c),c=n.sub(c,p),p=n.mul(w,g),u=n.mul(E,u),u=n.add(u,p),new x(c,l,u)}subtract(t){return this.add(t.negate())}is0(){return this.equals(x.ZERO)}multiply(t){const{endo:r}=e;if(!o.isValidNot0(t))throw new Error("invalid scalar: out of range");let n,i;const s=t=>I.cached(this,t,t=>me(x,t));if(r){const{k1neg:e,k1:o,k2neg:a,k2:f}=m(t),{p:c,f:l}=s(o),{p:u,f:h}=s(f);i=l.add(h),n=_(r.beta,c,u,e,a)}else{const{p:e,f:r}=s(t);n=e,i=r}return me(x,[n,i])[0]}multiplyUnsafe(t){const{endo:r}=e,n=this;if(!o.isValid(t))throw new Error("invalid scalar: out of range");if(t===Fe||n.is0())return x.ZERO;if(t===Ne)return n;if(I.hasCache(this))return this.multiply(t);if(r){const{k1neg:e,k1:o,k2neg:i,k2:s}=m(t),{p1:a,p2:f}=function(t,e,r,n){let o=e,i=t.ZERO,s=t.ZERO;for(;r>ye||n>ye;)r&we&&(i=i.add(o)),n&we&&(s=s.add(o)),o=o.double(),r>>=we,n>>=we;return{p1:i,p2:s}}(x,n,o,s);return _(r.beta,a,f,e,i)}return I.unsafe(n,t)}multiplyAndAddUnsafe(t,e,r){const n=this.multiplyUnsafe(e).add(t.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(t){return E(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return s===Ne||(t?t(x,this):I.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:t}=e;return s===Ne?this:t?t(x,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(t=!0){return Lt(t,"isCompressed"),this.assertValidity(),u(x,this,t)}toHex(t=!0){return A(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(t=!0){return this.toBytes(t)}_setWindowSize(t){this.precompute(t)}static normalizeZ(t){return me(x,t)}static msm(t,e){return function(t,e,r,n){(function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})})(r,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}(n,e);const o=r.length,i=n.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=Ht(BigInt(o));let f=1;a>12?f=a-3:a>4?f=a-2:a>0&&(f=2);const c=zt(f),l=new Array(Number(c)+1).fill(s);let u=s;for(let t=Math.floor((e.BITS-1)/f)*f;t>=0;t-=f){l.fill(s);for(let e=0;e<i;e++){const o=n[e],i=Number(o>>BigInt(t)&c);l[i]=l[i].add(r[e])}let e=s;for(let t=l.length-1,r=s;t>0;t--)r=r.add(l[t]),e=e.add(r);if(u=u.add(e),0!==t)for(let t=0;t<f;t++)u=u.double()}return u}(x,o,t,e)}static fromPrivateKey(t){return x.BASE.multiply(je(o,t))}}x.BASE=new x(i.Gx,i.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=o;const T=o.BITS,I=new Ue(x,e.endo?Math.ceil(T/2):T);return x.BASE.precompute(8),x}function Ve(t){return Uint8Array.of(t?2:3)}function He(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function ze(t,e,r={}){g(e),Mt(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||B,o=r.hmac||((t,...r)=>Ot(e,t,U(...r))),{Fp:i,Fn:s}=t,{ORDER:a,BITS:f}=s,{keygen:c,getPublicKey:l,getSharedSecret:u,utils:d,lengths:p}=function(t,e={}){const{Fn:r}=t,n=e.randomBytes||B,o=Object.assign(He(t.Fp,r),{seed:ge(r.ORDER)});function i(t){try{return!!je(r,t)}catch(t){return!1}}function s(t=n(o.seed)){return function(t,e,r=!1){const n=t.length,o=pe(e),i=ge(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const s=re(r?Dt(t):Ct(t),e-Zt)+Zt;return r?jt(s,o):Pt(s,o)}(kt(t,o.seed,"seed"),r.ORDER)}function a(e,n=!0){return t.BASE.multiply(je(r,e)).toBytes(n)}function f(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;const{secretKey:n,publicKey:i,publicKeyUncompressed:s}=o;if(r.allowedLengths||n===i)return;const a=qt("key",e).length;return a===i||a===s}const c={isValidSecretKey:i,isValidPublicKey:function(e,r){const{publicKey:n,publicKeyUncompressed:i}=o;try{const o=e.length;return!(!0===r&&o!==n||!1===r&&o!==i||!t.fromBytes(e))}catch(t){return!1}},randomSecretKey:s,isValidPrivateKey:i,randomPrivateKey:s,normPrivateKeyToScalar:t=>je(r,t),precompute:(e=8,r=t.BASE)=>r.precompute(e,!1)};return Object.freeze({getPublicKey:a,getSharedSecret:function(e,n,o=!0){if(!0===f(e))throw new Error("first arg must be private key");if(!1===f(n))throw new Error("second arg must be public key");const i=je(r,e);return t.fromHex(n).multiply(i).toBytes(o)},keygen:function(t){const e=s(t);return{secretKey:e,publicKey:a(e)}},Point:t,utils:c,lengths:o})}(t,r),y={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},w="compact";function b(t){return t>a>>Ne}function m(t,e){if(!s.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..Point.Fn.ORDER`);return e}class E{constructor(t,e,r){this.r=m("r",t),this.s=m("s",e),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(t,e=w){let r;if(function(t,e){Be(e);const r=p.signature;kt(t,"compact"===e?r:"recovered"===e?r+1:void 0,`${e} signature`)}(t,e),"der"===e){const{r:e,s:r}=ke.toSig(kt(t));return new E(e,r)}"recovered"===e&&(r=t[0],e="compact",t=t.subarray(1));const n=s.BYTES,o=t.subarray(0,n),i=t.subarray(n,2*n);return new E(s.fromBytes(o),s.fromBytes(i),r)}static fromHex(t,e){return this.fromBytes(T(t),e)}addRecoveryBit(t){return new E(this.r,this.s,t)}recoverPublicKey(e){const r=i.ORDER,{r:n,s:o,recovery:f}=this;if(null==f||![0,1,2,3].includes(f))throw new Error("recovery id invalid");if(a*Ce<r&&f>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===f||3===f?n+a:n;if(!i.isValid(c))throw new Error("recovery id 2 or 3 invalid");const l=i.toBytes(c),u=t.fromBytes(U(Ve(!(1&f)),l)),h=s.inv(c),d=_(qt("msgHash",e)),p=s.create(-d*h),g=s.create(o*h),y=t.BASE.multiplyUnsafe(p).add(u.multiplyUnsafe(g));if(y.is0())throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return b(this.s)}toBytes(t=w){if(Be(t),"der"===t)return T(ke.hexFromSig(this));const e=s.toBytes(this.r),r=s.toBytes(this.s);if("recovered"===t){if(null==this.recovery)throw new Error("recovery bit must be present");return U(Uint8Array.of(this.recovery),e,r)}return U(e,r)}toHex(t){return A(this.toBytes(t))}assertValidity(){}static fromCompact(t){return E.fromBytes(qt("sig",t),"compact")}static fromDER(t){return E.fromBytes(qt("sig",t),"der")}normalizeS(){return this.hasHighS()?new E(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return A(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return A(this.toBytes("compact"))}}const v=r.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=Ct(t),r=8*t.length-f;return r>0?e>>BigInt(r):e},_=r.bits2int_modN||function(t){return s.create(v(t))},x=zt(f);function I(t){return function(t,e,r,n){if(!function(t,e,r){return Vt(t)&&Vt(e)&&Vt(r)&&e<=t&&t<r}(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}("num < 2^"+f,t,Fe,x),s.toBytes(t)}function S(t,r){return kt(t,void 0,"message"),r?kt(e(t),void 0,"prehashed message"):t}return Object.freeze({keygen:c,getPublicKey:l,getSharedSecret:u,utils:d,lengths:p,Point:t,sign:function(r,i,a={}){r=qt("message",r);const{seed:f,k2sig:c}=function(e,r,o){if(["recovered","canonical"].some(t=>t in o))throw new Error("sign() legacy options not supported");const{lowS:i,prehash:a,extraEntropy:f}=Re(o,y);e=S(e,a);const c=_(e),l=je(s,r),u=[I(l),I(c)];if(null!=f&&!1!==f){const t=!0===f?n(p.secretKey):f;u.push(qt("extraEntropy",t))}const h=U(...u),d=c;return{seed:h,k2sig:function(e){const r=v(e);if(!s.isValidNot0(r))return;const n=s.inv(r),o=t.BASE.multiply(r).toAffine(),a=s.create(o.x);if(a===Fe)return;const f=s.create(n*s.create(d+a*l));if(f===Fe)return;let c=(o.x===a?0:2)|Number(o.y&Ne),u=f;return i&&b(f)&&(u=s.neg(f),c^=1),new E(a,u,c)}}}(r,i,a);return function(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");const n=t=>new Uint8Array(t),o=t=>Uint8Array.of(t);let i=n(t),s=n(t),a=0;const f=()=>{i.fill(1),s.fill(0),a=0},c=(...t)=>r(s,i,...t),l=(t=n(0))=>{s=c(o(0),t),i=c(),0!==t.length&&(s=c(o(1),t),i=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){i=c();const e=i.slice();r.push(e),t+=i.length}return U(...r)};return(t,e)=>{let r;for(f(),l(t);!(r=e(u()));)l();return f(),r}}(e.outputLen,s.BYTES,o)(f,c)},verify:function(e,r,n,o={}){const{lowS:i,prehash:a,format:f}=Re(o,y);if(n=qt("publicKey",n),r=S(qt("message",r),a),"strict"in o)throw new Error("options.strict was renamed to lowS");const c=void 0===f?function(t){let e;const r="string"==typeof t||h(t),n=!r&&null!==t&&"object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!r&&!n)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)e=new E(t.r,t.s);else if(r){try{e=E.fromBytes(qt("sig",t),"der")}catch(t){if(!(t instanceof ke.Err))throw t}if(!e)try{e=E.fromBytes(qt("sig",t),"compact")}catch(t){return!1}}return e||!1}(e):E.fromBytes(qt("sig",e),f);if(!1===c)return!1;try{const e=t.fromBytes(n);if(i&&c.hasHighS())return!1;const{r:o,s:a}=c,f=_(r),l=s.inv(a),u=s.create(f*l),h=s.create(o*l),d=t.BASE.multiplyUnsafe(u).add(e.multiplyUnsafe(h));return!d.is0()&&s.create(d.x)===o}catch(t){return!1}},recoverPublicKey:function(t,e,r={}){const{prehash:n}=Re(r,y);return e=S(e,n),E.fromBytes(t,"recovered").recoverPublicKey(e).toBytes()},Signature:E,hash:e})}function Me(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:o}=function(t){const{CURVE:e,curveOpts:r}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(t=>Math.ceil(t/2)))):void 0;return{CURVE:e,curveOpts:{Fp:r,Fn:de(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}(t);return function(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,he(r.Fn.ORDER,r.Fn.BITS))})}(t,ze(qe(e,r),n,o))}const Ke={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},$e={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Ze=BigInt(2),Ge=de(Ke.p,{sqrt:function(t){const e=Ke.p,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),c=t*t*t%e,l=c*c*t%e,u=ne(l,r,e)*l%e,h=ne(u,r,e)*l%e,d=ne(h,Ze,e)*c%e,p=ne(d,o,e)*d%e,g=ne(p,i,e)*p%e,y=ne(g,a,e)*g%e,w=ne(y,f,e)*y%e,b=ne(w,a,e)*g%e,m=ne(b,r,e)*l%e,E=ne(m,s,e)*p%e,v=ne(E,n,e)*c%e,_=ne(v,Ze,e);if(!Ge.eql(Ge.sqr(_),t))throw new Error("Cannot find square root");return _}}),Ye=function(t,e){const r=e=>Me({...t,hash:e});return{...r(e),create:r}}({...Ke,Fp:Ge,lowS:!0,endo:$e},at),We=l.address_prefix;class Je{constructor(t,e=We){this.key=t,this.prefix=e}static fromString(t){const{key:e,prefix:r}=Qe(t);return new Je(e,r)}static from(t){return t instanceof Je?t:Je.fromString(t)}verify(t,e){return Ye.verify(e.data,t,this.key)}toString(){return Xe(this.key,this.prefix)}toJSON(){return this.toString()}inspect(){return`PublicKey: ${this.toString()}`}}const Xe=(t,e)=>{const r=xt(t);return e+Ut.encode(new Uint8Array([...t,...r.subarray(0,4)]))},Qe=t=>{const e=t.slice(0,3);t=t.slice(3);const r=Ut.decode(t);return{key:r.subarray(0,r.length-4),prefix:e}};class tr{static fromString(t,e=null){const[r,n]=t.split(" ");if(-1===["STEEM","VESTS","SBD","TESTS","TBD","HIVE","HBD"].indexOf(n))throw new Error(`Invalid asset symbol: ${n}`);if(e&&n!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${n}`);const o=Number.parseFloat(r);if(!Number.isFinite(o))throw new Error(`Invalid asset amount: ${r}`);return new tr(o,n)}static from(t,e=null){if(t instanceof tr){if(e&&t.symbol!==e)throw new Error(`Invalid asset, expected symbol: ${e} got: ${t.symbol}`);return t}if("number"==typeof t&&Number.isFinite(t))return new tr(t,e||"STEEM");if("string"==typeof t)return tr.fromString(t,e);throw new Error(`Invalid asset '${String(t)}'`)}constructor(t,e){this.amount=t,this.symbol="HIVE"===e?"STEEM":"HBD"===e?"SBD":e}getPrecision(){switch(this.symbol){case"TESTS":case"TBD":case"STEEM":case"SBD":case"HBD":case"HIVE":return 3;case"VESTS":return 6}}toString(){return`${this.amount.toFixed(this.getPrecision())} ${this.symbol}`}toJSON(){return this.toString()}}const er=t=>{const e=[];for(let r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return new Uint8Array(e)},rr=t=>Array.from(t).map(t=>t.toString(16).padStart(2,"0")).join("");class nr{static from(t){return t instanceof nr?t:t instanceof Uint8Array?new nr(t):new nr("string"==typeof t?er(t):new Uint8Array(t))}constructor(t){this.buffer=t}toString(t="hex"){return rr(this.buffer)}toJSON(){return this.toString()}}const or=()=>{throw new Error("Void can not be serialized")},ir=(t,e)=>{t.writeVString(e)},sr=(t,e)=>{t.writeInt16(e)},ar=(t,e)=>{t.writeInt64(e)},fr=(t,e)=>{t.writeUint16(e)},cr=(t,e)=>{t.writeUint32(e)},lr=(t,e)=>{t.writeUint64(e)},ur=(t,e)=>{t.writeByte(e?1:0)},hr=t=>(e,r)=>{let n=r[0];const o=r[1];"string"==typeof n&&(n="update_proposal_end_date"===n?1:0),e.writeVarint32(n),t[n](e,o)},dr=(t,e)=>{const r=tr.from(e),n=r.getPrecision();t.writeInt64(Math.round(r.amount*Math.pow(10,n))),t.writeUint8(n);for(let e=0;e<7;e++)t.writeUint8(r.symbol.charCodeAt(e)||0)},pr=(t,e)=>{t.writeUint32(Math.floor(new Date(e+"Z").getTime()/1e3))},gr=(t,e)=>{null===e||"string"==typeof e&&"1111111111111111111111111111111114T1Anm"===e.slice(-39)?t.append(new Uint8Array(33).fill(0)):t.append(Je.from(e).key)},yr=(t=null)=>(e,r)=>{const n=(r=nr.from(r)).buffer.length;if(t){if(n!==t)throw new Error(`Unable to serialize binary. Expected ${t} bytes, got ${n}`)}else e.writeVarint32(n);e.append(r.buffer)},wr=yr(),br=(t,e)=>(r,n)=>{r.writeVarint32(n.length);for(const[o,i]of n)t(r,o),e(r,i)},mr=t=>(e,r)=>{e.writeVarint32(r.length);for(const n of r)t(e,n)},Er=t=>(e,r)=>{for(const[n,o]of t)try{o(e,r[n])}catch(t){throw t.message=`${n}: ${t.message}`,t}},vr=t=>(e,r)=>{void 0!==r?(e.writeByte(1),t(e,r)):e.writeByte(0)},_r=Er([["weight_threshold",cr],["account_auths",br(ir,fr)],["key_auths",br(gr,fr)]]),Ar=Er([["account",ir],["weight",fr]]),xr=Er([["base",dr],["quote",dr]]),Tr=Er([["previous",yr(20)],["timestamp",pr],["witness",ir],["transaction_merkle_root",yr(20)],["extensions",mr(or)],["witness_signature",yr(65)]]),Ir=Er([["account_creation_fee",dr],["maximum_block_size",cr],["hbd_interest_rate",fr]]),Ur=(t,e)=>{const r=Er(e);return(e,n)=>{e.writeVarint32(t),r(e,n)}},Sr={};Sr.account_create=Ur(9,[["fee",dr],["creator",ir],["new_account_name",ir],["owner",_r],["active",_r],["posting",_r],["memo_key",gr],["json_metadata",ir]]),Sr.account_create_with_delegation=Ur(41,[["fee",dr],["delegation",dr],["creator",ir],["new_account_name",ir],["owner",_r],["active",_r],["posting",_r],["memo_key",gr],["json_metadata",ir],["extensions",mr(or)]]),Sr.account_update=Ur(10,[["account",ir],["owner",vr(_r)],["active",vr(_r)],["posting",vr(_r)],["memo_key",gr],["json_metadata",ir]]),Sr.account_witness_proxy=Ur(13,[["account",ir],["proxy",ir]]),Sr.account_witness_vote=Ur(12,[["account",ir],["witness",ir],["approve",ur]]),Sr.cancel_transfer_from_savings=Ur(34,[["from",ir],["request_id",cr]]),Sr.change_recovery_account=Ur(26,[["account_to_recover",ir],["new_recovery_account",ir],["extensions",mr(or)]]),Sr.claim_account=Ur(22,[["creator",ir],["fee",dr],["extensions",mr(or)]]),Sr.claim_reward_balance=Ur(39,[["account",ir],["reward_hive",dr],["reward_hbd",dr],["reward_vests",dr]]),Sr.comment=Ur(1,[["parent_author",ir],["parent_permlink",ir],["author",ir],["permlink",ir],["title",ir],["body",ir],["json_metadata",ir]]),Sr.comment_options=Ur(19,[["author",ir],["permlink",ir],["max_accepted_payout",dr],["percent_hbd",fr],["allow_votes",ur],["allow_curation_rewards",ur],["extensions",mr(hr([Er([["beneficiaries",mr(Ar)]])]))]]),Sr.convert=Ur(8,[["owner",ir],["requestid",cr],["amount",dr]]),Sr.create_claimed_account=Ur(23,[["creator",ir],["new_account_name",ir],["owner",_r],["active",_r],["posting",_r],["memo_key",gr],["json_metadata",ir],["extensions",mr(or)]]),Sr.custom=Ur(15,[["required_auths",mr(ir)],["id",fr],["data",wr]]),Sr.custom_binary=Ur(35,[["required_owner_auths",mr(ir)],["required_active_auths",mr(ir)],["required_posting_auths",mr(ir)],["required_auths",mr(_r)],["id",ir],["data",wr]]),Sr.custom_json=Ur(18,[["required_auths",mr(ir)],["required_posting_auths",mr(ir)],["id",ir],["json",ir]]),Sr.decline_voting_rights=Ur(36,[["account",ir],["decline",ur]]),Sr.delegate_vesting_shares=Ur(40,[["delegator",ir],["delegatee",ir],["vesting_shares",dr]]),Sr.delete_comment=Ur(17,[["author",ir],["permlink",ir]]),Sr.escrow_approve=Ur(31,[["from",ir],["to",ir],["agent",ir],["who",ir],["escrow_id",cr],["approve",ur]]),Sr.escrow_dispute=Ur(28,[["from",ir],["to",ir],["agent",ir],["who",ir],["escrow_id",cr]]),Sr.escrow_release=Ur(29,[["from",ir],["to",ir],["agent",ir],["who",ir],["receiver",ir],["escrow_id",cr],["hbd_amount",dr],["hive_amount",dr]]),Sr.escrow_transfer=Ur(27,[["from",ir],["to",ir],["agent",ir],["escrow_id",cr],["hbd_amount",dr],["hive_amount",dr],["fee",dr],["ratification_deadline",pr],["escrow_expiration",pr],["json_meta",ir]]),Sr.feed_publish=Ur(7,[["publisher",ir],["exchange_rate",xr]]),Sr.limit_order_cancel=Ur(6,[["owner",ir],["orderid",cr]]),Sr.limit_order_create=Ur(5,[["owner",ir],["orderid",cr],["amount_to_sell",dr],["min_to_receive",dr],["fill_or_kill",ur],["expiration",pr]]),Sr.limit_order_create2=Ur(21,[["owner",ir],["orderid",cr],["amount_to_sell",dr],["fill_or_kill",ur],["exchange_rate",xr],["expiration",pr]]),Sr.recover_account=Ur(25,[["account_to_recover",ir],["new_owner_authority",_r],["recent_owner_authority",_r],["extensions",mr(or)]]),Sr.report_over_production=Ur(16,[["reporter",ir],["first_block",Tr],["second_block",Tr]]),Sr.request_account_recovery=Ur(24,[["recovery_account",ir],["account_to_recover",ir],["new_owner_authority",_r],["extensions",mr(or)]]),Sr.reset_account=Ur(37,[["reset_account",ir],["account_to_reset",ir],["new_owner_authority",_r]]),Sr.set_reset_account=Ur(38,[["account",ir],["current_reset_account",ir],["reset_account",ir]]),Sr.set_withdraw_vesting_route=Ur(20,[["from_account",ir],["to_account",ir],["percent",fr],["auto_vest",ur]]),Sr.transfer=Ur(2,[["from",ir],["to",ir],["amount",dr],["memo",ir]]),Sr.transfer_from_savings=Ur(33,[["from",ir],["request_id",cr],["to",ir],["amount",dr],["memo",ir]]),Sr.transfer_to_savings=Ur(32,[["from",ir],["to",ir],["amount",dr],["memo",ir]]),Sr.transfer_to_vesting=Ur(3,[["from",ir],["to",ir],["amount",dr]]),Sr.vote=Ur(0,[["voter",ir],["author",ir],["permlink",ir],["weight",sr]]),Sr.withdraw_vesting=Ur(4,[["account",ir],["vesting_shares",dr]]),Sr.witness_update=Ur(11,[["owner",ir],["url",ir],["block_signing_key",gr],["props",Ir],["fee",dr]]),Sr.witness_set_properties=Ur(42,[["owner",ir],["props",br(ir,wr)],["extensions",mr(or)]]),Sr.account_update2=Ur(43,[["account",ir],["owner",vr(_r)],["active",vr(_r)],["posting",vr(_r)],["memo_key",vr(gr)],["json_metadata",ir],["posting_json_metadata",ir],["extensions",mr(or)]]),Sr.create_proposal=Ur(44,[["creator",ir],["receiver",ir],["start_date",pr],["end_date",pr],["daily_pay",dr],["subject",ir],["permlink",ir],["extensions",mr(or)]]),Sr.update_proposal_votes=Ur(45,[["voter",ir],["proposal_ids",mr(ar)],["approve",ur],["extensions",mr(or)]]),Sr.remove_proposal=Ur(46,[["proposal_owner",ir],["proposal_ids",mr(ar)],["extensions",mr(or)]]);const Or=Er([["end_date",pr]]);Sr.update_proposal=Ur(47,[["proposal_id",lr],["creator",ir],["daily_pay",dr],["subject",ir],["permlink",ir],["extensions",mr(hr([or,Or]))]]),Sr.collateralized_convert=Ur(48,[["owner",ir],["requestid",cr],["amount",dr]]),Sr.recurrent_transfer=Ur(49,[["from",ir],["to",ir],["amount",dr],["memo",ir],["recurrence",fr],["executions",fr],["extensions",mr(or)]]);const Br=(t,e)=>{const r=Sr[e[0]];if(!r)throw new Error(`No serializer for operation: ${e[0]}`);try{r(t,e[1])}catch(t){throw t.message=`${e[0]}: ${t.message}`,t}},Rr=Er([["ref_block_num",fr],["ref_block_prefix",cr],["expiration",pr],["operations",mr(Br)],["extensions",mr(ir)]]),Lr=Er([["from",gr],["to",gr],["nonce",lr],["check",cr],["encrypted",yr()]]),kr={Array:mr,Asset:dr,Authority:_r,Binary:yr,Boolean:ur,Date:pr,FlatMap:br,Int16:sr,Int32:(t,e)=>{t.writeInt32(e)},Int64:ar,Int8:(t,e)=>{t.writeInt8(e)},Memo:Lr,Object:Er,Operation:Br,Optional:vr,Price:xr,PublicKey:gr,StaticVariant:hr,String:ir,Transaction:Rr,UInt16:fr,UInt32:cr,UInt64:lr,UInt8:(t,e)=>{t.writeUint8(e)},Void:or},Fr=er(l.chain_id),Nr=(t,e)=>{const{digest:r,txId:n}=Cr(t,Fr),o={...t};o.signatures||(o.signatures=[]),Array.isArray(e)||(e=[e]);for(const t of e){const e=t.sign(r);o.signatures.push(e.customToString())}return{signedTransaction:o,txId:n}},Cr=(t,e=Fr)=>{const r=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN),n={...t};try{kr.Transaction(r,n)}catch(t){throw new Error("Unable to serialize transaction: "+t)}r.flip();const i=new Uint8Array(r.toBuffer()),s=rr(Tt(i)).slice(0,40);return{digest:Tt(new Uint8Array([...e,...i])),txId:s}};function Dr(t,e){return function(){return t.apply(e,arguments)}}var Pr=r(606);const{toString:jr}=Object.prototype,{getPrototypeOf:qr}=Object,{iterator:Vr,toStringTag:Hr}=Symbol,zr=(Mr=Object.create(null),t=>{const e=jr.call(t);return Mr[e]||(Mr[e]=e.slice(8,-1).toLowerCase())});var Mr;const Kr=t=>(t=t.toLowerCase(),e=>zr(e)===t),$r=t=>e=>typeof e===t,{isArray:Zr}=Array,Gr=$r("undefined");function Yr(t){return null!==t&&!Gr(t)&&null!==t.constructor&&!Gr(t.constructor)&&Xr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wr=Kr("ArrayBuffer"),Jr=$r("string"),Xr=$r("function"),Qr=$r("number"),tn=t=>null!==t&&"object"==typeof t,en=t=>{if("object"!==zr(t))return!1;const e=qr(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Hr in t||Vr in t)},rn=Kr("Date"),nn=Kr("File"),on=Kr("Blob"),sn=Kr("FileList"),an=Kr("URLSearchParams"),[fn,cn,ln,un]=["ReadableStream","Request","Response","Headers"].map(Kr);function hn(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,o;if("object"!=typeof t&&(t=[t]),Zr(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{if(Yr(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let s;for(n=0;n<i;n++)s=o[n],e.call(null,t[s],s,t)}}function dn(t,e){if(Yr(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n,o=r.length;for(;o-- >0;)if(n=r[o],e===n.toLowerCase())return n;return null}const pn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,gn=t=>!Gr(t)&&t!==pn,yn=(wn="undefined"!=typeof Uint8Array&&qr(Uint8Array),t=>wn&&t instanceof wn);var wn;const bn=Kr("HTMLFormElement"),mn=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),En=Kr("RegExp"),vn=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};hn(r,(r,o)=>{let i;!1!==(i=e(r,o,t))&&(n[o]=i||r)}),Object.defineProperties(t,n)},_n=Kr("AsyncFunction"),An=(xn="function"==typeof setImmediate,Tn=Xr(pn.postMessage),xn?setImmediate:Tn?(In=`axios@${Math.random()}`,Un=[],pn.addEventListener("message",({source:t,data:e})=>{t===pn&&e===In&&Un.length&&Un.shift()()},!1),t=>{Un.push(t),pn.postMessage(In,"*")}):t=>setTimeout(t));var xn,Tn,In,Un;const Sn="undefined"!=typeof queueMicrotask?queueMicrotask.bind(pn):void 0!==Pr&&Pr.nextTick||An,On={isArray:Zr,isArrayBuffer:Wr,isBuffer:Yr,isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||Xr(t.append)&&("formdata"===(e=zr(t))||"object"===e&&Xr(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Wr(t.buffer),e},isString:Jr,isNumber:Qr,isBoolean:t=>!0===t||!1===t,isObject:tn,isPlainObject:en,isEmptyObject:t=>{if(!tn(t)||Yr(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(t){return!1}},isReadableStream:fn,isRequest:cn,isResponse:ln,isHeaders:un,isUndefined:Gr,isDate:rn,isFile:nn,isBlob:on,isRegExp:En,isFunction:Xr,isStream:t=>tn(t)&&Xr(t.pipe),isURLSearchParams:an,isTypedArray:yn,isFileList:sn,forEach:hn,merge:function t(){const{caseless:e,skipUndefined:r}=gn(this)&&this||{},n={},o=(o,i)=>{const s=e&&dn(n,i)||i;en(n[s])&&en(o)?n[s]=t(n[s],o):en(o)?n[s]=t({},o):Zr(o)?n[s]=o.slice():r&&Gr(o)||(n[s]=o)};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&hn(arguments[t],o);return n},extend:(t,e,r,{allOwnKeys:n}={})=>(hn(e,(e,n)=>{r&&Xr(e)?t[n]=Dr(e,r):t[n]=e},{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let o,i,s;const a={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],n&&!n(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==r&&qr(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:zr,kindOfTest:Kr,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(Zr(t))return t;let e=t.length;if(!Qr(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Vr]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:bn,hasOwnProperty:mn,hasOwnProp:mn,reduceDescriptors:vn,freezeMethods:t=>{vn(t,(e,r)=>{if(Xr(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];Xr(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach(t=>{r[t]=!0})};return Zr(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,r){return e.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:dn,global:pn,isContextDefined:gn,isSpecCompliantForm:function(t){return!!(t&&Xr(t.append)&&"FormData"===t[Hr]&&t[Vr])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(tn(t)){if(e.indexOf(t)>=0)return;if(Yr(t))return t;if(!("toJSON"in t)){e[n]=t;const o=Zr(t)?[]:{};return hn(t,(t,e)=>{const i=r(t,n+1);!Gr(i)&&(o[e]=i)}),e[n]=void 0,o}}return t};return r(t,0)},isAsyncFn:_n,isThenable:t=>t&&(tn(t)||Xr(t))&&Xr(t.then)&&Xr(t.catch),setImmediate:An,asap:Sn,isIterable:t=>null!=t&&Xr(t[Vr])};function Bn(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}On.inherits(Bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:On.toJSONObject(this.config),code:this.code,status:this.status}}});const Rn=Bn.prototype,Ln={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ln[t]={value:t}}),Object.defineProperties(Bn,Ln),Object.defineProperty(Rn,"isAxiosError",{value:!0}),Bn.from=(t,e,r,n,o,i)=>{const s=Object.create(Rn);On.toFlatObject(t,s,function(t){return t!==Error.prototype},t=>"isAxiosError"!==t);const a=t&&t.message?t.message:"Error",f=null==e&&t?t.code:e;return Bn.call(s,a,f,r,n,o),t&&null==s.cause&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",i&&Object.assign(s,i),s};const kn=Bn;function Fn(t){return On.isPlainObject(t)||On.isArray(t)}function Nn(t){return On.endsWith(t,"[]")?t.slice(0,-2):t}function Cn(t,e,r){return t?t.concat(e).map(function(t,e){return t=Nn(t),!r&&e?"["+t+"]":t}).join(r?".":""):e}const Dn=On.toFlatObject(On,{},null,function(t){return/^is[A-Z]/.test(t)}),Pn=function(t,e,r){if(!On.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=On.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!On.isUndefined(e[t])})).metaTokens,o=r.visitor||c,i=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&On.isSpecCompliantForm(e);if(!On.isFunction(o))throw new TypeError("visitor must be a function");function f(t){if(null===t)return"";if(On.isDate(t))return t.toISOString();if(On.isBoolean(t))return t.toString();if(!a&&On.isBlob(t))throw new kn("Blob is not supported. Use a Buffer instead.");return On.isArrayBuffer(t)||On.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,r,o){let a=t;if(t&&!o&&"object"==typeof t)if(On.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(On.isArray(t)&&function(t){return On.isArray(t)&&!t.some(Fn)}(t)||(On.isFileList(t)||On.endsWith(r,"[]"))&&(a=On.toArray(t)))return r=Nn(r),a.forEach(function(t,n){!On.isUndefined(t)&&null!==t&&e.append(!0===s?Cn([r],n,i):null===s?r:r+"[]",f(t))}),!1;return!!Fn(t)||(e.append(Cn(o,r,i),f(t)),!1)}const l=[],u=Object.assign(Dn,{defaultVisitor:c,convertValue:f,isVisitable:Fn});if(!On.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!On.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),On.forEach(r,function(r,i){!0===(!(On.isUndefined(r)||null===r)&&o.call(e,r,On.isString(i)?i.trim():i,n,u))&&t(r,n?n.concat(i):[i])}),l.pop()}}(t),e};function jn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function qn(t,e){this._pairs=[],t&&Pn(t,this,e)}const Vn=qn.prototype;Vn.append=function(t,e){this._pairs.push([t,e])},Vn.toString=function(t){const e=t?function(e){return t.call(this,e,jn)}:jn;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};const Hn=qn;function zn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mn(t,e,r){if(!e)return t;const n=r&&r.encode||zn;On.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let i;if(i=o?o(e,r):On.isURLSearchParams(e)?e.toString():new Hn(e,r).toString(n),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}const Kn=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){On.forEach(this.handlers,function(e){null!==e&&t(e)})}},$n={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zn={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Hn,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Gn="undefined"!=typeof window&&"undefined"!=typeof document,Yn="object"==typeof navigator&&navigator||void 0,Wn=Gn&&(!Yn||["ReactNative","NativeScript","NS"].indexOf(Yn.product)<0),Jn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Xn=Gn&&window.location.href||"http://localhost",Qn={...t,...Zn},to=function(t){function e(t,r,n,o){let i=t[o++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),a=o>=t.length;return i=!i&&On.isArray(n)?n.length:i,a?(On.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!s):(n[i]&&On.isObject(n[i])||(n[i]=[]),e(t,r,n[i],o)&&On.isArray(n[i])&&(n[i]=function(t){const e={},r=Object.keys(t);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],e[i]=t[i];return e}(n[i])),!s)}if(On.isFormData(t)&&On.isFunction(t.entries)){const r={};return On.forEachEntry(t,(t,n)=>{e(function(t){return On.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),n,r,0)}),r}return null},eo={transitional:$n,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,o=On.isObject(t);if(o&&On.isHTMLForm(t)&&(t=new FormData(t)),On.isFormData(t))return n?JSON.stringify(to(t)):t;if(On.isArrayBuffer(t)||On.isBuffer(t)||On.isStream(t)||On.isFile(t)||On.isBlob(t)||On.isReadableStream(t))return t;if(On.isArrayBufferView(t))return t.buffer;if(On.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Pn(t,new Qn.classes.URLSearchParams,{visitor:function(t,e,r,n){return Qn.isNode&&On.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...e})}(t,this.formSerializer).toString();if((i=On.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Pn(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||n?(e.setContentType("application/json",!1),function(t){if(On.isString(t))try{return(0,JSON.parse)(t),On.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||eo.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(On.isResponse(t)||On.isReadableStream(t))return t;if(t&&On.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(t){if(r){if("SyntaxError"===t.name)throw kn.from(t,kn.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qn.classes.FormData,Blob:Qn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};On.forEach(["delete","get","head","post","put","patch"],t=>{eo.headers[t]={}});const ro=eo,no=On.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oo=Symbol("internals");function io(t){return t&&String(t).trim().toLowerCase()}function so(t){return!1===t||null==t?t:On.isArray(t)?t.map(so):String(t)}function ao(t,e,r,n,o){return On.isFunction(n)?n.call(this,e,r):(o&&(e=r),On.isString(e)?On.isString(n)?-1!==e.indexOf(n):On.isRegExp(n)?n.test(e):void 0:void 0)}class fo{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function o(t,e,r){const o=io(e);if(!o)throw new Error("header name must be a non-empty string");const i=On.findKey(n,o);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||e]=so(t))}const i=(t,e)=>On.forEach(t,(t,r)=>o(t,r,e));if(On.isPlainObject(t)||t instanceof this.constructor)i(t,e);else if(On.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))i((t=>{const e={};let r,n,o;return t&&t.split("\n").forEach(function(t){o=t.indexOf(":"),r=t.substring(0,o).trim().toLowerCase(),n=t.substring(o+1).trim(),!r||e[r]&&no[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e})(t),e);else if(On.isObject(t)&&On.isIterable(t)){let r,n,o={};for(const e of t){if(!On.isArray(e))throw TypeError("Object iterator must return a key-value pair");o[n=e[0]]=(r=o[n])?On.isArray(r)?[...r,e[1]]:[r,e[1]]:e[1]}i(o,e)}else null!=t&&o(e,t,r);return this}get(t,e){if(t=io(t)){const r=On.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(On.isFunction(e))return e.call(this,t,r);if(On.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=io(t)){const r=On.findKey(this,t);return!(!r||void 0===this[r]||e&&!ao(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function o(t){if(t=io(t)){const o=On.findKey(r,t);!o||e&&!ao(0,r[o],o,e)||(delete r[o],n=!0)}}return On.isArray(t)?t.forEach(o):o(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const o=e[r];t&&!ao(0,this[o],o,t,!0)||(delete this[o],n=!0)}return n}normalize(t){const e=this,r={};return On.forEach(this,(n,o)=>{const i=On.findKey(r,o);if(i)return e[i]=so(n),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,r)=>e.toUpperCase()+r)}(o):String(o).trim();s!==o&&delete e[o],e[s]=so(n),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return On.forEach(this,(r,n)=>{null!=r&&!1!==r&&(e[n]=t&&On.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach(t=>r.set(t)),r}static accessor(t){const e=(this[oo]=this[oo]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=io(t);e[n]||(function(t,e){const r=On.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(t,r,o){return this[n].call(this,e,t,r,o)},configurable:!0})})}(r,t),e[n]=!0)}return On.isArray(t)?t.forEach(n):n(t),this}}fo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),On.reduceDescriptors(fo.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}}),On.freezeMethods(fo);const co=fo;function lo(t,e){const r=this||ro,n=e||r,o=co.from(n.headers);let i=n.data;return On.forEach(t,function(t){i=t.call(r,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function uo(t){return!(!t||!t.__CANCEL__)}function ho(t,e,r){kn.call(this,null==t?"canceled":t,kn.ERR_CANCELED,e,r),this.name="CanceledError"}On.inherits(ho,kn,{__CANCEL__:!0});const po=ho;function go(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new kn("Request failed with status code "+r.status,[kn.ERR_BAD_REQUEST,kn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}const yo=(t,e,r=3)=>{let n=0;const o=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const f=Date.now(),c=n[s];o||(o=f),r[i]=a,n[i]=f;let l=s,u=0;for(;l!==i;)u+=r[l++],l%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-o<e)return;const h=c&&f-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(t,e){let r,n,o=0,i=1e3/e;const s=(e,i=Date.now())=>{o=i,r=null,n&&(clearTimeout(n),n=null),t(...e)};return[(...t)=>{const e=Date.now(),a=e-o;a>=i?s(t,e):(r=t,n||(n=setTimeout(()=>{n=null,s(r)},i-a)))},()=>r&&s(r)]}(r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,a=i-n,f=o(a);n=i,t({loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:f||void 0,estimated:f&&s&&i<=s?(s-i)/f:void 0,event:r,lengthComputable:null!=s,[e?"download":"upload"]:!0})},r)},wo=(t,e)=>{const r=null!=t;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},bo=t=>(...e)=>On.asap(()=>t(...e)),mo=Qn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Qn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Qn.origin),Qn.navigator&&/(msie|trident)/i.test(Qn.navigator.userAgent)):()=>!0,Eo=Qn.hasStandardBrowserEnv?{write(t,e,r,n,o,i){const s=[t+"="+encodeURIComponent(e)];On.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),On.isString(n)&&s.push("path="+n),On.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vo(t,e,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(n||0==r)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const _o=t=>t instanceof co?{...t}:t;function Ao(t,e){e=e||{};const r={};function n(t,e,r,n){return On.isPlainObject(t)&&On.isPlainObject(e)?On.merge.call({caseless:n},t,e):On.isPlainObject(e)?On.merge({},e):On.isArray(e)?e.slice():e}function o(t,e,r,o){return On.isUndefined(e)?On.isUndefined(t)?void 0:n(void 0,t,0,o):n(t,e,0,o)}function i(t,e){if(!On.isUndefined(e))return n(void 0,e)}function s(t,e){return On.isUndefined(e)?On.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,o,i){return i in e?n(r,o):i in t?n(void 0,r):void 0}const f={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e,r)=>o(_o(t),_o(e),0,!0)};return On.forEach(Object.keys({...t,...e}),function(n){const i=f[n]||o,s=i(t[n],e[n],n);On.isUndefined(s)&&i!==a||(r[n]=s)}),r}const xo=t=>{const e=Ao({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;if(e.headers=s=co.from(s),e.url=Mn(vo(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),On.isFormData(r))if(Qn.hasStandardBrowserEnv||Qn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(On.isFunction(r.getHeaders)){const t=r.getHeaders(),e=["content-type","content-length"];Object.entries(t).forEach(([t,r])=>{e.includes(t.toLowerCase())&&s.set(t,r)})}if(Qn.hasStandardBrowserEnv&&(n&&On.isFunction(n)&&(n=n(e)),n||!1!==n&&mo(e.url))){const t=o&&i&&Eo.read(i);t&&s.set(o,t)}return e},To="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise(function(e,r){const n=xo(t);let o=n.data;const i=co.from(n.headers).normalize();let s,a,f,c,l,{responseType:u,onUploadProgress:h,onDownloadProgress:d}=n;function p(){c&&c(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;function y(){if(!g)return;const n=co.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());go(function(t){e(t),p()},function(t){r(t),p()},{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:t,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(r(new kn("Request aborted",kn.ECONNABORTED,t,g)),g=null)},g.onerror=function(e){const n=e&&e.message?e.message:"Network Error",o=new kn(n,kn.ERR_NETWORK,t,g);o.event=e||null,r(o),g=null},g.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||$n;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new kn(e,o.clarifyTimeoutError?kn.ETIMEDOUT:kn.ECONNABORTED,t,g)),g=null},void 0===o&&i.setContentType(null),"setRequestHeader"in g&&On.forEach(i.toJSON(),function(t,e){g.setRequestHeader(e,t)}),On.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),u&&"json"!==u&&(g.responseType=n.responseType),d&&([f,l]=yo(d,!0),g.addEventListener("progress",f)),h&&g.upload&&([a,c]=yo(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=e=>{g&&(r(!e||e.type?new po(null,t,g):e),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const w=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);w&&-1===Qn.protocols.indexOf(w)?r(new kn("Unsupported protocol "+w+":",kn.ERR_BAD_REQUEST,t)):g.send(o||null)})},Io=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let r,n=new AbortController;const o=function(t){if(!r){r=!0,s();const e=t instanceof Error?t:this.reason;n.abort(e instanceof kn?e:new po(e instanceof Error?e.message:e))}};let i=e&&setTimeout(()=>{i=null,o(new kn(`timeout ${e} of ms exceeded`,kn.ETIMEDOUT))},e);const s=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(o):t.removeEventListener("abort",o)}),t=null)};t.forEach(t=>t.addEventListener("abort",o));const{signal:a}=n;return a.unsubscribe=()=>On.asap(s),a}},Uo=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,o=0;for(;o<r;)n=o+e,yield t.slice(o,n),o=n},So=(t,e,r,n)=>{const o=async function*(t,e){for await(const r of async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}}(t))yield*Uo(r,e)}(t,e);let i,s=0,a=t=>{i||(i=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await o.next();if(e)return a(),void t.close();let i=n.byteLength;if(r){let t=s+=i;r(t)}t.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:t=>(a(t),o.return())},{highWaterMark:2})},{isFunction:Oo}=On,Bo=(({Request:t,Response:e})=>({Request:t,Response:e}))(On.global),{ReadableStream:Ro,TextEncoder:Lo}=On.global,ko=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},Fo=t=>{t=On.merge.call({skipUndefined:!0},Bo,t);const{fetch:e,Request:r,Response:n}=t,o=e?Oo(e):"function"==typeof fetch,i=Oo(r),s=Oo(n);if(!o)return!1;const a=o&&Oo(Ro),f=o&&("function"==typeof Lo?(c=new Lo,t=>c.encode(t)):async t=>new Uint8Array(await new r(t).arrayBuffer()));var c;const l=i&&a&&ko(()=>{let t=!1;const e=new r(Qn.origin,{body:new Ro,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),u=s&&a&&ko(()=>On.isReadableStream(new n("").body)),h={stream:u&&(t=>t.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!h[t]&&(h[t]=(e,r)=>{let n=e&&e[t];if(n)return n.call(e);throw new kn(`Response type '${t}' is not supported`,kn.ERR_NOT_SUPPORT,r)})});return async t=>{let{url:o,method:s,data:a,signal:c,cancelToken:d,timeout:p,onDownloadProgress:g,onUploadProgress:y,responseType:w,headers:b,withCredentials:m="same-origin",fetchOptions:E}=xo(t),v=e||fetch;w=w?(w+"").toLowerCase():"text";let _=Io([c,d&&d.toAbortSignal()],p),A=null;const x=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let T;try{if(y&&l&&"get"!==s&&"head"!==s&&0!==(T=await(async(t,e)=>{const n=On.toFiniteNumber(t.getContentLength());return null==n?(async t=>{if(null==t)return 0;if(On.isBlob(t))return t.size;if(On.isSpecCompliantForm(t)){const e=new r(Qn.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return On.isArrayBufferView(t)||On.isArrayBuffer(t)?t.byteLength:(On.isURLSearchParams(t)&&(t+=""),On.isString(t)?(await f(t)).byteLength:void 0)})(e):n})(b,a))){let t,e=new r(o,{method:"POST",body:a,duplex:"half"});if(On.isFormData(a)&&(t=e.headers.get("content-type"))&&b.setContentType(t),e.body){const[t,r]=wo(T,yo(bo(y)));a=So(e.body,65536,t,r)}}On.isString(m)||(m=m?"include":"omit");const e=i&&"credentials"in r.prototype,c={...E,signal:_,method:s.toUpperCase(),headers:b.normalize().toJSON(),body:a,duplex:"half",credentials:e?m:void 0};A=i&&new r(o,c);let d=await(i?v(A,E):v(o,c));const p=u&&("stream"===w||"response"===w);if(u&&(g||p&&x)){const t={};["status","statusText","headers"].forEach(e=>{t[e]=d[e]});const e=On.toFiniteNumber(d.headers.get("content-length")),[r,o]=g&&wo(e,yo(bo(g),!0))||[];d=new n(So(d.body,65536,r,()=>{o&&o(),x&&x()}),t)}w=w||"text";let I=await h[On.findKey(h,w)||"text"](d,t);return!p&&x&&x(),await new Promise((e,r)=>{go(e,r,{data:I,headers:co.from(d.headers),status:d.status,statusText:d.statusText,config:t,request:A})})}catch(e){if(x&&x(),e&&"TypeError"===e.name&&/Load failed|fetch/i.test(e.message))throw Object.assign(new kn("Network Error",kn.ERR_NETWORK,t,A),{cause:e.cause||e});throw kn.from(e,e&&e.code,t,A)}}},No=new Map,Co=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:o}=e,i=[n,o,r];let s,a,f=i.length,c=No;for(;f--;)s=i[f],a=c.get(s),void 0===a&&c.set(s,a=f?new Map:Fo(e)),c=a;return a},Do=(Co(),{http:null,xhr:To,fetch:{get:Co}});On.forEach(Do,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}});const Po=t=>`- ${t}`,jo=t=>On.isFunction(t)||null===t||!1===t,qo=(t,e)=>{t=On.isArray(t)?t:[t];const{length:r}=t;let n,o;const i={};for(let s=0;s<r;s++){let r;if(n=t[s],o=n,!jo(n)&&(o=Do[(r=String(n)).toLowerCase()],void 0===o))throw new kn(`Unknown adapter '${r}'`);if(o&&(On.isFunction(o)||(o=o.get(e))))break;i[r||"#"+s]=o}if(!o){const t=Object.entries(i).map(([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build"));let e=r?t.length>1?"since :\n"+t.map(Po).join("\n"):" "+Po(t[0]):"as no adapter specified";throw new kn("There is no suitable adapter to dispatch the request "+e,"ERR_NOT_SUPPORT")}return o};function Vo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new po(null,t)}function Ho(t){return Vo(t),t.headers=co.from(t.headers),t.data=lo.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qo(t.adapter||ro.adapter,t)(t).then(function(e){return Vo(t),e.data=lo.call(t,t.transformResponse,e),e.headers=co.from(e.headers),e},function(e){return uo(e)||(Vo(t),e&&e.response&&(e.response.data=lo.call(t,t.transformResponse,e.response),e.response.headers=co.from(e.response.headers))),Promise.reject(e)})}const zo="1.12.2",Mo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mo[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ko={};Mo.transitional=function(t,e,r){function n(t,e){return"[Axios v"+zo+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,o,i)=>{if(!1===t)throw new kn(n(o," has been removed"+(e?" in "+e:"")),kn.ERR_DEPRECATED);return e&&!Ko[o]&&(Ko[o]=!0,console.warn(n(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,o,i)}},Mo.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};const $o={assertOptions:function(t,e,r){if("object"!=typeof t)throw new kn("options must be an object",kn.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const i=n[o],s=e[i];if(s){const e=t[i],r=void 0===e||s(e,i,t);if(!0!==r)throw new kn("option "+i+" must be "+r,kn.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new kn("Unknown option "+i,kn.ERR_BAD_OPTION)}},validators:Mo},Zo=$o.validators;class Go{constructor(t){this.defaults=t||{},this.interceptors={request:new Kn,response:new Kn}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Ao(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:o}=e;void 0!==r&&$o.assertOptions(r,{silentJSONParsing:Zo.transitional(Zo.boolean),forcedJSONParsing:Zo.transitional(Zo.boolean),clarifyTimeoutError:Zo.transitional(Zo.boolean)},!1),null!=n&&(On.isFunction(n)?e.paramsSerializer={serialize:n}:$o.assertOptions(n,{encode:Zo.function,serialize:Zo.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),$o.assertOptions(e,{baseUrl:Zo.spelling("baseURL"),withXsrfToken:Zo.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=o&&On.merge(o.common,o[e.method]);o&&On.forEach(["delete","get","head","post","put","patch","common"],t=>{delete o[t]}),e.headers=co.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))});const f=[];let c;this.interceptors.response.forEach(function(t){f.push(t.fulfilled,t.rejected)});let l,u=0;if(!a){const t=[Ho.bind(this),void 0];for(t.unshift(...s),t.push(...f),l=t.length,c=Promise.resolve(e);u<l;)c=c.then(t[u++],t[u++]);return c}l=s.length;let h=e;for(;u<l;){const t=s[u++],e=s[u++];try{h=t(h)}catch(t){e.call(this,t);break}}try{c=Ho.call(this,h)}catch(t){return Promise.reject(t)}for(u=0,l=f.length;u<l;)c=c.then(f[u++],f[u++]);return c}getUri(t){return Mn(vo((t=Ao(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}On.forEach(["delete","get","head","options"],function(t){Go.prototype[t]=function(e,r){return this.request(Ao(r||{},{method:t,url:e,data:(r||{}).data}))}}),On.forEach(["post","put","patch"],function(t){function e(e){return function(r,n,o){return this.request(Ao(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Go.prototype[t]=e(),Go.prototype[t+"Form"]=e(!0)});const Yo=Go;class Wo{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(t){e=t});const r=this;this.promise.then(t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null}),this.promise.then=t=>{let e;const n=new Promise(t=>{r.subscribe(t),e=t}).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t(function(t,n,o){r.reason||(r.reason=new po(t,n,o),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new Wo(function(e){t=e}),cancel:t}}}const Jo=Wo,Xo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xo).forEach(([t,e])=>{Xo[e]=t});const Qo=Xo,ti=function t(e){const r=new Yo(e),n=Dr(Yo.prototype.request,r);return On.extend(n,Yo.prototype,r,{allOwnKeys:!0}),On.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(Ao(e,r))},n}(ro);ti.Axios=Yo,ti.CanceledError=po,ti.CancelToken=Jo,ti.isCancel=uo,ti.VERSION=zo,ti.toFormData=Pn,ti.AxiosError=kn,ti.Cancel=ti.CanceledError,ti.all=function(t){return Promise.all(t)},ti.spread=function(t){return function(e){return t.apply(null,e)}},ti.isAxiosError=function(t){return On.isObject(t)&&!0===t.isAxiosError},ti.mergeConfig=Ao,ti.AxiosHeaders=co,ti.formToJSON=t=>to(On.isHTMLForm(t)?new FormData(t):t),ti.getAdapter=qo,ti.HttpStatusCode=Qo,ti.default=ti;const ei=ti;let ri=0,ni=0;const oi=async(t,e=[],r=l.timeout,n=l.retry)=>{let o="";o=Array.isArray(l.node)&&l.node.length>0?l.node[ri]:l.node;const i=JSON.stringify({jsonrpc:"2.0",method:t,params:e,id:1});try{const t=await ii(o,i,r);return ni=0,t}catch(o){if(ni++,!Array.isArray(l.node)||ni>n)throw o;return await si(),oi(t,e,r,n)}},ii=(t,e,r)=>{const n={};null!==l.axiosAdapter&&(n.adapter=l.axiosAdapter);const o=ei.CancelToken.source();let i,s=0;return new Promise((a,f)=>{ei.post(t,e,{...n,cancelToken:o.token}).then(t=>{t&&200===t.status?(s=1,a(t.data)):f(new Error(`Unexpected response status: ${t.status}`))}).catch(t=>{f(t)}).finally(()=>{i&&clearTimeout(i)}),i=setTimeout(()=>{s||(o.cancel("Operation canceled by timeout"),f(new Error(`Network timeout: ${t}: ${e}`)))},1e3*r)})};"Deno"in globalThis&&(l.axiosAdapter=async t=>{const{method:e,url:r,headers:n,data:o,...i}=t,s=await fetch(r,{method:e,headers:new Headers(n),body:o,...i});return{data:await s.json(),status:s.status,statusText:s.statusText,headers:Object.fromEntries(s.headers.entries()),config:t,request:s}});const si=async(t=ri+1,e=0)=>{if(!Array.isArray(l.node))return;if(e>l.node.length)throw new Error(`Can't find a working node! Current nodes are: ${l.node.join(", ")}`);t>l.node.length-1&&(t=0);const r=JSON.stringify({jsonrpc:"2.0",method:"condenser_api.get_accounts",params:[["mahdiyari"]],id:189});try{const n=await ii(l.node[t],r,l.timeout);if(!(n&&189===n.id&&n.result&&n.result[0]&&"mahdiyari"===n.result[0].name))return si(t+1,e+1);ri=t}catch{return si(t+1,e+1)}},ai=setInterval(async()=>{if(!Array.isArray(l.node))return;const t=JSON.stringify({jsonrpc:"2.0",method:"condenser_api.get_accounts",params:[["mahdiyari"]],id:88885});try{const e=await ii(l.node[ri],t,l.timeout);e&&88885===e.id&&e.result&&e.result[0]&&"mahdiyari"===e.result[0].name||si()}catch{si()}},l.healthcheckInterval);ai&&ai.unref&&ai.unref();class fi{constructor(t,e,r=!0){this.data=t,this.recovery=e,this.compressed=r}static from(t){if("string"==typeof t){const e=er(t);let r=parseInt(rr(e.subarray(0,1)),16)-31,n=!0;r<0&&(n=!1,r+=4);const o=e.subarray(1);return new fi(o,r,n)}return new Error("Expected string for data")}toBuffer(){const t=new Uint8Array(65).fill(0);return this.compressed?t[0]=this.recovery+31&255:t[0]=this.recovery+27&255,t.set(this.data,1),t}customToString(){return rr(this.toBuffer())}getPublicKey(t){if(t instanceof Uint8Array&&32!==t.length)return new Error("Expected a valid sha256 hash as message");if("string"==typeof t&&64!==t.length)return new Error("Expected a valid sha256 hash as message");const e=Ye.Signature.fromCompact(this.data),r=new Ye.Signature(e.r,e.s,this.recovery);return new Je(r.recoverPublicKey(t).toRawBytes())}}const ci=new Uint8Array([128]),li=l.address_prefix;class ui{constructor(t){this.key=t;try{Ye.getPublicKey(t)}catch(t){throw new Error("invalid private key")}}static from(t){return"string"==typeof t?ui.fromString(t):new ui(t)}static fromString(t){return new ui(di(t).subarray(1))}static fromSeed(t){return new ui(Tt(t))}static fromLogin(t,e,r="active"){const n=t+r+e;return ui.fromSeed(n)}sign(t){const e=Ye.sign(t,this.key,{extraEntropy:!0,lowS:!0});return fi.from((e.recovery+31).toString(16)+e.toCompactHex())}createPublic(t=li){return new Je(Ye.getPublicKey(this.key),t)}toString(){return hi(new Uint8Array([...ci,...this.key]))}inspect(){const t=this.toString();return`PrivateKey: ${t.slice(0,6)}...${t.slice(-6)}`}getSharedSecret(t){const e=Ye.getSharedSecret(this.key,t.key);return It(e.subarray(1))}static randomKey(){return new ui(Ye.utils.randomPrivateKey())}}const hi=t=>{const e=Tt(Tt(t));return Ut.encode(new Uint8Array([...t,...e.slice(0,4)]))},di=t=>Ut.decode(t).slice(0,-4);function pi(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function gi(t,...e){if(!pi(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function yi(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wi(t,e){gi(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function bi(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function mi(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Ei=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function vi(t){if("string"==typeof t)t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t);else{if(!pi(t))throw new Error("Uint8Array expected, got "+typeof t);t=Ii(t)}return t}function _i(t,e){if(n=e,(r=t).buffer===n.buffer&&r.byteOffset<n.byteOffset+n.byteLength&&n.byteOffset<r.byteOffset+r.byteLength&&t.byteOffset<e.byteOffset)throw new Error("complex overlap of input and output is not supported");var r,n}const Ai=(t,e)=>{function r(r,...n){if(gi(r),!Ei)throw new Error("Non little-endian hardware is not yet supported");if(void 0!==t.nonceLength){const e=n[0];if(!e)throw new Error("nonce / iv required");t.varSizeNonce?gi(e):gi(e,t.nonceLength)}const o=t.tagLength;o&&void 0!==n[1]&&gi(n[1]);const i=e(r,...n),s=(t,e)=>{if(void 0!==e){if(2!==t)throw new Error("cipher output not supported");gi(e)}};let a=!1;return{encrypt(t,e){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,gi(t),s(i.encrypt.length,e),i.encrypt(t,e)},decrypt(t,e){if(gi(t),o&&t.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return s(i.decrypt.length,e),i.decrypt(t,e)}}}return Object.assign(r,t),r};function xi(t,e,r=!0){if(void 0===e)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Ti(e))throw new Error("invalid output, must be aligned");return e}function Ti(t){return t.byteOffset%4==0}function Ii(t){return Uint8Array.from(t)}const Ui=16,Si=new Uint8Array(16),Oi=bi(Si),Bi=(t,e,r,n)=>({s3:r<<31|n>>>1,s2:e<<31|r>>>1,s1:t<<31|e>>>1,s0:t>>>1^225<<24&-(1&n)}),Ri=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255;class Li{constructor(t,e){this.blockLen=Ui,this.outputLen=Ui,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,gi(t=vi(t),16);const r=(n=t,new DataView(n.buffer,n.byteOffset,n.byteLength));var n;let o=r.getUint32(0,!1),i=r.getUint32(4,!1),s=r.getUint32(8,!1),a=r.getUint32(12,!1);const f=[];for(let t=0;t<128;t++)f.push({s0:Ri(o),s1:Ri(i),s2:Ri(s),s3:Ri(a)}),({s0:o,s1:i,s2:s,s3:a}=Bi(o,i,s,a));const c=(l=e||1024)>65536?8:l>1024?4:2;var l;if(![1,2,4,8].includes(c))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=c;const u=128/c,h=this.windowSize=2**c,d=[];for(let t=0;t<u;t++)for(let e=0;e<h;e++){let r=0,n=0,o=0,i=0;for(let s=0;s<c;s++){if(!(e>>>c-s-1&1))continue;const{s0:a,s1:l,s2:u,s3:h}=f[c*t+s];r^=a,n^=l,o^=u,i^=h}d.push({s0:r,s1:n,s2:o,s3:i})}this.t=d}_updateBlock(t,e,r,n){t^=this.s0,e^=this.s1,r^=this.s2,n^=this.s3;const{W:o,t:i,windowSize:s}=this;let a=0,f=0,c=0,l=0;const u=(1<<o)-1;let h=0;for(const d of[t,e,r,n])for(let t=0;t<4;t++){const e=d>>>8*t&255;for(let t=8/o-1;t>=0;t--){const r=e>>>o*t&u,{s0:n,s1:d,s2:p,s3:g}=i[h*s+r];a^=n,f^=d,c^=p,l^=g,h+=1}}this.s0=a,this.s1=f,this.s2=c,this.s3=l}update(t){yi(this),gi(t=vi(t));const e=bi(t),r=Math.floor(t.length/Ui),n=t.length%Ui;for(let t=0;t<r;t++)this._updateBlock(e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]);return n&&(Si.set(t.subarray(r*Ui)),this._updateBlock(Oi[0],Oi[1],Oi[2],Oi[3]),mi(Oi)),this}destroy(){const{t}=this;for(const e of t)e.s0=0,e.s1=0,e.s2=0,e.s3=0}digestInto(t){yi(this),wi(t,this),this.finished=!0;const{s0:e,s1:r,s2:n,s3:o}=this,i=bi(t);return i[0]=e,i[1]=r,i[2]=n,i[3]=o,t}digest(){const t=new Uint8Array(Ui);return this.digestInto(t),this.destroy(),t}}class ki extends Li{constructor(t,e){gi(t=vi(t));const r=function(t){t.reverse();const e=1&t[15];let r=0;for(let e=0;e<t.length;e++){const n=t[e];t[e]=n>>>1|r,r=(1&n)<<7}return t[0]^=225&-e,t}(Ii(t));super(r,e),mi(r)}update(t){t=vi(t),yi(this);const e=bi(t),r=t.length%Ui,n=Math.floor(t.length/Ui);for(let t=0;t<n;t++)this._updateBlock(Ri(e[4*t+3]),Ri(e[4*t+2]),Ri(e[4*t+1]),Ri(e[4*t+0]));return r&&(Si.set(t.subarray(n*Ui)),this._updateBlock(Ri(Oi[3]),Ri(Oi[2]),Ri(Oi[1]),Ri(Oi[0])),mi(Oi)),this}digestInto(t){yi(this),wi(t,this),this.finished=!0;const{s0:e,s1:r,s2:n,s3:o}=this,i=bi(t);return i[0]=e,i[1]=r,i[2]=n,i[3]=o,t.reverse()}}function Fi(t){const e=(e,r)=>t(r,e.length).update(vi(e)).digest(),r=t(new Uint8Array(16),0);return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=(e,r)=>t(e,r),e}Fi((t,e)=>new Li(t,e)),Fi((t,e)=>new ki(t,e));const Ni=16;function Ci(t){return t<<1^283&-(t>>7)}function Di(t,e){let r=0;for(;e>0;e>>=1)r^=t&-(1&e),t=Ci(t);return r}const Pi=(()=>{const t=new Uint8Array(256);for(let e=0,r=1;e<256;e++,r^=Ci(r))t[e]=r;const e=new Uint8Array(256);e[0]=99;for(let r=0;r<255;r++){let n=t[255-r];n|=n<<8,e[t[r]]=255&(n^n>>4^n>>5^n>>6^n>>7^99)}return mi(t),e})(),ji=Pi.map((t,e)=>Pi.indexOf(e)),qi=t=>t<<24|t>>>8,Vi=t=>t<<8|t>>>24;function Hi(t,e){if(256!==t.length)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((r,n)=>e(t[n])),n=r.map(Vi),o=n.map(Vi),i=o.map(Vi),s=new Uint32Array(65536),a=new Uint32Array(65536),f=new Uint16Array(65536);for(let e=0;e<256;e++)for(let c=0;c<256;c++){const l=256*e+c;s[l]=r[e]^n[c],a[l]=o[e]^i[c],f[l]=t[e]<<8|t[c]}return{sbox:t,sbox2:f,T0:r,T1:n,T2:o,T3:i,T01:s,T23:a}}const zi=Hi(Pi,t=>Di(t,3)<<24|t<<16|t<<8|Di(t,2)),Mi=Hi(ji,t=>Di(t,11)<<24|Di(t,13)<<16|Di(t,9)<<8|Di(t,14)),Ki=(()=>{const t=new Uint8Array(16);for(let e=0,r=1;e<16;e++,r=Ci(r))t[e]=r;return t})();function $i(t){gi(t);const e=t.length;if(![16,24,32].includes(e))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+e);const{sbox2:r}=zi,n=[];Ti(t)||n.push(t=Ii(t));const o=bi(t),i=o.length,s=t=>Gi(r,t,t,t,t),a=new Uint32Array(e+28);a.set(o);for(let t=i;t<a.length;t++){let e=a[t-1];t%i===0?e=s(qi(e))^Ki[t/i-1]:i>6&&t%i===4&&(e=s(e)),a[t]=a[t-i]^e}return mi(...n),a}function Zi(t,e,r,n,o,i){return t[r<<8&65280|n>>>8&255]^e[o>>>8&65280|i>>>24&255]}function Gi(t,e,r,n,o){return t[255&e|65280&r]|t[n>>>16&255|o>>>16&65280]<<16}function Yi(t,e,r,n,o){const{sbox2:i,T01:s,T23:a}=zi;let f=0;e^=t[f++],r^=t[f++],n^=t[f++],o^=t[f++];const c=t.length/4-2;for(let i=0;i<c;i++){const i=t[f++]^Zi(s,a,e,r,n,o),c=t[f++]^Zi(s,a,r,n,o,e),l=t[f++]^Zi(s,a,n,o,e,r),u=t[f++]^Zi(s,a,o,e,r,n);e=i,r=c,n=l,o=u}return{s0:t[f++]^Gi(i,e,r,n,o),s1:t[f++]^Gi(i,r,n,o,e),s2:t[f++]^Gi(i,n,o,e,r),s3:t[f++]^Gi(i,o,e,r,n)}}function Wi(t,e,r,n,o){const{sbox2:i,T01:s,T23:a}=Mi;let f=0;e^=t[f++],r^=t[f++],n^=t[f++],o^=t[f++];const c=t.length/4-2;for(let i=0;i<c;i++){const i=t[f++]^Zi(s,a,e,o,n,r),c=t[f++]^Zi(s,a,r,e,o,n),l=t[f++]^Zi(s,a,n,r,e,o),u=t[f++]^Zi(s,a,o,n,r,e);e=i,r=c,n=l,o=u}return{s0:t[f++]^Gi(i,e,o,n,r),s1:t[f++]^Gi(i,r,e,o,n),s2:t[f++]^Gi(i,n,r,e,o),s3:t[f++]^Gi(i,o,n,r,e)}}const Ji=Ai({blockSize:16,nonceLength:16},function(t,e,r={}){const n=!r.disablePadding;return{encrypt(r,o){const i=$i(t),{b:s,o:a,out:f}=function(t,e,r){gi(t);let n=t.length;const o=n%Ni;if(!e&&0!==o)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");Ti(t)||(t=Ii(t));const i=bi(t);if(e){let t=Ni-o;t||(t=Ni),n+=t}return _i(t,r=xi(n,r)),{b:i,o:bi(r),out:r}}(r,n,o);let c=e;const l=[i];Ti(c)||l.push(c=Ii(c));const u=bi(c);let h=u[0],d=u[1],p=u[2],g=u[3],y=0;for(;y+4<=s.length;)h^=s[y+0],d^=s[y+1],p^=s[y+2],g^=s[y+3],({s0:h,s1:d,s2:p,s3:g}=Yi(i,h,d,p,g)),a[y++]=h,a[y++]=d,a[y++]=p,a[y++]=g;if(n){const t=function(t){const e=new Uint8Array(16),r=bi(e);e.set(t);const n=Ni-t.length;for(let t=Ni-n;t<Ni;t++)e[t]=n;return r}(r.subarray(4*y));h^=t[0],d^=t[1],p^=t[2],g^=t[3],({s0:h,s1:d,s2:p,s3:g}=Yi(i,h,d,p,g)),a[y++]=h,a[y++]=d,a[y++]=p,a[y++]=g}return mi(...l),f},decrypt(r,o){!function(t){if(gi(t),t.length%Ni!==0)throw new Error("aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size 16")}(r);const i=function(t){const e=$i(t),r=e.slice(),n=e.length,{sbox2:o}=zi,{T0:i,T1:s,T2:a,T3:f}=Mi;for(let t=0;t<n;t+=4)for(let o=0;o<4;o++)r[t+o]=e[n-t-4+o];mi(e);for(let t=4;t<n-4;t++){const e=r[t],n=Gi(o,e,e,e,e);r[t]=i[255&n]^s[n>>>8&255]^a[n>>>16&255]^f[n>>>24]}return r}(t);let s=e;const a=[i];Ti(s)||a.push(s=Ii(s));const f=bi(s);o=xi(r.length,o),Ti(r)||a.push(r=Ii(r)),_i(r,o);const c=bi(r),l=bi(o);let u=f[0],h=f[1],d=f[2],p=f[3];for(let t=0;t+4<=c.length;){const e=u,r=h,n=d,o=p;u=c[t+0],h=c[t+1],d=c[t+2],p=c[t+3];const{s0:s,s1:a,s2:f,s3:g}=Wi(i,u,h,d,p);l[t++]=s^e,l[t++]=a^r,l[t++]=f^n,l[t++]=g^o}return mi(...a),function(t,e){if(!e)return t;const r=t.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const n=t[r-1];if(n<=0||n>16)throw new Error("aes/pcks5: wrong padding");const o=t.subarray(0,-n);for(let e=0;e<n;e++)if(t[r-e-1]!==n)throw new Error("aes/pcks5: wrong padding");return o}(o,n)}}}),Xi=async(t,e,r,n,i)=>{const s=r instanceof BigInt?r:BigInt(r),a=t.getSharedSecret(e);let f=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN);f.writeUint64(s),f.append(a),f.flip(),f=new Uint8Array(f.toBuffer());const c=It(f),l=c.subarray(32,48),u=c.subarray(0,32),h=Tt(c).subarray(0,4),d=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN);d.append(h),d.flip();const p=d.readUint32();if(i){if(p!==i)throw new Error("Invalid key");n=await Qi(n,u,l)}else n=await ts(n,u,l);return{nonce:s,message:n,checksum:p}},Qi=async(t,e,r)=>{let n=t;const o=Ji(e,r);return n=await o.decrypt(n),n},ts=async(t,e,r)=>{let n=t;const o=Ji(e,r);return n=await o.encrypt(n),n};let es=null;const rs=t=>{const e=function(t){if(t){t.flip();const e=t.copy(t.offset,t.offset+33);return t.skip(33),new Uint8Array(e.toBuffer())}throw Error("No buffer found on first parameter")}(t);return new Je(e)};var ns;const os={Memo:(ns=[["from",rs],["to",rs],["nonce",t=>(t.flip(),t.readUint64())],["check",t=>(t.flip(),t.readUint32())],["encrypted",t=>{t.flip();const e=t.readVarint32(),r=t.copy(t.offset,t.offset+e);return t.skip(e),new Uint8Array(r.toBuffer())}]],t=>{const e={};for(const[r,n]of ns)try{t=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN).append(t),e[r]=n(t)}catch(t){throw t.message=`${r}: ${t.message}`,t}return e})},is=async(t,e,r,n)=>{if(!r.startsWith("#"))return r;r=r.substring(1),await fs(),t=cs(t),e=ls(e);const i=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN);i.writeVString(r);const s=new Uint8Array(i.copy(0,i.offset).toBuffer()),{nonce:a,message:f,checksum:c}=await((t,e,r,n=(()=>{if(null===es){const t=new Uint8Array(2);for(let e=0;e<2;++e)t[e]=Ye.utils.randomPrivateKey().at(e);es=Math.round(t[0]<<8|t[1])}let t=BigInt(Date.now());const e=++es%65535;return t=t<<BigInt(16)|BigInt(e),t})())=>Xi(t,e,n,r))(t,e,s,n),l=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN);kr.Memo(l,{check:c,encrypted:f,from:t.createPublic(),nonce:a,to:e}),l.flip();const u=new Uint8Array(l.toBuffer());return"#"+Ut.encode(u)},ss=async(t,e)=>{if(!e.startsWith("#"))return e;e=e.substring(1),await fs(),t=cs(t),e=Ut.decode(e);let r=os.Memo(e);const{from:n,to:i,nonce:s,check:a,encrypted:f}=r,c=t.createPublic().toString()===new Je(n.key).toString()?new Je(i.key):new Je(n.key);r=await(async(t,e,r,n,o)=>(await Xi(t,e,r,n,o)).message)(t,c,s,f,a);const l=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN);return l.append(r),l.flip(),"#"+l.readVString()};let as;const fs=async()=>{if(void 0===as){let t;as=!0;try{const e="5JdeC9P7Pbd1uGdFVEsJ41EkEnADbbHGq6p1BwFxm6txNBsQnsw",r="STM8m5UgaFAAYQRuaNejYdS8FVLVp9Ss3K1qAVk5de6F8s3HnVbvA",n=await is(e,r,"#memo爱");t=await ss(e,n)}finally{as="#memo爱"===t}}if(!1===as)throw new Error("This environment does not support encryption.")},cs=t=>t?t.key?t:ui.fromString(t):t,ls=t=>t?t.key?t:Je.fromString(t):t,us={decode:ss,encode:is},hs=t=>{let e="Account name should ";if(!t)return e+"not be empty.";const r=t.length;if(r<3)return e+"be longer.";if(r>16)return e+"be shorter.";/\./.test(t)&&(e="Each account segment should ");const n=t.split("."),o=n.length;for(let t=0;t<o;t++){const r=n[t];if(!/^[a-z]/.test(r))return e+"start with a lowercase letter.";if(!/^[a-z0-9-]*$/.test(r))return e+"have only lowercase letters, digits, or dashes.";if(!/[a-z0-9]$/.test(r))return e+"end with a lowercase letter or digit.";if(!(r.length>=3))return e+"be longer"}return null},ds={vote:0,comment:1,transfer:2,transfer_to_vesting:3,withdraw_vesting:4,limit_order_create:5,limit_order_cancel:6,feed_publish:7,convert:8,account_create:9,account_update:10,witness_update:11,account_witness_vote:12,account_witness_proxy:13,pow:14,custom:15,report_over_production:16,delete_comment:17,custom_json:18,comment_options:19,set_withdraw_vesting_route:20,limit_order_create2:21,claim_account:22,create_claimed_account:23,request_account_recovery:24,recover_account:25,change_recovery_account:26,escrow_transfer:27,escrow_dispute:28,escrow_release:29,pow2:30,escrow_approve:31,transfer_to_savings:32,transfer_from_savings:33,cancel_transfer_from_savings:34,custom_binary:35,decline_voting_rights:36,reset_account:37,set_reset_account:38,claim_reward_balance:39,delegate_vesting_shares:40,account_create_with_delegation:41,witness_set_properties:42,account_update2:43,create_proposal:44,update_proposal_votes:45,remove_proposal:46,update_proposal:47,collateralized_convert:48,recurrent_transfer:49,fill_convert_request:50,author_reward:51,curation_reward:52,comment_reward:53,liquidity_reward:54,interest:55,fill_vesting_withdraw:56,fill_order:57,shutdown_witness:58,fill_transfer_from_savings:59,hardfork:60,comment_payout_update:61,return_vesting_delegation:62,comment_benefactor_reward:63,producer_reward:64,clear_null_account_balance:65,proposal_pay:66,sps_fund:67,hardfork_hive:68,hardfork_hive_restore:69,delayed_voting:70,consolidate_treasury_balance:71,effective_comment_vote:72,ineffective_delete_comment:73,sps_convert:74,expired_account_notification:75,changed_recovery_account:76,transfer_to_vesting_completed:77,pow_reward:78,vesting_shares_split:79,account_created:80,fill_collateralized_convert_request:81,system_warning:82,fill_recurrent_transfer:83,failed_recurrent_transfer:84,limit_order_cancelled:85,producer_missed:86,proposal_fee:87,collateralized_convert_immediate_conversion:88,escrow_approved:89,escrow_rejected:90,proxy_cleared:91,declined_voting_rights:92},ps=t=>t.reduce(gs,[BigInt(0),BigInt(0)]).map(t=>t!==BigInt(0)?t.toString():null),gs=([t,e],r)=>r<64?[t|BigInt(1)<<BigInt(r),e]:[t,e|BigInt(1)<<BigInt(r-64)],ys=(t,e)=>{const r={extensions:[],owner:t,props:[]};for(const t of Object.keys(e)){let n;switch(t){case"key":case"new_signing_key":n=kr.PublicKey;break;case"account_subsidy_budget":case"account_subsidy_decay":case"maximum_block_size":n=kr.UInt32;break;case"hbd_interest_rate":n=kr.UInt16;break;case"url":n=kr.String;break;case"hbd_exchange_rate":n=kr.Price;break;case"account_creation_fee":n=kr.Asset;break;default:throw new Error(`Unknown witness prop: ${t}`)}r.props.push([t,ws(n,e[t])])}return r.props.sort((t,e)=>t[0].localeCompare(e[0])),["witness_set_properties",r]},ws=(t,e)=>{const r=new o(o.DEFAULT_CAPACITY,o.LITTLE_ENDIAN);return t(r,e),r.flip(),r.toString("hex")};class bs{constructor(t=null){this.created=!0,t||(this.created=!1),this.transaction=t}async create(t,e=60){return this.transaction=await(async(t,e)=>{const r=e?1e3*e:6e4,n=await(async()=>{const t=await oi("condenser_api.get_dynamic_global_properties");if(!t)throw new Error("Couldn't resolve global properties");if(t&&(!t.id||!t.result))throw new Error("Bad response @ global props");return t.result})(),o=65535&n.head_block_number,i=er(n.head_block_id),s=new DataView(i.buffer).getUint32(4,!0);return{expiration:new Date(Date.now()+r).toISOString().slice(0,-5),extensions:[],operations:t,ref_block_num:o,ref_block_prefix:s}})(t,e),this.created=!0,this.transaction}sign(t){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(this.signedTransaction){const{signedTransaction:e,txId:r}=Nr(this.signedTransaction,t);this.signedTransaction=e,this.txId=r}else{const{signedTransaction:e,txId:r}=Nr(this.transaction,t);this.signedTransaction=e,this.txId=r}return this.signedTransaction}async broadcast(t=5,e=5){if(!this.created)throw new Error("First create a transaction by .create(operations)");if(!this.signedTransaction)throw new Error("First sign the transaction by .sign(keys)");const r=await(async(t,e=l.timeout,r=l.retry)=>await oi("condenser_api.broadcast_transaction",[t],e,r))(this.signedTransaction,t,e);return r.error?r.error.message.includes("Duplicate transaction check failed")?{id:1,jsonrpc:"2.0",result:{tx_id:this.txId,status:"unkown"}}:r:(this.txId||(this.txId=this.digest().txId),{id:1,jsonrpc:"2.0",result:{tx_id:this.txId,status:"unkown"}})}digest(){if(!this.created)throw new Error("First create a transaction by .create(operations)");return Cr(this.transaction)}addSignature(t=""){if(!this.created)throw new Error("First create a transaction by .create(operations)");if("string"!=typeof t)throw new Error("Signature must be string");if(130!==t.length)throw new Error("Signature must be 130 characters long");return this.signedTransaction||(this.signedTransaction={...this.transaction}),Array.isArray(this.signedTransaction.signatures)?this.signedTransaction.signatures.push(t):this.signedTransaction.signatures=[t],this.signedTransaction}}})(),n})());
//# sourceMappingURL=hive-tx.min.js.map